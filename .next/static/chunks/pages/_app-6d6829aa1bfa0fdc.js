(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{5193:function(a,b,c){"use strict";c.d(b,{zx:function(){return x},hU:function(){return A}});var d=c(7375),e=c(6052),f=c(5031),g=c(8554),h=c.n(g),i=c(7294),j=c(6450),k=c(9238);function l(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function m(){return(m=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var n=["size","colorScheme","variant","className","spacing","isAttached","isDisabled"],o=(0,j.kr)({strict:!1,name:"ButtonGroupContext"}),p=o[0],q=o[1],r=(0,e.Gp)(function(a,b){var c=a.size,d=a.colorScheme,g=a.variant,h=a.className,j=a.spacing,k=a.isAttached,o=a.isDisabled,q=l(a,n),r=(0,f.cx)("chakra-button__group",h),s=i.useMemo(function(){return{size:c,colorScheme:d,variant:g,isDisabled:o}},[c,d,g,o]),t={display:"inline-flex"};return t=k?m({},t,{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}):m({},t,{"& > *:not(style) ~ *:not(style)":{marginStart:void 0===j?"0.5rem":j}}),i.createElement(p,{value:s},i.createElement(e.m$.div,m({ref:b,role:"group",__css:t,className:r},q)))});f.Ts&&(r.displayName="ButtonGroup");var s=["label","placement","spacing","children","className","__css"],t=function(a){var b=a.label,c=a.placement,d=a.spacing,g=void 0===d?"0.5rem":d,h=a.children,j=void 0===h?i.createElement(k.$,{color:"currentColor",width:"1em",height:"1em"}):h,n=a.className,o=a.__css,p=l(a,s),q=(0,f.cx)("chakra-button__spinner",n),r="start"===c?"marginEnd":"marginStart",t=i.useMemo(function(){var a;return m(((a={display:"flex",alignItems:"center",position:b?"relative":"absolute"})[r]=b?g:0,a.fontSize="1em",a.lineHeight="normal",a),o)},[o,b,r,g]);return i.createElement(e.m$.div,m({className:q},p,{__css:t}),j)};f.Ts&&(t.displayName="ButtonSpinner");var u=["children","className"],v=function(a){var b=a.children,c=a.className,d=l(a,u),g=i.isValidElement(b)?i.cloneElement(b,{"aria-hidden":!0,focusable:!1}):b,h=(0,f.cx)("chakra-button__icon",c);return i.createElement(e.m$.span,m({display:"inline-flex",alignSelf:"center",flexShrink:0},d,{className:h}),g)};f.Ts&&(v.displayName="ButtonIcon");var w=["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],x=(0,e.Gp)(function(a,b){var c,g,j,k,n,o=q(),p=(0,e.mq)("Button",m({},o,a)),r=(0,e.Lr)(a),s=r.isDisabled,u=void 0===s?null==o?void 0:o.isDisabled:s,v=r.isLoading,x=r.isActive,z=r.isFullWidth,A=r.children,B=r.leftIcon,C=r.rightIcon,D=r.loadingText,E=r.iconSpacing,F=void 0===E?"0.5rem":E,G=r.type,H=r.spinner,I=r.spinnerPlacement,J=void 0===I?"start":I,K=r.className,L=r.as,M=l(r,w),N=i.useMemo(function(){var a,b=h()({},null!=(a=null==p?void 0:p["_focus"])?a:{},{zIndex:1});return m({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:z?"100%":"auto"},p,!!o&&{_focus:b})},[p,o,z]),O=(c=L,j=(g=i.useState(!c))[0],k=g[1],n=i.useCallback(function(a){a&&k("BUTTON"===a.tagName)},[]),{ref:n,type:j?"button":void 0}),P=O.ref,Q=O.type,R={rightIcon:C,leftIcon:B,iconSpacing:F,children:A};return i.createElement(e.m$.button,m({disabled:u||v,ref:(0,d.qq)(b,P),as:L,type:null!=G?G:Q,"data-active":(0,f.PB)(x),"data-loading":(0,f.PB)(v),__css:N,className:(0,f.cx)("chakra-button",K)},M),v&&"start"===J&&i.createElement(t,{className:"chakra-button__spinner--start",label:D,placement:"start",spacing:F},H),v?D||i.createElement(e.m$.span,{opacity:0},i.createElement(y,R)):i.createElement(y,R),v&&"end"===J&&i.createElement(t,{className:"chakra-button__spinner--end",label:D,placement:"end",spacing:F},H))});function y(a){var b=a.leftIcon,c=a.rightIcon,d=a.children,e=a.iconSpacing;return i.createElement(i.Fragment,null,b&&i.createElement(v,{marginEnd:e},b),d,c&&i.createElement(v,{marginStart:e},c))}f.Ts&&(x.displayName="Button");var z=["icon","children","isRound","aria-label"],A=(0,e.Gp)(function(a,b){var c=a.icon,d=a.children,e=a.isRound,f=a["aria-label"],g=l(a,z),h=c||d,j=i.isValidElement(h)?i.cloneElement(h,{"aria-hidden":!0,focusable:!1}):null;return i.createElement(x,m({padding:"0",borderRadius:e?"full":void 0,ref:b,"aria-label":f},g),j)});f.Ts&&(A.displayName="IconButton")},949:function(a,b,c){"use strict";c.d(b,{SG:function(){return p},If:function(){return o},ff:function(){return s}});var d=c(5393),e=c(5031),f=c(7294);function g(){return(g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h={classList:{add:e.ZT,remove:e.ZT}},i={light:"(prefers-color-scheme: light)",dark:"(prefers-color-scheme: dark)"},j={get:function(){return document.documentElement.style.getPropertyValue("--chakra-ui-color-mode")||document.documentElement.dataset.theme},set:function(a){e.jU&&(document.documentElement.style.setProperty("--chakra-ui-color-mode",a),document.documentElement.setAttribute("data-theme",a))}},k=function(){return"undefined"!=typeof Storage},l="chakra-ui-color-mode",m={get:function(a){if(!k())return a;try{var b=localStorage.getItem(l);return null!=b?b:a}catch(c){return e.Ts&&console.log(c),a}},set:function(a){if(k())try{localStorage.setItem(l,a)}catch(b){e.Ts&&console.log(b)}},type:"localStorage"},n=f.createContext({});e.Ts&&(n.displayName="ColorModeContext");var o=function(){var a=f.useContext(n);if(void 0===a)throw new Error("useColorMode must be used within a ColorModeProvider");return a};function p(a){var b=a.value,c=a.children,g=a.options,k=g.useSystemColorMode,l=g.initialColorMode,o=a.colorModeManager,p=void 0===o?m:o,q="dark"===l?"dark":"light",r=f.useState("cookie"===p.type?p.get(q):q),s=r[0],t=r[1],u=(0,d.O)(),v=u.document;f.useEffect(function(){if(e.jU&&"localStorage"===p.type){var a,b,c=(a=q,(null!=(b=function(a){var b=null==window.matchMedia?void 0:window.matchMedia(a);if(b)return!!b.media===b.matches}(i.dark))?b:"dark"===a)?"dark":"light");if(k)return t(c);var d=j.get(),f=p.get();return d?t(d):f?t(f):"system"===l?t(c):t(q)}},[p,k,q,l]),f.useEffect(function(){var a,b,c,d="dark"===s;a=d,(c=(b=v,e.jU?b.body:h)).classList.add(a?"chakra-ui-dark":"chakra-ui-light"),c.classList.remove(a?"chakra-ui-light":"chakra-ui-dark"),j.set(d?"dark":"light")},[s,v]);var w=f.useCallback(function(a,b){if(void 0===b&&(b=!1),b){if(p.get()&&!k)return}else p.set(a);t(a)},[p,k]),x=f.useCallback(function(){w("light"===s?"dark":"light")},[s,w]);f.useEffect(function(){var a,b=k||"system"===l;return b&&(a=(function(a){if(!("matchMedia"in window))return e.ZT;var b=window.matchMedia(i.dark),c=function(){a(b.matches?"dark":"light",!0)};return b.addEventListener("change",c),function(){b.removeEventListener("change",c)}})(w)),function(){a&&b&&a()}},[w,k,l]);var y=f.useMemo(function(){return{colorMode:null!=b?b:s,toggleColorMode:b?e.ZT:x,setColorMode:b?e.ZT:w}},[s,w,x,b]);return f.createElement(n.Provider,{value:y},c)}e.Ts&&(p.displayName="ColorModeProvider");var q=function(a){var b=f.useMemo(function(){return{colorMode:"dark",toggleColorMode:e.ZT,setColorMode:e.ZT}},[]);return f.createElement(n.Provider,g({value:b},a))};e.Ts&&(q.displayName="DarkMode");var r=function(a){var b=f.useMemo(function(){return{colorMode:"light",toggleColorMode:e.ZT,setColorMode:e.ZT}},[]);return f.createElement(n.Provider,g({value:b},a))};function s(a,b){return"dark"===o().colorMode?b:a}e.Ts&&(r.displayName="LightMode")},7375:function(a,b,c){"use strict";c.d(b,{vc:function(){return k},Tx:function(){return h},qY:function(){return n},Ck:function(){return p},NW:function(){return r},Me:function(){return l},ZS:function(){return m},qq:function(){return s},O3:function(){return t},bx:function(){return v},zq:function(){return q},rf:function(){return o}});var d=c(7294),e=c(8698),f=c(640);c.n(f);var g=c(5031);function h(a){var b=a.value,c=a.defaultValue,f=a.onChange,h=a.shouldUpdate,i=(0,e.u)(f),j=(0,e.u)(void 0===h?function(a,b){return a!==b}:h),k=d.useState(c),l=k[0],m=k[1],n=void 0!==b,o=n?b:l,p=d.useCallback(function(a){var b=(0,g.Pu)(a,o);j(o,b)&&(n||m(b),i(b))},[n,i,o,j]);return[o,p]}function i(){return(i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=d.createContext({current:1}),k=d.memo(function(a){var b=a.children;return d.createElement(j.Provider,{value:{current:1}},b)});function l(a,b){var c=d.useContext(j),e=d.useState(c.current),f=e[0],g=e[1];return d.useEffect(function(){var a;g((a=c,a.current++))},[c]),d.useMemo(function(){return a||[b,f].filter(Boolean).join("-")},[a,b,f])}function m(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];var f=l(a);return d.useMemo(function(){return c.map(function(a){return a+"-"+f})},[f,c])}function n(a){void 0===a&&(a={});var b,c,f,h=a,j=h.onClose,k=h.onOpen,m=h.isOpen,n=h.id,o=(0,e.u)(k),p=(0,e.u)(j),q=d.useState(a.defaultIsOpen||!1),r=q[0],s=q[1],t=(b=m,c=r,[f=void 0!==b,f&& void 0!==b?b:c]),u=t[0],v=t[1],w=l(n,"disclosure"),x=d.useCallback(function(){u||s(!1),null==p||p()},[u,p]),y=d.useCallback(function(){u||s(!0),null==o||o()},[u,o]),z=d.useCallback(function(){(v?x:y)()},[v,y,x]);return{isOpen:!!v,onOpen:y,onClose:x,onToggle:z,isControlled:u,getButtonProps:function(a){return void 0===a&&(a={}),i({},a,{"aria-expanded":"true","aria-controls":w,onClick:(0,g.v0)(a.onClick,z)})},getDisclosureProps:function(a){return void 0===a&&(a={}),i({},a,{hidden:!v,id:w})}}}var o=function(a,b){var c=d.useRef(!1);return d.useEffect(function(){if(c.current)return a();c.current=!0},b),c.current};function p(a,b){var c=b.shouldFocus,d=b.visible,e=b.focusRef,f=c&&!d;o(function(){if(f&&!function(a){var b=a.current;if(!b)return!1;var c=(0,g.vY)(b);return!!c&& !(0,g.r3)(b,c)&&!!(0,g.Wq)(c)}(a)){var b=(null==e?void 0:e.current)||a.current;b&&(0,g.T_)(b,{nextTick:!0})}},[f,a,e])}function q(a,b){return void 0===b&&(b=[]),d.useEffect(function(){return function(){return a()}},b)}function r(){var a=d.useRef(!1),b=d.useState(0),c=b[0],e=b[1];return q(function(){a.current=!0}),d.useCallback(function(){a.current||e(c+1)},[c])}function s(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.useMemo(function(){return b.every(function(a){return null==a})?null:function(a){b.forEach(function(b){b&&(function(a,b){if(null!=a){if("function"==typeof a){a(b);return}try{a.current=b}catch(c){throw new Error("Cannot assign value '"+b+"' to ref '"+a+"'")}}})(b,a)})}},b)}function t(a){var b=a.ref,c=a.handler,f=a.enabled,h=void 0===f||f,i=(0,e.u)(c),j=(0,d.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;(0,d.useEffect)(function(){if(h){var a=function(a){u(a,b)&&(j.isPointerDown=!0)},d=function(a){if(j.ignoreEmulatedMouseEvents){j.ignoreEmulatedMouseEvents=!1;return}j.isPointerDown&&c&&u(a,b)&&(j.isPointerDown=!1,i(a))},e=function(a){j.ignoreEmulatedMouseEvents=!0,c&&j.isPointerDown&&u(a,b)&&(j.isPointerDown=!1,i(a))},f=(0,g.lZ)(b.current);return f.addEventListener("mousedown",a,!0),f.addEventListener("mouseup",d,!0),f.addEventListener("touchstart",a,!0),f.addEventListener("touchend",e,!0),function(){f.removeEventListener("mousedown",a,!0),f.removeEventListener("mouseup",d,!0),f.removeEventListener("touchstart",a,!0),f.removeEventListener("touchend",e,!0)}}},[c,b,i,j,h])}function u(a,b){var c,d=a.target;return!(a.button>0)&&(!d||!!(0,g.lZ)(d).body.contains(d))&&!(null!=(c=b.current)&&c.contains(d))}function v(a){void 0===a&&(a={});var b=a,c=b.timeout,e=void 0===c?300:c,f=b.preventDefault,g=void 0===f?function(){return!0}:f,h=d.useState([]),i=h[0],j=h[1],k=d.useRef(),l=function(){k.current&&(clearTimeout(k.current),k.current=null)},m=function(){l(),k.current=setTimeout(function(){j([]),k.current=null},e)};return d.useEffect(function(){return l},[]),function(a){return function(b){if("Backspace"===b.key){var c,d=[].concat(i);d.pop(),j(d);return}if(1===(c=b.key).length||c.length>1&&/[^a-zA-Z0-9]/.test(c)){var e=i.concat(b.key);g(b)&&(b.preventDefault(),b.stopPropagation()),j(e),a(e.join("")),m()}}}}},8698:function(a,b,c){"use strict";c.d(b,{a:function(){return f},c:function(){return h},u:function(){return g}});var d=c(5031),e=c(7294),f=d.jU?e.useLayoutEffect:e.useEffect;function g(a,b){void 0===b&&(b=[]);var c=e.useRef(a);return f(function(){c.current=a}),e.useCallback(function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return null==c.current?void 0:c.current.apply(c,b)},b)}function h(a){var b=a.isOpen,c=a.ref,f=(0,e.useState)(b),h=f[0],i=f[1],j=(0,e.useState)(!1),k=j[0],l=j[1];return(0,e.useEffect)(function(){k||(i(b),l(!0))},[b,k,h]),!function(a,b,c,f){var h=g(b);return e.useEffect(function(){var b,e=null!=(b=(0,d.Pu)(c))?b:document;return e.addEventListener(a,h,f),function(){e.removeEventListener(a,h,f)}},[a,c,f,h]),function(){var b;(null!=(b=(0,d.Pu)(c))?b:document).removeEventListener(a,h,f)}}("animationend",function(){i(b)},function(){return c.current}),{present:!(!b&& !h&&k),onComplete:function(){var a,b=new((0,d.kR)(c.current)).CustomEvent("animationend",{bubbles:!0});null==(a=c.current)||a.dispatchEvent(b)}}}},894:function(a,b,c){"use strict";c.d(b,{JO:function(){return j},IU:function(){return k}});var d=c(6052),e=c(5031),f=c(7294);function g(){return(g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=["as","viewBox","color","focusable","children","className","__css"],i={path:f.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},f.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),f.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),f.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},j=(0,d.Gp)(function(a,b){var c=a.as,j=a.viewBox,k=a.color,l=a.focusable,m=a.children,n=a.className,o=a.__css,p=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,h),q=(0,e.cx)("chakra-icon",n),r=g({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:void 0===k?"currentColor":k},o),s={ref:b,focusable:void 0!==l&&l,className:q,__css:r},t=null!=j?j:i.viewBox;if(c&&"string"!=typeof c)return f.createElement(d.m$.svg,g({as:c},s,p));var u=null!=m?m:i.path;return f.createElement(d.m$.svg,g({verticalAlign:"middle",viewBox:t},s,p),u)});function k(a){var b=a.viewBox,c=void 0===b?"0 0 24 24":b,h=a.d,i=a.displayName,k=a.defaultProps,l=void 0===k?{}:k,m=f.Children.toArray(a.path),n=(0,d.Gp)(function(a,b){return f.createElement(j,g({ref:b,viewBox:c},l,a),m.length?m:f.createElement("path",{fill:"currentColor",d:h}))});return e.Ts&&(n.displayName=i),n}e.Ts&&(j.displayName="Icon")},9876:function(a,b,c){"use strict";c.d(b,{XC:function(){return h},Uq:function(){return i},kL:function(){return f},NW:function(){return g}});var d=c(894),e=c(7294);(0,d.IU)({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"}),(0,d.IU)({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),(0,d.IU)({d:"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z",displayName:"Search2Icon"});var f=(0,d.IU)({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),g=(0,d.IU)({displayName:"SunIcon",path:e.createElement("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor"},e.createElement("circle",{cx:"12",cy:"12",r:"5"}),e.createElement("path",{d:"M12 1v2"}),e.createElement("path",{d:"M12 21v2"}),e.createElement("path",{d:"M4.22 4.22l1.42 1.42"}),e.createElement("path",{d:"M18.36 18.36l1.42 1.42"}),e.createElement("path",{d:"M1 12h2"}),e.createElement("path",{d:"M21 12h2"}),e.createElement("path",{d:"M4.22 19.78l1.42-1.42"}),e.createElement("path",{d:"M18.36 5.64l1.42-1.42"}))});(0,d.IU)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),(0,d.IU)({displayName:"SmallAddIcon",viewBox:"0 0 20 20",path:e.createElement("path",{fill:"currentColor",d:"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z",fillRule:"evenodd"})}),(0,d.IU)({viewBox:"0 0 14 14",d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z",displayName:"SettingsIcon"}),(0,d.IU)({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}),(0,d.IU)({d:"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z",displayName:"LockIcon"}),(0,d.IU)({d:"M19.5,9.5h-.75V6.75A6.751,6.751,0,0,0,5.533,4.811a1.25,1.25,0,1,0,2.395.717A4.251,4.251,0,0,1,16.25,6.75V9a.5.5,0,0,1-.5.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5Z",displayName:"UnlockIcon"}),(0,d.IU)({displayName:"ViewIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.createElement("circle",{cx:"12",cy:"12",r:"2"}))}),(0,d.IU)({displayName:"ViewOffIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.createElement("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"}))}),(0,d.IU)({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),(0,d.IU)({displayName:"DeleteIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))}),(0,d.IU)({displayName:"RepeatIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z"}),e.createElement("path",{d:"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z"}))}),(0,d.IU)({displayName:"RepeatClockIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M12.965,6a1,1,0,0,0-1,1v5.5a1,1,0,0,0,1,1h5a1,1,0,0,0,0-2h-3.75a.25.25,0,0,1-.25-.25V7A1,1,0,0,0,12.965,6Z"}),e.createElement("path",{d:"M12.567,1.258A10.822,10.822,0,0,0,2.818,8.4a.25.25,0,0,1-.271.163L.858,8.309a.514.514,0,0,0-.485.213.5.5,0,0,0-.021.53l2.679,4.7a.5.5,0,0,0,.786.107l3.77-3.746a.5.5,0,0,0-.279-.85L5.593,9.007a.25.25,0,0,1-.192-.35,8.259,8.259,0,1,1,7.866,11.59,1.25,1.25,0,0,0,.045,2.5h.047a10.751,10.751,0,1,0-.792-21.487Z"}))}),(0,d.IU)({displayName:"EditIcon",path:e.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},e.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}),(0,d.IU)({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"});var h=(0,d.IU)({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});(0,d.IU)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),(0,d.IU)({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),(0,d.IU)({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),(0,d.IU)({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),(0,d.IU)({d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z",displayName:"ArrowUpIcon"}),(0,d.IU)({viewBox:"0 0 16 16",d:"M11.891 9.992a1 1 0 1 1 1.416 1.415l-4.3 4.3a1 1 0 0 1-1.414 0l-4.3-4.3A1 1 0 0 1 4.71 9.992l3.59 3.591 3.591-3.591zm0-3.984L8.3 2.417 4.709 6.008a1 1 0 0 1-1.416-1.415l4.3-4.3a1 1 0 0 1 1.414 0l4.3 4.3a1 1 0 1 1-1.416 1.415z",displayName:"ArrowUpDownIcon"}),(0,d.IU)({d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z",displayName:"ArrowDownIcon"}),(0,d.IU)({displayName:"ExternalLinkIcon",path:e.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},e.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.createElement("path",{d:"M15 3h6v6"}),e.createElement("path",{d:"M10 14L21 3"}))}),(0,d.IU)({displayName:"LinkIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M10.458,18.374,7.721,21.11a2.853,2.853,0,0,1-3.942,0l-.892-.891a2.787,2.787,0,0,1,0-3.941l5.8-5.8a2.789,2.789,0,0,1,3.942,0l.893.892A1,1,0,0,0,14.94,9.952l-.893-.892a4.791,4.791,0,0,0-6.771,0l-5.8,5.8a4.787,4.787,0,0,0,0,6.77l.892.891a4.785,4.785,0,0,0,6.771,0l2.736-2.735a1,1,0,1,0-1.414-1.415Z"}),e.createElement("path",{d:"M22.526,2.363l-.892-.892a4.8,4.8,0,0,0-6.77,0l-2.905,2.9a1,1,0,0,0,1.414,1.414l2.9-2.9a2.79,2.79,0,0,1,3.941,0l.893.893a2.786,2.786,0,0,1,0,3.942l-5.8,5.8a2.769,2.769,0,0,1-1.971.817h0a2.766,2.766,0,0,1-1.969-.816,1,1,0,1,0-1.415,1.412,4.751,4.751,0,0,0,3.384,1.4h0a4.752,4.752,0,0,0,3.385-1.4l5.8-5.8a4.786,4.786,0,0,0,0-6.771Z"}))}),(0,d.IU)({displayName:"PlusSquareIcon",path:e.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},e.createElement("rect",{height:"18",width:"18",rx:"2",ry:"2",x:"3",y:"3"}),e.createElement("path",{d:"M12 8v8"}),e.createElement("path",{d:"M8 12h8"}))}),(0,d.IU)({displayName:"CalendarIcon",viewBox:"0 0 14 14",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"}),(0,d.IU)({d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z",displayName:"ChatIcon",viewBox:"0 0 14 14"}),(0,d.IU)({displayName:"TimeIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),e.createElement("path",{d:"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z"}))}),(0,d.IU)({displayName:"ArrowRightIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M13.584,12a2.643,2.643,0,0,1-.775,1.875L3.268,23.416a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L.768,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,13.584,12Z"}),e.createElement("path",{d:"M23.75,12a2.643,2.643,0,0,1-.775,1.875l-9.541,9.541a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L10.934,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,23.75,12Z"}))}),(0,d.IU)({displayName:"ArrowLeftIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M10.416,12a2.643,2.643,0,0,1,.775-1.875L20.732.584a1.768,1.768,0,0,1,2.5,2.5l-8.739,8.739a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5l-9.541-9.541A2.643,2.643,0,0,1,10.416,12Z"}),e.createElement("path",{d:"M.25,12a2.643,2.643,0,0,1,.775-1.875L10.566.584a1.768,1.768,0,0,1,2.5,2.5L4.327,11.823a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5L1.025,13.875A2.643,2.643,0,0,1,.25,12Z"}))}),(0,d.IU)({displayName:"AtSignIcon",d:"M12,.5A11.634,11.634,0,0,0,.262,12,11.634,11.634,0,0,0,12,23.5a11.836,11.836,0,0,0,6.624-2,1.25,1.25,0,1,0-1.393-2.076A9.34,9.34,0,0,1,12,21a9.132,9.132,0,0,1-9.238-9A9.132,9.132,0,0,1,12,3a9.132,9.132,0,0,1,9.238,9v.891a1.943,1.943,0,0,1-3.884,0V12A5.355,5.355,0,1,0,12,17.261a5.376,5.376,0,0,0,3.861-1.634,4.438,4.438,0,0,0,7.877-2.736V12A11.634,11.634,0,0,0,12,.5Zm0,14.261A2.763,2.763,0,1,1,14.854,12,2.812,2.812,0,0,1,12,14.761Z"}),(0,d.IU)({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"}),(0,d.IU)({displayName:"UpDownIcon",viewBox:"-1 -1 9 11",d:"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z"}),(0,d.IU)({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),(0,d.IU)({displayName:"EmailIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M11.114,14.556a1.252,1.252,0,0,0,1.768,0L22.568,4.87a.5.5,0,0,0-.281-.849A1.966,1.966,0,0,0,22,4H2a1.966,1.966,0,0,0-.289.021.5.5,0,0,0-.281.849Z"}),e.createElement("path",{d:"M23.888,5.832a.182.182,0,0,0-.2.039l-6.2,6.2a.251.251,0,0,0,0,.354l5.043,5.043a.75.75,0,1,1-1.06,1.061l-5.043-5.043a.25.25,0,0,0-.354,0l-2.129,2.129a2.75,2.75,0,0,1-3.888,0L7.926,13.488a.251.251,0,0,0-.354,0L2.529,18.531a.75.75,0,0,1-1.06-1.061l5.043-5.043a.251.251,0,0,0,0-.354l-6.2-6.2a.18.18,0,0,0-.2-.039A.182.182,0,0,0,0,6V18a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V6A.181.181,0,0,0,23.888,5.832Z"}))}),(0,d.IU)({d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z",displayName:"PhoneIcon",viewBox:"0 0 14 14"}),(0,d.IU)({viewBox:"0 0 10 10",d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z",displayName:"DragHandleIcon"}),(0,d.IU)({displayName:"SpinnerIcon",path:e.createElement(e.Fragment,null,e.createElement("defs",null,e.createElement("linearGradient",{x1:"28.154%",y1:"63.74%",x2:"74.629%",y2:"17.783%",id:"a"},e.createElement("stop",{stopColor:"currentColor",offset:"0%"}),e.createElement("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"}))),e.createElement("g",{transform:"translate(2)",fill:"none"},e.createElement("circle",{stroke:"url(#a)",strokeWidth:"4",cx:"10",cy:"12",r:"10"}),e.createElement("path",{d:"M10 2C4.477 2 0 6.477 0 12",stroke:"currentColor",strokeWidth:"4"}),e.createElement("rect",{fill:"currentColor",x:"8",width:"4",height:"4",rx:"8"})))}),(0,d.IU)({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),(0,d.IU)({displayName:"SmallCloseIcon",viewBox:"0 0 16 16",path:e.createElement("path",{d:"M9.41 8l2.29-2.29c.19-.18.3-.43.3-.71a1.003 1.003 0 0 0-1.71-.71L8 6.59l-2.29-2.3a1.003 1.003 0 0 0-1.42 1.42L6.59 8 4.3 10.29c-.19.18-.3.43-.3.71a1.003 1.003 0 0 0 1.71.71L8 9.41l2.29 2.29c.18.19.43.3.71.3a1.003 1.003 0 0 0 .71-1.71L9.41 8z",fillRule:"evenodd",fill:"currentColor"})}),(0,d.IU)({d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z",displayName:"NotAllowedIcon"}),(0,d.IU)({d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z",displayName:"TriangleDownIcon"}),(0,d.IU)({d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z",displayName:"TriangleUpIcon"}),(0,d.IU)({displayName:"InfoOutlineIcon",path:e.createElement("g",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"2"},e.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"11",stroke:"currentColor"}),e.createElement("line",{fill:"none",x1:"11.959",x2:"11.959",y1:"11",y2:"17"}),e.createElement("circle",{cx:"11.959",cy:"7",r:"1",stroke:"none"}))}),(0,d.IU)({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),(0,d.IU)({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}),(0,d.IU)({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,19a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,19Zm1.6-6.08a1,1,0,0,0-.6.917,1,1,0,1,1-2,0,3,3,0,0,1,1.8-2.75A2,2,0,1,0,10,9.255a1,1,0,1,1-2,0,4,4,0,1,1,5.6,3.666Z",displayName:"QuestionIcon"}),(0,d.IU)({displayName:"QuestionOutlineIcon",path:e.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},e.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.createElement("path",{fill:"none",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"}))}),(0,d.IU)({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z",displayName:"WarningIcon"}),(0,d.IU)({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),(0,d.IU)({viewBox:"0 0 14 14",path:e.createElement("g",{fill:"currentColor"},e.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))}),(0,d.IU)({displayName:"MinusIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("rect",{height:"4",width:"20",x:"2",y:"10"}))});var i=(0,d.IU)({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"})},8527:function(a,b,c){"use strict";c.d(b,{xu:function(){return r},W2:function(){return y},iz:function(){return B},kC:function(){return D},X6:function(){return H},rU:function(){return L},fG:function(){return pa},AB:function(){return oa},MI:function(){return Y},Kq:function(){return da},xv:function(){return ha}});var d=c(6052),e=c(4244),f=c(5031),g=c(7294),h=c(894),i=c(6450);function j(){return(j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function k(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var l=["ratio","children","className"],m=(0,d.Gp)(function(a,b){var c=a.ratio,e=a.children,h=a.className,i=k(a,l),m=g.Children.only(e),n=(0,f.cx)("chakra-aspect-ratio",h);return g.createElement(d.m$.div,j({ref:b,position:"relative",className:n,_before:{height:0,content:"\"\"",display:"block",paddingBottom:(0,f.XQ)(void 0===c?4/3:c,function(a){return 1/a*100+"%"})},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}}},i),m)});f.Ts&&(m.displayName="AspectRatio");var n=["className"],o=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Badge",a),e=(0,d.Lr)(a);e.className;var h=k(e,n);return g.createElement(d.m$.span,j({ref:b,className:(0,f.cx)("chakra-badge",a.className)},h,{__css:j({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},c)}))});f.Ts&&(o.displayName="Badge");var p=["size","centerContent"],q=["size"],r=(0,d.m$)("div");f.Ts&&(r.displayName="Box");var s=(0,d.Gp)(function(a,b){var c=a.size,d=a.centerContent,e=k(a,p);return g.createElement(r,j({ref:b,boxSize:c,__css:j({},void 0===d||d?{display:"flex",alignItems:"center",justifyContent:"center"}:{},{flexShrink:0,flexGrow:0})},e))});f.Ts&&(s.displayName="Square");var t=(0,d.Gp)(function(a,b){var c=a.size,d=k(a,q);return g.createElement(s,j({size:c,ref:b,borderRadius:"9999px"},d))});f.Ts&&(t.displayName="Circle");var u=(0,d.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});f.Ts&&(u.displayName="Center");var v=["className"],w=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Code",a),e=(0,d.Lr)(a);e.className;var h=k(e,v);return g.createElement(d.m$.code,j({ref:b,className:(0,f.cx)("chakra-code",a.className)},h,{__css:j({display:"inline-block"},c)}))});f.Ts&&(w.displayName="Code");var x=["className","centerContent"],y=(0,d.Gp)(function(a,b){var c=(0,d.Lr)(a),e=c.className,h=c.centerContent,i=k(c,x),l=(0,d.mq)("Container",a);return g.createElement(d.m$.div,j({ref:b,className:(0,f.cx)("chakra-container",e)},i,{__css:j({},l,h&&{display:"flex",flexDirection:"column",alignItems:"center"})}))});f.Ts&&(y.displayName="Container");var z=["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"],A=["className","orientation","__css"],B=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Divider",a),e=c.borderLeftWidth,h=c.borderBottomWidth,i=c.borderTopWidth,l=c.borderRightWidth,m=c.borderWidth,n=c.borderStyle,o=c.borderColor,p=k(c,z),q=(0,d.Lr)(a),r=q.className,s=q.orientation,t=void 0===s?"horizontal":s,u=q.__css,v=k(q,A);return g.createElement(d.m$.hr,j({ref:b,"aria-orientation":t},v,{__css:j({},p,{border:"0",borderColor:o,borderStyle:n},{vertical:{borderLeftWidth:e||l||m||"1px",height:"100%"},horizontal:{borderBottomWidth:h||i||m||"1px",width:"100%"}}[t],u),className:(0,f.cx)("chakra-divider",r)}))});f.Ts&&(B.displayName="Divider");var C=["direction","align","justify","wrap","basis","grow","shrink"],D=(0,d.Gp)(function(a,b){var c=a.direction,e=a.align,f=a.justify,h=a.wrap,i=a.basis,l=a.grow,m=a.shrink,n=k(a,C);return g.createElement(d.m$.div,j({ref:b,__css:{display:"flex",flexDirection:c,alignItems:e,justifyContent:f,flexWrap:h,flexBasis:i,flexGrow:l,flexShrink:m}},n))});f.Ts&&(D.displayName="Flex");var E=["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"],F=(0,d.Gp)(function(a,b){var c=a.area,e=a.templateAreas,f=a.gap,h=a.rowGap,i=a.columnGap,l=a.column,m=a.row,n=a.autoFlow,o=a.autoRows,p=a.templateRows,q=a.autoColumns,r=a.templateColumns,s=k(a,E);return g.createElement(d.m$.div,j({ref:b,__css:{display:"grid",gridArea:c,gridTemplateAreas:e,gridGap:f,gridRowGap:h,gridColumnGap:i,gridAutoColumns:q,gridColumn:l,gridRow:m,gridAutoFlow:n,gridAutoRows:o,gridTemplateRows:p,gridTemplateColumns:r}},s))});f.Ts&&(F.displayName="Grid");var G=["className"],H=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Heading",a),e=(0,d.Lr)(a);e.className;var h=k(e,G);return g.createElement(d.m$.h2,j({ref:b,className:(0,f.cx)("chakra-heading",a.className)},h,{__css:c}))});f.Ts&&(H.displayName="Heading");var I=["className"],J=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Kbd",a),e=(0,d.Lr)(a),h=e.className,i=k(e,I);return g.createElement(d.m$.kbd,j({ref:b,className:(0,f.cx)("chakra-kbd",h)},i,{__css:j({fontFamily:"mono"},c)}))});f.Ts&&(J.displayName="Kbd");var K=["className","isExternal"],L=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Link",a),e=(0,d.Lr)(a),h=e.className,i=e.isExternal,l=k(e,K);return g.createElement(d.m$.a,j({target:i?"_blank":void 0,rel:i?"noopener noreferrer":void 0,ref:b,className:(0,f.cx)("chakra-link",h)},l,{__css:c}))});f.Ts&&(L.displayName="Link");var M=["children","styleType","stylePosition","spacing"],N=["as"],O=["as"],P=(0,i.kr)({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in a `<*List />` "}),Q=P[0],R=P[1],S=(0,d.Gp)(function(a,b){var c,e=(0,d.jC)("List",a),f=(0,d.Lr)(a),h=f.children,l=f.styleType,m=f.stylePosition,n=f.spacing,o=k(f,M),p=(0,i.WR)(h),q=n?((c={})["& > *:not(style) ~ *:not(style)"]={mt:n},c):{};return g.createElement(Q,{value:e},g.createElement(d.m$.ul,j({ref:b,listStyleType:void 0===l?"none":l,listStylePosition:m,role:"list",__css:j({},e.container,q)},o),p))});f.Ts&&(S.displayName="List");var T=(0,d.Gp)(function(a,b){a.as;var c=k(a,N);return g.createElement(S,j({ref:b,as:"ol",styleType:"decimal",marginStart:"1em"},c))});f.Ts&&(T.displayName="OrderedList");var U=(0,d.Gp)(function(a,b){a.as;var c=k(a,O);return g.createElement(S,j({ref:b,as:"ul",styleType:"initial",marginStart:"1em"},c))});f.Ts&&(U.displayName="UnorderedList");var V=(0,d.Gp)(function(a,b){var c=R();return g.createElement(d.m$.li,j({ref:b},a,{__css:c.item}))});f.Ts&&(V.displayName="ListItem");var W=(0,d.Gp)(function(a,b){var c=R();return g.createElement(h.JO,j({ref:b,role:"presentation"},a,{__css:c.icon}))});f.Ts&&(W.displayName="ListIcon");var X=["columns","spacingX","spacingY","spacing","minChildWidth"],Y=(0,d.Gp)(function(a,b){var c=a.columns,d=a.spacingX,e=a.spacingY,f=a.spacing,h=a.minChildWidth,i=k(a,X),l=h?Z(h):$(c);return g.createElement(F,j({ref:b,gap:f,columnGap:d,rowGap:e,templateColumns:l},i))});function Z(a){return(0,f.XQ)(a,function(a){var b;return(0,f.Ft)(a)?null:"repeat(auto-fit, minmax("+(b=a,(0,f.hj)(b)?b+"px":b)+", 1fr))"})}function $(a){return(0,f.XQ)(a,function(a){return(0,f.Ft)(a)?null:"repeat("+a+", minmax(0, 1fr))"})}f.Ts&&(Y.displayName="SimpleGrid");var _=(0,d.m$)("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});f.Ts&&(_.displayName="Spacer");var aa="& > *:not(style) ~ *:not(style)",ba=["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"],ca=function(a){return g.createElement(d.m$.div,j({className:"chakra-stack__item"},a,{__css:j({display:"inline-block",flex:"0 0 auto",minWidth:0},a["__css"])}))},da=(0,d.Gp)(function(a,b){var c,e=a.isInline,h=a.direction,l=a.align,m=a.justify,n=a.spacing,o=void 0===n?"0.5rem":n,p=a.wrap,q=a.children,r=a.divider,s=a.className,t=a.shouldWrapChildren,u=k(a,ba),v=e?"row":null!=h?h:"column",w=g.useMemo(function(){var a,b,c,d,e;return c=(a={direction:v,spacing:o}).spacing,d=a.direction,e={column:{marginTop:c,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:c},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:c,marginStart:0},"row-reverse":{marginTop:0,marginEnd:c,marginBottom:0,marginStart:0}},(b={flexDirection:d})[aa]=(0,f.XQ)(d,function(a){return e[a]}),b},[v,o]),x=g.useMemo(function(){var a,b,c,d;return b=(a={spacing:o,direction:v}).spacing,c=a.direction,d={column:{my:b,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:b,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:b,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:b,my:0,borderLeftWidth:"1px",borderBottomWidth:0}},{"&":(0,f.XQ)(c,function(a){return d[a]})}},[o,v]),y=!!r,z=(0,i.WR)(q),A=t||y?z.map(function(a,b){var c=void 0!==a.key?a.key:b,d=b+1===z.length,e=g.createElement(ca,{key:c},a),f=t?e:a;if(!y)return f;var h=g.cloneElement(r,{__css:x}),i=d?null:h;return g.createElement(g.Fragment,{key:c},f,i)}):z,B=(0,f.cx)("chakra-stack",s);return g.createElement(d.m$.div,j({ref:b,display:"flex",alignItems:l,justifyContent:m,flexDirection:w.flexDirection,flexWrap:p,className:B,__css:y?{}:((c={})[aa]=w[aa],c)},u),A)});f.Ts&&(da.displayName="Stack");var ea=(0,d.Gp)(function(a,b){return g.createElement(da,j({align:"center"},a,{direction:"row",ref:b}))});f.Ts&&(ea.displayName="HStack");var fa=(0,d.Gp)(function(a,b){return g.createElement(da,j({align:"center"},a,{direction:"column",ref:b}))});f.Ts&&(fa.displayName="VStack");var ga=["className","align","decoration","casing"],ha=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Text",a),e=(0,d.Lr)(a);e.className,e.align,e.decoration,e.casing;var h=k(e,ga),i=(0,f.YU)({textAlign:a.align,textDecoration:a.decoration,textTransform:a.casing});return g.createElement(d.m$.p,j({ref:b,className:(0,f.cx)("chakra-text",a.className)},i,h,{__css:c}))});f.Ts&&(ha.displayName="Text");var ia=["spacing","children","justify","direction","align","className","shouldWrapChildren"],ja=["className"],ka=(0,d.Gp)(function(a,b){var c=a.spacing,h=void 0===c?"0.5rem":c,i=a.children,l=a.justify,m=a.direction,n=a.align,o=a.className,p=a.shouldWrapChildren,q=k(a,ia),r=g.useMemo(function(){return{"--chakra-wrap-spacing":function(a){return(0,f.XQ)(h,function(b){return(0,e.fr)("space",b)(a)})},"--wrap-spacing":"calc(var(--chakra-wrap-spacing) / 2)",display:"flex",flexWrap:"wrap",justifyContent:l,alignItems:n,flexDirection:m,listStyleType:"none",padding:"0",margin:"calc(var(--wrap-spacing) * -1)","& > *:not(style)":{margin:"var(--wrap-spacing)"}}},[h,l,n,m]),s=p?g.Children.map(i,function(a,b){return g.createElement(la,{key:b},a)}):i;return g.createElement(d.m$.div,j({ref:b,className:(0,f.cx)("chakra-wrap",o)},q),g.createElement(d.m$.ul,{className:"chakra-wrap__list",__css:r},s))});f.Ts&&(ka.displayName="Wrap");var la=(0,d.Gp)(function(a,b){var c=a.className,e=k(a,ja);return g.createElement(d.m$.li,j({ref:b,__css:{display:"flex",alignItems:"flex-start"},className:(0,f.cx)("chakra-wrap__listitem",c)},e))});f.Ts&&(la.displayName="WrapItem");var ma=["isExternal","target","rel","className"],na=["className"],oa=(0,d.Gp)(function(a,b){var c=a.isExternal,e=a.target,h=a.rel,i=a.className,l=k(a,ma);return g.createElement(d.m$.a,j({},l,{ref:b,className:(0,f.cx)("chakra-linkbox__overlay",i),rel:c?"noopener noreferrer":h,target:c?"_blank":e,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}}))}),pa=(0,d.Gp)(function(a,b){var c=a.className,e=k(a,na);return g.createElement(d.m$.div,j({ref:b,position:"relative"},e,{className:(0,f.cx)("chakra-linkbox",c),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}}))})},5393:function(a,b,c){"use strict";c.d(b,{u:function(){return k},O:function(){return j}});var d=c(5031),e=c(7294),f={body:{classList:{add:function(){},remove:function(){}}},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}}},g=function(){},h=d.jU?{window:window,document:document}:{window:{document:f,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:g,removeEventListener:g,getComputedStyle:function(){return{getPropertyValue:function(){return""}}},matchMedia:function(){return{matches:!1,addListener:g,removeListener:g}},requestAnimationFrame:function(a){return"undefined"==typeof setTimeout?(a(),null):setTimeout(a,0)},cancelAnimationFrame:function(a){"undefined"!=typeof setTimeout&&clearTimeout(a)},setTimeout:function(){return 0},clearTimeout:g,setInterval:function(){return 0},clearInterval:g},document:f},i=(0,e.createContext)(h);function j(){return(0,e.useContext)(i)}function k(a){var b=a.children,c=a.environment,d=(0,e.useState)(null),f=d[0],g=d[1],j=(0,e.useMemo)(function(){var a,b=null==f?void 0:f.ownerDocument,d=null==f?void 0:f.ownerDocument.defaultView;return null!=(a=null!=c?c:b?{document:b,window:d}:void 0)?a:h},[f,c]);return e.createElement(i.Provider,{value:j},b,!f&&!c&&e.createElement("span",{ref:function(a){a&&g(a)}}))}d.Ts&&(i.displayName="EnvironmentContext"),d.Ts&&(k.displayName="EnvironmentProvider")},6450:function(a,b,c){"use strict";c.d(b,{kr:function(){return g},WR:function(){return h},lq:function(){return f}});var d=c(5031),e=c(7294);function f(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.forEach(function(b){return(function(a,b){if(null!=a){if((0,d.mf)(a)){a(b);return}try{a.current=b}catch(c){throw new Error("Cannot assign value '"+b+"' to ref '"+a+"'")}}})(b,a)})}}function g(a){void 0===a&&(a={});var b=a,c=b.strict,d=void 0===c||c,f=b.errorMessage,g=void 0===f?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":f,h=b.name,i=e.createContext(void 0);function j(){var a=e.useContext(i);if(!a&&d){var b=new Error(g);throw b.name="ContextError",null==Error.captureStackTrace||Error.captureStackTrace(b,j),b}return a}return i.displayName=h,[i.Provider,j,i]}function h(a){return e.Children.toArray(a).filter(function(a){return e.isValidElement(a)})}},9238:function(a,b,c){"use strict";c.d(b,{"$":function(){return n}});var d=c(6052),e=c(917),f=c(5031),g={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},h=(0,d.m$)("span",{baseStyle:g});f.Ts&&(h.displayName="VisuallyHidden");var i=(0,d.m$)("input",{baseStyle:g});f.Ts&&(i.displayName="VisuallyHiddenInput");var j=c(7294);function k(){return(k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var l=["label","thickness","speed","emptyColor","className"],m=(0,e.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),n=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Spinner",a),e=(0,d.Lr)(a),g=e.label,i=void 0===g?"Loading...":g,n=e.thickness,o=e.speed,p=e.emptyColor,q=void 0===p?"transparent":p,r=e.className,s=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(e,l),t=(0,f.cx)("chakra-spinner",r),u=k({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:void 0===n?"2px":n,borderBottomColor:q,borderLeftColor:q,animation:m+" "+(void 0===o?"0.45s":o)+" linear infinite"},c);return j.createElement(d.m$.div,k({ref:b,__css:u,className:t},s),i&&j.createElement(h,null,i))});f.Ts&&(n.displayName="Spinner")},4244:function(a,b,c){"use strict";c.d(b,{iv:function(){return ma},ZR:function(){return ka},cC:function(){return ia},c0:function(){return za},fr:function(){return j}});var d,e,f=c(5031),g=c(8554),h=c.n(g);function i(){return(i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a,b){return function(c){var d=String(b),e=a?a+"."+d:d;return(0,f.Kn)(c.__cssMap)&&e in c.__cssMap?c.__cssMap[e].varRef:b}};function k(a){var b=a.scale,c=a.transform,d=a.compose;return function(a,e){var f,g=j(b,a)(e),h=null!=(f=null==c?void 0:c(g,e))?f:g;return d&&(h=d(h,e)),h}}function l(a,b){return function(c){var d={property:c,scale:a};return d.transform=k({scale:a,transform:b}),d}}var m=function(a){var b=a.rtl,c=a.ltr;return function(a){return"rtl"===a.direction?b:c}},n=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],o={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:"var(--chakra-blur) var(--chakra-brightness) var(--chakra-contrast) var(--chakra-grayscale) var(--chakra-hue-rotate) var(--chakra-invert) var(--chakra-saturate) var(--chakra-sepia) var(--chakra-drop-shadow)"},p={backdropFilter:"var(--chakra-backdrop-blur) var(--chakra-backdrop-brightness) var(--chakra-backdrop-contrast) var(--chakra-backdrop-grayscale) var(--chakra-backdrop-hue-rotate) var(--chakra-backdrop-invert) var(--chakra-backdrop-opacity) var(--chakra-backdrop-saturate) var(--chakra-backdrop-sepia)","--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},q={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},r="& > :not(style) ~ :not(style)",s=((d={})[r]={marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"},d),t=((e={})[r]={marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"},e);function u(a,b){return(u=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function v(){v=function(a,b){return new c(a,void 0,b)};var a=RegExp.prototype,b=new WeakMap();function c(a,d,e){var f=new RegExp(a,d);return b.set(f,e||b.get(a)),u(f,c.prototype)}function d(a,c){var d=b.get(c);return Object.keys(d).reduce(function(b,c){return b[c]=a[d[c]],b},Object.create(null))}return!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&u(a,b)}(c,RegExp),c.prototype.exec=function(b){var c=a.exec.call(this,b);return c&&(c.groups=d(c,this)),c},c.prototype[Symbol.replace]=function(c,e){if("string"==typeof e){var f=b.get(this);return a[Symbol.replace].call(this,c,e.replace(/\$<([^>]+)>/g,function(a,b){return"$"+f[b]}))}if("function"!=typeof e)return a[Symbol.replace].call(this,c,e);var g=this;return a[Symbol.replace].call(this,c,function(){var a=arguments;return"object"!=typeof a[a.length-1]&&(a=[].slice.call(a)).push(d(a,g)),e.apply(this,a)})},v.apply(this,arguments)}var w={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},x=new Set(Object.values(w)),y=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),z=function(a){return a.trim()},A=function(a){return(0,f.HD)(a)&&a.includes("(")&&a.includes(")")},B=function(a){var b=parseFloat(a.toString()),c=a.toString().replace(String(b),"");return{unitless:!c,value:b,unit:c}},C=function(a){return function(b){return a+"("+b+")"}},D={filter:function(a){return"auto"!==a?a:o},backdropFilter:function(a){return"auto"!==a?a:p},ring:function(a){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":D.px(a),boxShadow:"var(--chakra-ring-offset-shadow), var(--chakra-ring-shadow), var(--chakra-shadow, 0 0 #0000)"}},bgClip:function(a){return"text"===a?{color:"transparent",backgroundClip:"text"}:{backgroundClip:a}},transform:function(a){return"auto"===a?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(n).join(" "):"auto-gpu"===a?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(n).join(" "):a},px:function(a){return null==a?a:B(a).unitless||(0,f.hj)(a)?a+"px":a},fraction:function(a){return!(0,f.hj)(a)||a>1?a:100*a+"%"},"float":function(a,b){return"rtl"===b.direction?({left:"right",right:"left"})[a]:a},degree:function(a){if((0,f.FS)(a)||null==a)return a;var b=(0,f.HD)(a)&&!a.endsWith("deg");return(0,f.hj)(a)||b?a+"deg":a},gradient:function(a,b){return(function(a,b){if(null==a||y.has(a))return a;var c,d,e=null!=(c=null==(d=v(/(^[\x2DA-Za-z]+)\(((.*))\)/g,{type:1,values:2}).exec(a))?void 0:d.groups)?c:{},f=e.type,g=e.values;if(!f||!g)return a;var h=f.includes("-gradient")?f:f+"-gradient",i=g.split(",").map(z).filter(Boolean),j=i[0],k=i.slice(1);if((null==k?void 0:k.length)===0)return a;var l=j in w?w[j]:j;return k.unshift(l),h+"("+k.map(function(a){if(x.has(a))return a;var c=a.indexOf(" "),d=-1!==c?[a.substr(0,c),a.substr(c+1)]:[a],e=d[0],f=d[1],g=A(f)?f:f&&f.split(" "),h="colors."+e,i=h in b.__cssMap?b.__cssMap[h].varRef:e;return g?[i].concat(Array.isArray(g)?g:[g]).join(" "):i}).join(", ")+")"})(a,null!=b?b:{})},blur:C("blur"),opacity:C("opacity"),brightness:C("brightness"),contrast:C("contrast"),dropShadow:C("drop-shadow"),grayscale:C("grayscale"),hueRotate:C("hue-rotate"),invert:C("invert"),saturate:C("saturate"),sepia:C("sepia"),bgImage:function(a){return null==a?a:A(a)||y.has(a)?a:"url("+a+")"},outline:function(a){var b="0"===String(a)||"none"===String(a);return null!==a&&b?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:a}},flexDirection:function(a){var b,c=null!=(b=q[a])?b:{},d=c.space,e=c.divide,f={flexDirection:a};return d&&(f[d]=1),e&&(f[e]=1),f}},E={borderWidths:l("borderWidths"),borderStyles:l("borderStyles"),colors:l("colors"),borders:l("borders"),radii:l("radii",D.px),space:l("space",D.px),spaceT:l("space",D.px),degreeT:function(a){return{property:a,transform:D.degree}},prop:function(a,b,c){return i({property:a,scale:b},b&&{transform:k({scale:b,transform:c})})},propT:function(a,b){return{property:a,transform:b}},sizes:l("sizes",D.px),sizesT:l("sizes",D.fraction),shadows:l("shadows"),logical:function(a){var b=a.property,c=a.scale,d=a.transform;return{scale:c,property:m(b),transform:c?k({scale:c,compose:d}):d}},blur:l("blur",D.blur)},F={background:E.colors("background"),backgroundColor:E.colors("backgroundColor"),backgroundImage:E.propT("backgroundImage",D.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:D.bgClip},bgSize:E.prop("backgroundSize"),bgPosition:E.prop("backgroundPosition"),bg:E.colors("background"),bgColor:E.colors("backgroundColor"),bgPos:E.prop("backgroundPosition"),bgRepeat:E.prop("backgroundRepeat"),bgAttachment:E.prop("backgroundAttachment"),bgGradient:E.propT("backgroundImage",D.gradient),bgClip:{transform:D.bgClip}};Object.assign(F,{bgImage:F.backgroundImage,bgImg:F.backgroundImage});var G={border:E.borders("border"),borderWidth:E.borderWidths("borderWidth"),borderStyle:E.borderStyles("borderStyle"),borderColor:E.colors("borderColor"),borderRadius:E.radii("borderRadius"),borderTop:E.borders("borderTop"),borderBlockStart:E.borders("borderBlockStart"),borderTopLeftRadius:E.radii("borderTopLeftRadius"),borderStartStartRadius:E.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:E.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:E.radii("borderTopRightRadius"),borderStartEndRadius:E.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:E.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:E.borders("borderRight"),borderInlineEnd:E.borders("borderInlineEnd"),borderBottom:E.borders("borderBottom"),borderBlockEnd:E.borders("borderBlockEnd"),borderBottomLeftRadius:E.radii("borderBottomLeftRadius"),borderBottomRightRadius:E.radii("borderBottomRightRadius"),borderLeft:E.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:E.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:E.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:E.borders(["borderLeft","borderRight"]),borderInline:E.borders("borderInline"),borderY:E.borders(["borderTop","borderBottom"]),borderBlock:E.borders("borderBlock"),borderTopWidth:E.borderWidths("borderTopWidth"),borderBlockStartWidth:E.borderWidths("borderBlockStartWidth"),borderTopColor:E.colors("borderTopColor"),borderBlockStartColor:E.colors("borderBlockStartColor"),borderTopStyle:E.borderStyles("borderTopStyle"),borderBlockStartStyle:E.borderStyles("borderBlockStartStyle"),borderBottomWidth:E.borderWidths("borderBottomWidth"),borderBlockEndWidth:E.borderWidths("borderBlockEndWidth"),borderBottomColor:E.colors("borderBottomColor"),borderBlockEndColor:E.colors("borderBlockEndColor"),borderBottomStyle:E.borderStyles("borderBottomStyle"),borderBlockEndStyle:E.borderStyles("borderBlockEndStyle"),borderLeftWidth:E.borderWidths("borderLeftWidth"),borderInlineStartWidth:E.borderWidths("borderInlineStartWidth"),borderLeftColor:E.colors("borderLeftColor"),borderInlineStartColor:E.colors("borderInlineStartColor"),borderLeftStyle:E.borderStyles("borderLeftStyle"),borderInlineStartStyle:E.borderStyles("borderInlineStartStyle"),borderRightWidth:E.borderWidths("borderRightWidth"),borderInlineEndWidth:E.borderWidths("borderInlineEndWidth"),borderRightColor:E.colors("borderRightColor"),borderInlineEndColor:E.colors("borderInlineEndColor"),borderRightStyle:E.borderStyles("borderRightStyle"),borderInlineEndStyle:E.borderStyles("borderInlineEndStyle"),borderTopRadius:E.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:E.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:E.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:E.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(G,{rounded:G.borderRadius,roundedTop:G.borderTopRadius,roundedTopLeft:G.borderTopLeftRadius,roundedTopRight:G.borderTopRightRadius,roundedTopStart:G.borderStartStartRadius,roundedTopEnd:G.borderStartEndRadius,roundedBottom:G.borderBottomRadius,roundedBottomLeft:G.borderBottomLeftRadius,roundedBottomRight:G.borderBottomRightRadius,roundedBottomStart:G.borderEndStartRadius,roundedBottomEnd:G.borderEndEndRadius,roundedLeft:G.borderLeftRadius,roundedRight:G.borderRightRadius,roundedStart:G.borderInlineStartRadius,roundedEnd:G.borderInlineEndRadius,borderStart:G.borderInlineStart,borderEnd:G.borderInlineEnd,borderTopStartRadius:G.borderStartStartRadius,borderTopEndRadius:G.borderStartEndRadius,borderBottomStartRadius:G.borderEndStartRadius,borderBottomEndRadius:G.borderEndEndRadius,borderStartRadius:G.borderInlineStartRadius,borderEndRadius:G.borderInlineEndRadius,borderStartWidth:G.borderInlineStartWidth,borderEndWidth:G.borderInlineEndWidth,borderStartColor:G.borderInlineStartColor,borderEndColor:G.borderInlineEndColor,borderStartStyle:G.borderInlineStartStyle,borderEndStyle:G.borderInlineEndStyle});var H={color:E.colors("color"),textColor:E.colors("color"),fill:E.colors("fill"),stroke:E.colors("stroke")},I={boxShadow:E.shadows("boxShadow"),mixBlendMode:!0,blendMode:E.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:E.prop("backgroundBlendMode"),opacity:!0};Object.assign(I,{shadow:I.boxShadow});var J={filter:{transform:D.filter},blur:E.blur("--chakra-blur"),brightness:E.propT("--chakra-brightness",D.brightness),contrast:E.propT("--chakra-contrast",D.contrast),hueRotate:E.degreeT("--chakra-hue-rotate"),invert:E.propT("--chakra-invert",D.invert),saturate:E.propT("--chakra-saturate",D.saturate),dropShadow:E.propT("--chakra-drop-shadow",D.dropShadow),backdropFilter:{transform:D.backdropFilter},backdropBlur:E.blur("--chakra-backdrop-blur"),backdropBrightness:E.propT("--chakra-backdrop-brightness",D.brightness),backdropContrast:E.propT("--chakra-backdrop-contrast",D.contrast),backdropHueRotate:E.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:E.propT("--chakra-backdrop-invert",D.invert),backdropSaturate:E.propT("--chakra-backdrop-saturate",D.saturate)},K={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:D.flexDirection},experimental_spaceX:{static:s,transform:k({scale:"space",transform:function(a){return null!==a?{"--chakra-space-x":a}:null}})},experimental_spaceY:{static:t,transform:k({scale:"space",transform:function(a){return null!=a?{"--chakra-space-y":a}:null}})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:E.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:E.space("gap"),rowGap:E.space("rowGap"),columnGap:E.space("columnGap")};Object.assign(K,{flexDir:K.flexDirection});var L={gridGap:E.space("gridGap"),gridColumnGap:E.space("gridColumnGap"),gridRowGap:E.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},M={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:D.outline},outlineOffset:!0,outlineColor:E.colors("outlineColor")},N={width:E.sizesT("width"),inlineSize:E.sizesT("inlineSize"),height:E.sizes("height"),blockSize:E.sizes("blockSize"),boxSize:E.sizes(["width","height"]),minWidth:E.sizes("minWidth"),minInlineSize:E.sizes("minInlineSize"),minHeight:E.sizes("minHeight"),minBlockSize:E.sizes("minBlockSize"),maxWidth:E.sizes("maxWidth"),maxInlineSize:E.sizes("maxInlineSize"),maxHeight:E.sizes("maxHeight"),maxBlockSize:E.sizes("maxBlockSize"),d:E.prop("display"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,"float":E.propT("float",D.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(N,{w:N.width,h:N.height,minW:N.minWidth,maxW:N.maxWidth,minH:N.minHeight,maxH:N.maxHeight,overscroll:N.overscrollBehavior,overscrollX:N.overscrollBehaviorX,overscrollY:N.overscrollBehaviorY});var O={listStyleType:!0,listStylePosition:!0,listStylePos:E.prop("listStylePosition"),listStyleImage:!0,listStyleImg:E.prop("listStyleImage")},P={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Q={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},R=function(a,b,c){var d={},e=(0,f.Wf)(a,b,{});for(var g in e)g in c&&null!=c[g]||(d[g]=e[g]);return d},S={position:!0,pos:E.prop("position"),zIndex:E.prop("zIndex","zIndices"),inset:E.spaceT("inset"),insetX:E.spaceT(["left","right"]),insetInline:E.spaceT("insetInline"),insetY:E.spaceT(["top","bottom"]),insetBlock:E.spaceT("insetBlock"),top:E.spaceT("top"),insetBlockStart:E.spaceT("insetBlockStart"),bottom:E.spaceT("bottom"),insetBlockEnd:E.spaceT("insetBlockEnd"),left:E.spaceT("left"),insetInlineStart:E.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:E.spaceT("right"),insetInlineEnd:E.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(S,{insetStart:S.insetInlineStart,insetEnd:S.insetInlineEnd});var T={ring:{transform:D.ring},ringColor:E.colors("--chakra-ring-color"),ringOffset:E.prop("--chakra-ring-offset-width"),ringOffsetColor:E.colors("--chakra-ring-offset-color"),ringInset:E.prop("--chakra-ring-inset")},U={margin:E.spaceT("margin"),marginTop:E.spaceT("marginTop"),marginBlockStart:E.spaceT("marginBlockStart"),marginRight:E.spaceT("marginRight"),marginInlineEnd:E.spaceT("marginInlineEnd"),marginBottom:E.spaceT("marginBottom"),marginBlockEnd:E.spaceT("marginBlockEnd"),marginLeft:E.spaceT("marginLeft"),marginInlineStart:E.spaceT("marginInlineStart"),marginX:E.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:E.spaceT("marginInline"),marginY:E.spaceT(["marginTop","marginBottom"]),marginBlock:E.spaceT("marginBlock"),padding:E.space("padding"),paddingTop:E.space("paddingTop"),paddingBlockStart:E.space("paddingBlockStart"),paddingRight:E.space("paddingRight"),paddingBottom:E.space("paddingBottom"),paddingBlockEnd:E.space("paddingBlockEnd"),paddingLeft:E.space("paddingLeft"),paddingInlineStart:E.space("paddingInlineStart"),paddingInlineEnd:E.space("paddingInlineEnd"),paddingX:E.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:E.space("paddingInline"),paddingY:E.space(["paddingTop","paddingBottom"]),paddingBlock:E.space("paddingBlock")};Object.assign(U,{m:U.margin,mt:U.marginTop,mr:U.marginRight,me:U.marginInlineEnd,marginEnd:U.marginInlineEnd,mb:U.marginBottom,ml:U.marginLeft,ms:U.marginInlineStart,marginStart:U.marginInlineStart,mx:U.marginX,my:U.marginY,p:U.padding,pt:U.paddingTop,py:U.paddingY,px:U.paddingX,pb:U.paddingBottom,pl:U.paddingLeft,ps:U.paddingInlineStart,paddingStart:U.paddingInlineStart,pr:U.paddingRight,pe:U.paddingInlineEnd,paddingEnd:U.paddingInlineEnd});var V={textDecorationColor:E.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:E.shadows("textShadow")},W={clipPath:!0,transform:E.propT("transform",D.transform),transformOrigin:!0,translateX:E.spaceT("--chakra-translate-x"),translateY:E.spaceT("--chakra-translate-y"),skewX:E.degreeT("--chakra-skew-x"),skewY:E.degreeT("--chakra-skew-y"),scaleX:E.prop("--chakra-scale-x"),scaleY:E.prop("--chakra-scale-y"),scale:E.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:E.degreeT("--chakra-rotate")},X={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:E.prop("transitionDuration","transition.duration"),transitionProperty:E.prop("transitionProperty","transition.property"),transitionTimingFunction:E.prop("transitionTimingFunction","transition.easing")},Y={fontFamily:E.prop("fontFamily","fonts"),fontSize:E.prop("fontSize","fontSizes",D.px),fontWeight:E.prop("fontWeight","fontWeights"),lineHeight:E.prop("lineHeight","lineHeights"),letterSpacing:E.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"},isTruncated:{transform:function(a){if(!0===a)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}},Z={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:E.spaceT("scrollMargin"),scrollMarginTop:E.spaceT("scrollMarginTop"),scrollMarginBottom:E.spaceT("scrollMarginBottom"),scrollMarginLeft:E.spaceT("scrollMarginLeft"),scrollMarginRight:E.spaceT("scrollMarginRight"),scrollMarginX:E.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:E.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:E.spaceT("scrollPadding"),scrollPaddingTop:E.spaceT("scrollPaddingTop"),scrollPaddingBottom:E.spaceT("scrollPaddingBottom"),scrollPaddingLeft:E.spaceT("scrollPaddingLeft"),scrollPaddingRight:E.spaceT("scrollPaddingRight"),scrollPaddingX:E.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:E.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function $(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function _(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(c)return(c=c.call(a)).next.bind(c);if(Array.isArray(a)||(c=(function(a,b){if(a){if("string"==typeof a)return $(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return $(a,b)}})(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0;return function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var aa={hover:function(a,b){return a+":hover "+b+", "+a+"[data-hover] "+b},focus:function(a,b){return a+":focus "+b+", "+a+"[data-focus] "+b},focusVisible:function(a,b){return a+":focus-visible "+b},focusWithin:function(a,b){return a+":focus-within "+b},active:function(a,b){return a+":active "+b+", "+a+"[data-active] "+b},disabled:function(a,b){return a+":disabled "+b+", "+a+"[data-disabled] "+b},invalid:function(a,b){return a+":invalid "+b+", "+a+"[data-invalid] "+b},checked:function(a,b){return a+":checked "+b+", "+a+"[data-checked] "+b},indeterminate:function(a,b){return a+":indeterminate "+b+", "+a+"[aria-checked=mixed] "+b+", "+a+"[data-indeterminate] "+b},readOnly:function(a,b){return a+":read-only "+b+", "+a+"[readonly] "+b+", "+a+"[data-read-only] "+b},expanded:function(a,b){return a+":read-only "+b+", "+a+"[aria-expanded=true] "+b+", "+a+"[data-expanded] "+b},placeholderShown:function(a,b){return a+":placeholder-shown "+b}},ba=function(a){return da(function(b){return a(b,"&")},"[role=group]","[data-group]",".group")},ca=function(a){return da(function(b){return a(b,"~ &")},"[data-peer]",".peer")},da=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.map(a).join(", ")},ea={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible",_disabled:"&[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:ba(aa.hover),_peerHover:ca(aa.hover),_groupFocus:ba(aa.focus),_peerFocus:ca(aa.focus),_groupFocusVisible:ba(aa.focusVisible),_peerFocusVisible:ca(aa.focusVisible),_groupActive:ba(aa.active),_peerActive:ca(aa.active),_groupDisabled:ba(aa.disabled),_peerDisabled:ca(aa.disabled),_groupInvalid:ba(aa.invalid),_peerInvalid:ca(aa.invalid),_groupChecked:ba(aa.checked),_peerChecked:ca(aa.checked),_groupFocusWithin:ba(aa.focusWithin),_peerFocusWithin:ca(aa.focusWithin),_peerPlaceholderShown:ca(aa.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &, [data-theme=dark] &, &[data-theme=dark]",_light:".chakra-ui-light &, [data-theme=light] &, &[data-theme=light]"},fa=(0,f.Yd)(ea),ga=h()({},F,G,H,K,N,J,T,M,L,{srOnly:{transform:function(a){return!0===a?P:"focusable"===a?Q:{}}},layerStyle:{processResult:!0,transform:function(a,b,c){return R(b,"layerStyles."+a,c)}},textStyle:{processResult:!0,transform:function(a,b,c){return R(b,"textStyles."+a,c)}},apply:{processResult:!0,transform:function(a,b,c){return R(b,a,c)}}},S,I,U,Z,Y,V,W,O,X),ha=Object.assign({},U,N,K,L,S);(0,f.Yd)(ha);var ia=[].concat((0,f.Yd)(ga),fa),ja=i({},ga,ea),ka=function(a){return a in ja},la=function(a,b){if(null==b)return b;var c,d,e=function(b){var c,d;return null==(c=a.__cssMap)?void 0:null==(d=c[b])?void 0:d.varRef},f=function(a){var b;return null!=(b=e(a))?b:a},g=b.split(",").map(function(a){return a.trim()}),h=g[0],i=g[1];return b=null!=(c=null!=(d=e(h))?d:f(i))?c:f(b)},ma=function(a){return function(b){var c,d,e,g,i,j;return(e=void 0===(d=(c={theme:b,pseudos:ea,configs:ga}).configs)?{}:d,g=c.pseudos,i=void 0===g?{}:g,j=c.theme,function a(b,c){void 0===c&&(c=!1);var d,g=(0,f.Pu)(b,j),k=(d=g,function(a){if(!a.__breakpoints)return d;var b=a.__breakpoints,c=b.isResponsive,e=b.toArrayValue,g=b.media,h={};for(var i in d){var j=(0,f.Pu)(d[i],a);if(null!=j){if(j=(0,f.Kn)(j)&&c(j)?e(j):j,!Array.isArray(j)){h[i]=j;continue}for(var k=j.slice(0,g.length).length,l=0;l<k;l+=1){var m=null==g?void 0:g[l];if(!m){h[i]=j[l];continue}h[m]=h[m]||{},null!=j[l]&&(h[m][i]=j[l])}}}return h})(j),l={};for(var m in k){var n,o,p=k[m],q=(0,f.Pu)(p,j);m in i&&(m=i[m]),n=m,o=q,n.startsWith("--")&&(0,f.HD)(o)&&!(0,f.FS)(o)&&(q=la(j,q));var r=e[m];if(!0===r&&(r={property:m}),(0,f.Kn)(q)){l[m]=null!=(A=l[m])?A:{},l[m]=h()({},l[m],a(q,!0));continue}var s=null!=(v=null==(w=r)?void 0:null==w.transform?void 0:w.transform(q,j,g))?v:q;s=null!=(x=r)&&x.processResult?a(s,!0):s;var t=(0,f.Pu)(null==(y=r)?void 0:y.property,j);if(!c&&null!=(z=r)&&z.static){var u=(0,f.Pu)(r.static,j);l=h()({},l,u)}if(t&&Array.isArray(t)){for(var v,w,x,y,z,A,B,C=_(t);!(B=C()).done;)l[B.value]=s;continue}if(t){"&"===t&&(0,f.Kn)(s)?l=h()({},l,s):l[t]=s;continue}if((0,f.Kn)(s)){l=h()({},l,s);continue}l[m]=s}return l})(a)}};function na(a){return(0,f.Kn)(a)&&a.reference?a.reference:String(a)}var oa=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.map(na).join(" "+a+" ").replace(/calc/g,"")},pa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+oa.apply(void 0,["+"].concat(b))+")"},qa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+oa.apply(void 0,["-"].concat(b))+")"},ra=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+oa.apply(void 0,["*"].concat(b))+")"},sa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+oa.apply(void 0,["/"].concat(b))+")"},ta=function(a){var b=na(a);return null==b||Number.isNaN(parseFloat(b))?ra(b,-1):String(b).startsWith("-")?String(b).slice(1):"-"+b},ua=Object.assign(function(a){return{add:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ua(pa.apply(void 0,[a].concat(c)))},subtract:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ua(qa.apply(void 0,[a].concat(c)))},multiply:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ua(ra.apply(void 0,[a].concat(c)))},divide:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ua(sa.apply(void 0,[a].concat(c)))},negate:function(){return ua(ta(a))},toString:function(){return a.toString()}}},{add:pa,subtract:qa,multiply:ra,divide:sa,negate:ta});function va(a){var b,c=(void 0===b&&(b="-"),a.toString().replace(/\s+/g,b));return c.includes("\\.")?a:Number.isInteger(parseFloat(a.toString()))?a:c.replace(".","\\.")}function wa(a,b){var c,d,e,f,g,h,i,j,k,l;return c=String(a).replace(/\./g,"-"),d=void 0,e=b,{variable:j=(f=c,void 0===(g=e)&&(g=""),"--"+(h=f,void 0===(i=g)&&(i=""),[i,va(h)].filter(Boolean).join("-"))),reference:(k=j,l=d,"var("+va(k)+(l?", "+l:"")+")")}}var xa=["__cssMap","__cssVars","__breakpoints"],ya=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function za(a){var b,c,d,e,g,j,k,l,m,n,o=((b=a).__cssMap,b.__cssVars,b.__breakpoints,function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(b,xa)),p=(d=o,(0,f.ei)(d,ya)),q=o.semanticTokens,r=(k=(e={tokens:p,semanticTokens:q}).tokens,l=e.semanticTokens,m=Object.entries(null!=(g=(0,f.xH)(k))?g:{}).map(function(a){var b=a[0],c=a[1];return[b,{isSemantic:!1,value:c}]}),n=Object.entries(null!=(j=(0,f.xH)(l,1))?j:{}).map(function(a){var b=a[0],c=a[1];return[b,{isSemantic:!0,value:c}]}),(0,f.sq)([].concat(m,n))),s=null==(c=o.config)?void 0:c.cssVarPrefix,t=function(a,b){for(var c={},d={},e=function(){var e=i[g],j=e[0],k=e[1],l=k.isSemantic,m=k.value,n=wa(j,null==b?void 0:b.cssVarPrefix),o=n.variable,p=n.reference;if(!l){if(j.startsWith("space")){var q=j.split("."),r=q[0],s=q.slice(1),t=r+".-"+s.join("."),u=ua.negate(m),v=ua.negate(p);d[t]={value:u,"var":o,varRef:v}}return c[o]=m,d[j]={value:m,"var":o,varRef:p},"continue"}var w=function(c){var d=[String(j).split(".")[0],c].join(".");return a[d]?wa(d,null==b?void 0:b.cssVarPrefix).reference:c},x=(0,f.Kn)(m)?m:{"default":m};c=h()(c,Object.entries(x).reduce(function(a,b){var c,d,e=b[0],f=w(b[1]);return"default"===e?(a[o]=f,a):((d={})[o]=f,a[null!=(c=null==ea?void 0:ea[e])?c:e]=d,a)},{})),d[j]={value:p,"var":o,varRef:p}},g=0,i=Object.entries(a);g<i.length;g++)if("continue"===e())continue;return{cssVars:c,cssMap:d}}(r,{cssVarPrefix:s}),u=t.cssMap,v=t.cssVars;return Object.assign(o,{__cssVars:i({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},v),__cssMap:u,__breakpoints:(0,f.yn)(o.breakpoints)}),o}},6052:function(a,b,c){"use strict";c.d(b,{ZL:function(){return w},Fo:function(){return u},f6:function(){return q},"m$":function(){return F},Gp:function(){return G},Lr:function(){return x},x9:function(){return B},jC:function(){return J},mq:function(){return I},yK:function(){return v},Fg:function(){return s}});var d=c(949),e=c(4244),f=c(9394),g=c(917),h=c(5031),i=c(8554),j=c.n(i),k=c(7294),l=c(9590),m=c.n(l),n=c(6450),o=c(5934);function p(){return(p=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var q=function(a){var b=a.cssVarsRoot,c=a.theme,d=a.children,g=k.useMemo(function(){return(0,e.c0)(c)},[c]);return k.createElement(f.a,{theme:g},k.createElement(r,{root:b}),d)},r=function(a){var b=a.root,c=void 0===b?":host, :root":b;return k.createElement(g.xB,{styles:function(a){var b;return(b={})[c]=a.__cssVars,b}})};function s(){var a=k.useContext(f.T);if(!a)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return a}var t=(0,n.kr)({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),u=t[0],v=t[1],w=function(){var a=(0,d.If)().colorMode;return k.createElement(g.xB,{styles:function(b){var c=(0,h.Wf)(b,"styles.global"),d=(0,h.Pu)(c,{theme:b,colorMode:a});if(d)return(0,e.iv)(d)(b)}})};function x(a){return(0,h.CE)(a,["styleConfig","size","variant","colorScheme"])}function y(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var z=new Set([].concat(e.cC,["textStyle","layerStyle","apply","isTruncated","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),A=new Set(["htmlWidth","htmlHeight","htmlSize"]),B=function(a){return A.has(a)||!z.has(a)},C=["theme","css","__css","sx"],D=["baseStyle"],E=function(a){var b=a.baseStyle;return function(a){a.theme;var c=a.css,d=a.__css,f=a.sx,g=y(a,C),i=(0,h.lw)(g,function(a,b){return(0,e.ZR)(b)}),j=(0,h.Pu)(b,a),k=Object.assign({},d,j,(0,h.YU)(i),f),l=(0,e.iv)(k)(a.theme);return c?[l,c]:l}},F=function(a,b){var c=null!=b?b:{},d=c.baseStyle,e=y(c,D);e.shouldForwardProp||(e.shouldForwardProp=B);var f=E({baseStyle:d});return(0,o.Z)(a,e)(f)};function G(a){return k.forwardRef(a)}["a","b","article","aside","blockquote","button","caption","cite","circle","code","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","img","input","kbd","label","li","main","mark","nav","ol","p","path","pre","q","rect","s","svg","section","select","strong","small","span","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","ul"].forEach(function(a){F[a]=F(a)});var H=["styleConfig"];function I(a,b,c){void 0===b&&(b={}),void 0===c&&(c={});var e=b,f=e.styleConfig,g=y(e,H),i=p({},(0,d.If)(),{theme:s()}),l=i.theme,n=i.colorMode,o=(0,h.Wf)(l,"components."+a),q=f||o,r=j()({theme:l,colorMode:n},null!=(u=null==q?void 0:q.defaultProps)?u:{},(0,h.YU)((0,h.CE)(g,["children"]))),t=(0,k.useRef)({});if(q){var u,v,w,x,z,A,B,C=(0,h.Pu)(null!=(v=q.baseStyle)?v:{},r),D=(0,h.Pu)(null!=(w=null==(x=q.variants)?void 0:x[r.variant])?w:{},r),E=(0,h.Pu)(null!=(z=null==(A=q.sizes)?void 0:A[r.size])?z:{},r),F=j()({},C,E,D);null!=(B=c)&&B.isMultiPart&&q.parts&&q.parts.forEach(function(a){var b;F[a]=null!=(b=F[a])?b:{}});var G=m()(t.current,F);G||(t.current=F)}return t.current}function J(a,b){return I(a,b,{isMultiPart:!0})}},5031:function(a,b,c){"use strict";c.d(b,{Ts:function(){return B},jX:function(){return q},yn:function(){return O},PP:function(){return fa},v0:function(){return ea},r3:function(){return X},cx:function(){return V},PB:function(){return U},VI:function(){return qa},YU:function(){return G},xH:function(){return pa},T_:function(){return ka},sq:function(){return I},vY:function(){return W},LP:function(){return s},lZ:function(){return S},kR:function(){return R},H9:function(){return _},kJ:function(){return u},jU:function(){return T},FS:function(){return A},Qr:function(){return x},mf:function(){return v},Re:function(){return Q},Ft:function(){return y},hj:function(){return t},Kn:function(){return w},n_:function(){return Z},HD:function(){return z},Wq:function(){return ba},XQ:function(){return ra},Wf:function(){return E},ZT:function(){return ha},uh:function(){return Y},lw:function(){return F},Yd:function(){return H},CE:function(){return C},ei:function(){return D},zG:function(){return ja},cl:function(){return r},Pu:function(){return da},ZK:function(){return ia}}),c(8554);var d=1/60*1e3,e="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},f="undefined"!=typeof window?function(a){return window.requestAnimationFrame(a)}:function(a){return setTimeout(function(){return a(e())},d)},g=!0,h=!1,i=!1,j={delta:0,timestamp:0},k=["read","update","preRender","render","postRender"],l=k.reduce(function(a,b){return a[b]=(function(a){var b=[],c=[],d=0,e=!1,f=new WeakSet(),g={schedule:function(a,g,h){void 0===g&&(g=!1),void 0===h&&(h=!1);var i=h&&e,j=i?b:c;return g&&f.add(a),-1===j.indexOf(a)&&(j.push(a),i&&e&&(d=b.length)),a},cancel:function(a){var b=c.indexOf(a);-1!==b&&c.splice(b,1),f.delete(a)},process:function(h){var i;if(e=!0,b=(i=[c,b])[0],(c=i[1]).length=0,d=b.length)for(var j=0;j<d;j++){var k=b[j];k(h),f.has(k)&&(g.schedule(k),a())}e=!1}};return g})(function(){return h=!0}),a},{});k.reduce(function(a,b){var c=l[b];return a[b]=function(a,b,d){return void 0===b&&(b=!1),void 0===d&&(d=!1),h||o(),c.schedule(a,b,d)},a},{}),k.reduce(function(a,b){return a[b]=l[b].cancel,a},{}),k.reduce(function(a,b){return a[b]=function(){return l[b].process(j)},a},{});var m=function(a){return l[a].process(j)},n=function(a){h=!1,j.delta=g?d:Math.max(Math.min(a-j.timestamp,40),1),j.timestamp=a,i=!0,k.forEach(m),i=!1,h&&(g=!1,f(n))},o=function(){h=!0,g=!0,i||f(n)};function p(a){var b=null==a?0:a.length;return b?a[b-1]:void 0}function q(a,b){return[].concat(a,[b])}function r(a,b){return a.filter(function(a){return a!==b})}function s(a,b,c,d){if(null==b)return d;if(!d)return a.find(function(a){return c(a).toLowerCase().startsWith(b.toLowerCase())});var e,f=a.filter(function(a){return c(a).toLowerCase().startsWith(b.toLowerCase())});return f.length>0?f.includes(d)?((e=f.indexOf(d)+1)===f.length&&(e=0),f[e]):(e=a.indexOf(f[0]),a[e]):d}function t(a){return"number"==typeof a}function u(a){return Array.isArray(a)}function v(a){return"function"==typeof a}function w(a){var b=typeof a;return null!=a&&("object"===b||"function"===b)&&!u(a)}function x(a){return w(a)&&0===Object.keys(a).length}function y(a){return null==a}function z(a){return"[object String]"===Object.prototype.toString.call(a)}function A(a){return/^var\(--.+\)$/.test(a)}var B=!1;function C(a,b){var c={};return Object.keys(a).forEach(function(d){b.includes(d)||(c[d]=a[d])}),c}function D(a,b){var c={};return b.forEach(function(b){b in a&&(c[b]=a[b])}),c}var E=function(a){var b=new WeakMap();return function(c,d,e,f){if(void 0===c)return a(c,d,e);b.has(c)||b.set(c,new Map());var g=b.get(c);if(g.has(d))return g.get(d);var h=a(c,d,e,f);return g.set(d,h),h}}(function(a,b,c,d){var e="string"==typeof b?b.split("."):[b];for(d=0;d<e.length;d+=1){if(!a)break;a=a[e[d]]}return void 0===a?c:a});function F(a,b){var c={};return Object.keys(a).forEach(function(d){var e=a[d];b(e,d,a)&&(c[d]=e)}),c}var G=function(a){return F(a,function(a){return null!=a})},H=function(a){return Object.keys(a)},I=function(a){return a.reduce(function(a,b){var c=b[0],d=b[1];return a[c]=d,a},{})};function J(a){var b,c,d;return null==a?a:(c=parseFloat((b=a).toString()),d=b.toString().replace(String(c),""),{unitless:!d,value:c,unit:d}).unitless||t(a)?a+"px":a}var K=function(a,b){return parseInt(a[1],10)>parseInt(b[1],10)?1:-1},L=function(a){return I(Object.entries(a).sort(K))};function M(a){var b=L(a);return Object.assign(Object.values(b),b)}function N(a,b){var c=[];return a&&c.push("@media screen and (min-width: "+J(a)+")"),c.length>0&&b&&c.push("and"),b&&c.push("@media screen and (max-width: "+J(b)+")"),c.join(" ")}function O(a){if(!a)return null;a.base=null!=(b=a.base)?b:"0px";var b,c,d,e=M(a),f=Object.entries(a).sort(K).map(function(a,b,c){var d,e=a[0],f=a[1],g=null!=(d=c[b+1])?d:[],h=g[1];return{breakpoint:e,minW:f,maxW:h=parseFloat(h)>0?(function(a){if(!a)return a;var b,c=(a=null!=(b=J(a))?b:a).endsWith("px")?-1:-0.0635;return t(a)?""+(a+c):a.replace(/([0-9]+\.?[0-9]*)/,function(a){return""+(parseFloat(a)+c)})})(h):void 0,maxWQuery:N(null,h),minWQuery:N(f),minMaxQuery:N(f,h)}}),g=(c=a,d=Object.keys(L(c)),new Set(d)),h=Array.from(g.values());return{keys:g,normalized:e,isResponsive:function(a){var b=Object.keys(a);return b.length>0&&b.every(function(a){return g.has(a)})},asObject:L(a),asArray:M(a),details:f,media:[null].concat(e.map(function(a){return N(a)}).slice(1)),toArrayValue:function(a){if(!w(a))throw new Error("toArrayValue: value must be an object");for(var b=h.map(function(b){var c;return null!=(c=a[b])?c:null});null===p(b);)b.pop();return b},toObjectValue:function(a){if(!Array.isArray(a))throw new Error("toObjectValue: value must be an array");return a.reduce(function(a,b,c){var d=h[c];return null!=d&&null!=b&&(a[d]=b),a},{})}}}function P(a){return null!=a&&"object"==typeof a&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}function Q(a){if(!P(a))return!1;var b,c=null!=(b=a.ownerDocument.defaultView)?b:window;return a instanceof c.HTMLElement}function R(a){var b,c;return P(a)&&null!=(b=null==(c=S(a))?void 0:c.defaultView)?b:window}function S(a){var b;return P(a)&&null!=(b=a.ownerDocument)?b:document}var T=!!("undefined"!=typeof window&&window.document&&window.document.createElement),U=function(a){return a?"":void 0},V=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).join(" ")};function W(a){var b=S(a);return null==b?void 0:b.activeElement}function X(a,b){return!!a&&(a===b||a.contains(b))}function Y(a){var b=a.key,c=a.keyCode;return c>=37&&c<=40&&0!==b.indexOf("Arrow")?"Arrow"+b:b}function Z(a){return 0!==a.button}var $=function(a){return a.hasAttribute("tabindex")};function _(a){return(Q(a)?S(a):document).activeElement===a}function aa(a){return!!(a.parentElement&&aa(a.parentElement))||a.hidden}function ba(a){var b;return!!a&&Q(a)&&(function(a){if(!Q(a)||aa(a)|| !0===Boolean((b=a).getAttribute("disabled"))|| !0===Boolean(b.getAttribute("aria-disabled")))return!1;var b,c,d=a.localName;if(["input","select","textarea","button"].indexOf(d)>=0)return!0;var e={a:function(){return a.hasAttribute("href")},audio:function(){return a.hasAttribute("controls")},video:function(){return a.hasAttribute("controls")}};return d in e?e[d]():"false"!==(c=a.getAttribute("contenteditable"))&&null!=c||$(a)})(a)&&(!$(b=a)|| -1!==b.tabIndex)}function ca(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function da(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return v(a)?a.apply(void 0,c):a}function ea(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.some(function(b){return null==b||b(a),null==a?void 0:a.defaultPrevented})}}function fa(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.forEach(function(b){null==b||b(a)})}}function ga(a){var b;return function(){if(a){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];b=a.apply(this,d),a=null}return b}}var ha=function(){},ia=ga(function(a){return function(){var b=a.condition,c=a.message;b&&B&&console.warn(c)}});ga(function(a){return function(){var b=a.condition,c=a.message;b&&B&&console.error(c)}});var ja=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduce(function(a,b){return b(a)},a)}};function ka(a,b){void 0===b&&(b={});var c=b,d=c.isActive,e=c.nextTick,f=c.preventScroll,g=void 0===f||f,h=c.selectTextIfInput,i=void 0===h||h;if(!a||(void 0===d?_:d)(a))return -1;function j(){var b;if(!a){ia({condition:!0,message:"[chakra-ui]: can't call focus() on `null` or `undefined` element"});return}ma()?a.focus({preventScroll:g}):(a.focus(),g&&oa(na(a))),Q(b=a)&&"input"===b.tagName.toLowerCase()&&"select"in b&&i&&a.select()}return e?requestAnimationFrame(j):(j(),-1)}var la=null;function ma(){if(null==la){la=!1;try{document.createElement("div").focus({get preventScroll(){return la=!0,!0}})}catch(a){}}return la}function na(a){for(var b,c=S(a),d=null!=(b=c.defaultView)?b:window,e=a.parentNode,f=[],g=c.scrollingElement||c.documentElement;e instanceof d.HTMLElement&&e!==g;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&f.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return g instanceof d.HTMLElement&&f.push({element:g,scrollTop:g.scrollTop,scrollLeft:g.scrollLeft}),f}function oa(a){for(var b,c=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(c)return(c=c.call(a)).next.bind(c);if(Array.isArray(a)||(c=(function(a,b){if(a){if("string"==typeof a)return ca(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ca(a,b)}})(a))||0){c&&(a=c);var d=0;return function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a);!(b=c()).done;){var d=b.value,e=d.element,f=d.scrollTop,g=d.scrollLeft;e.scrollTop=f,e.scrollLeft=g}}function pa(a,b){return(void 0===b&&(b=1/0),(w(a)||Array.isArray(a))&&b)?Object.entries(a).reduce(function(a,c){var d=c[0],e=c[1];return w(e)||u(e)?Object.entries(pa(e,b-1)).forEach(function(b){var c=b[0],e=b[1];a[d+"."+c]=e}):a[d]=e,a},{}):a}function qa(a){var b=a.hasBeenSelected,c=a.isLazy,d=a.isSelected,e=a.lazyBehavior;return!c|| !!d||"keepMounted"===(void 0===e?"unmount":e)&&!!b}function ra(a,b){return u(a)?a.map(function(a){return null===a?null:b(a)}):w(a)?H(a).reduce(function(c,d){return c[d]=b(a[d]),c},{}):null!=a?b(a):null}Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Object.freeze(["base","sm","md","lg","xl","2xl"])},4474:function(a,b,c){"use strict";c.d(b,{Z:function(){return da}});var d=c(1526),e=Math.abs,f=String.fromCharCode,g=Object.assign;function h(a){return a.trim()}function i(a,b,c){return a.replace(b,c)}function j(a,b){return a.indexOf(b)}function k(a,b){return 0|a.charCodeAt(b)}function l(a,b,c){return a.slice(b,c)}function m(a){return a.length}function n(a){return a.length}function o(a,b){return b.push(a),a}var p=1,q=1,r=0,s=0,t=0,u="";function v(a,b,c,d,e,f,g){return{value:a,root:b,parent:c,type:d,props:e,children:f,line:p,column:q,length:g,return:""}}function w(a,b){return g(v("",null,null,"",null,null,0),a,{length:-a.length},b)}function x(){return t=s>0?k(u,--s):0,q--,10===t&&(q=1,p--),t}function y(){return t=s<r?k(u,s++):0,q++,10===t&&(q=1,p++),t}function z(){return k(u,s)}function A(){return s}function B(a,b){return l(u,a,b)}function C(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(a){return p=q=1,r=m(u=a),s=0,[]}function E(a){return u="",a}function F(a){return h(B(s-1,I(91===a?a+2:40===a?a+1:a)))}function G(a){for(;t=z();)if(t<33)y();else break;return C(a)>2||C(t)>3?"":" "}function H(a,b){for(;--b&&y()&& !(t<48)&&!(t>102)&&(!(t>57)||!(t<65))&&(!(t>70)||!(t<97)););return B(a,A()+(b<6&&32==z()&&32==y()))}function I(a){for(;y();)switch(t){case a:return s;case 34:case 39:34!==a&&39!==a&&I(t);break;case 40:41===a&&I(a);break;case 92:y();break}return s}function J(a,b){for(;y();)if(a+t===57)break;else if(a+t===84&&47===z())break;return"/*"+B(b,s-1)+"*"+f(47===a?a:y())}function K(a){for(;!C(z());)y();return B(a,s)}var L="-ms-",M="-moz-",N="-webkit-",O="comm",P="rule",Q="decl",R="@keyframes";function S(a,b){for(var c="",d=n(a),e=0;e<d;e++)c+=b(a[e],e,a,b)||"";return c}function T(a,b,c,d){switch(a.type){case"@import":case Q:return a.return=a.return||a.value;case O:return"";case R:return a.return=a.value+"{"+S(a.children,d)+"}";case P:a.value=a.props.join(",")}return m(c=S(a.children,d))?a.return=a.value+"{"+c+"}":""}function U(a,b){var c;switch((((b<<2^k(c=a,0))<<2^k(c,1))<<2^k(c,2))<<2^k(c,3)){case 5103:return N+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return N+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return N+a+M+a+L+a+a;case 6828:case 4268:return N+a+L+a+a;case 6165:return N+a+L+"flex-"+a+a;case 5187:return N+a+i(a,/(\w+).+(:[^]+)/,N+"box-$1$2"+L+"flex-$1$2")+a;case 5443:return N+a+L+"flex-item-"+i(a,/flex-|-self/,"")+a;case 4675:return N+a+L+"flex-line-pack"+i(a,/align-content|flex-|-self/,"")+a;case 5548:return N+a+L+i(a,"shrink","negative")+a;case 5292:return N+a+L+i(a,"basis","preferred-size")+a;case 6060:return N+"box-"+i(a,"-grow","")+N+a+L+i(a,"grow","positive")+a;case 4554:return N+i(a,/([^-])(transform)/g,"$1"+N+"$2")+a;case 6187:return i(i(i(a,/(zoom-|grab)/,N+"$1"),/(image-set)/,N+"$1"),a,"")+a;case 5495:case 3959:return i(a,/(image-set\([^]*)/,N+"$1$`$1");case 4968:return i(i(a,/(.+:)(flex-)?(.*)/,N+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+N+a+a;case 4095:case 3583:case 4068:case 2532:return i(a,/(.+)-inline(.+)/,N+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(m(a)-1-b>6)switch(k(a,b+1)){case 109:if(45!==k(a,b+4))break;case 102:return i(a,/(.+:)(.+)-([^]+)/,"$1"+N+"$2-$3$1"+M+(108==k(a,b+3)?"$3":"$2-$3"))+a;case 115:return~j(a,"stretch")?U(i(a,"stretch","fill-available"),b)+a:a}break;case 4949:if(115!==k(a,b+1))break;case 6444:switch(k(a,m(a)-3-(~j(a,"!important")&&10))){case 107:return i(a,":",":"+N)+a;case 101:return i(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+N+(45===k(a,14)?"inline-":"")+"box$3$1"+N+"$2$3$1"+L+"$2box$3")+a}break;case 5936:switch(k(a,b+11)){case 114:return N+a+L+i(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return N+a+L+i(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return N+a+L+i(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return N+a+L+a+a}return a}function V(a,b,c,d,e,g,h,k,l){for(var n=0,p=0,q=h,r=0,s=0,t=0,u=1,v=1,w=1,B=0,C="",D=e,E=g,I=d,L=C;v;)switch(t=B,B=y()){case 40:if(108!=t&&58==L.charCodeAt(q-1)){-1!=j(L+=i(F(B),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:L+=F(B);break;case 9:case 10:case 13:case 32:L+=G(t);break;case 92:L+=H(A()-1,7);continue;case 47:switch(z()){case 42:case 47:o(X(J(y(),A()),b,c),l);break;default:L+="/"}break;case 123*u:k[n++]=m(L)*w;case 125*u:case 59:case 0:switch(B){case 0:case 125:v=0;case 59+p:s>0&&m(L)-q&&o(s>32?Y(L+";",d,c,q-1):Y(i(L," ","")+";",d,c,q-2),l);break;case 59:L+=";";default:if(o(I=W(L,b,c,n,p,e,k,C,D=[],E=[],q),g),123===B)if(0===p)V(L,b,I,I,D,g,q,k,E);else switch(r){case 100:case 109:case 115:V(a,I,I,d&&o(W(a,I,I,0,0,e,k,C,e,D=[],q),E),e,E,q,k,d?D:E);break;default:V(L,I,I,I,[""],E,0,k,E)}}n=p=s=0,u=w=1,C=L="",q=h;break;case 58:q=1+m(L),s=t;default:if(u<1){if(123==B)--u;else if(125==B&&0==u++&&125==x())continue}switch(L+=f(B),B*u){case 38:w=p>0?1:(L+="\f",-1);break;case 44:k[n++]=(m(L)-1)*w,w=1;break;case 64:45===z()&&(L+=F(y())),r=z(),p=q=m(C=L+=K(A())),B++;break;case 45:45===t&&2==m(L)&&(u=0)}}return g}function W(a,b,c,d,f,g,j,k,m,o,p){for(var q=f-1,r=0===f?g:[""],s=n(r),t=0,u=0,w=0;t<d;++t)for(var x=0,y=l(a,q+1,q=e(u=j[t])),z=a;x<s;++x)(z=h(u>0?r[x]+" "+y:i(y,/&\f/g,r[x])))&&(m[w++]=z);return v(a,b,c,0===f?P:k,m,o,p)}function X(a,b,c){return v(a,b,c,O,f(t),l(a,2,-2),0)}function Y(a,b,c,d){return v(a,b,c,Q,l(a,0,d),l(a,d+1,-1),d)}var Z=function(a,b,c){for(var d=0,e=0;;){if(d=e,e=z(),38===d&&12===e&&(b[c]=1),C(e))break;y()}return B(a,s)},$=function(a,b){var c=-1,d=44;do switch(C(d)){case 0:38===d&&12===z()&&(b[c]=1),a[c]+=Z(s-1,b,c);break;case 2:a[c]+=F(d);break;case 4:if(44===d){a[++c]=58===z()?"&\f":"",b[c]=a[c].length;break}default:a[c]+=f(d)}while(d=y());return a},_=new WeakMap(),aa=function(a){if("rule"===a.type&&a.parent&&!(a.length<1)){for(var b=a.value,c=a.parent,d=a.column===c.column&&a.line===c.line;"rule"!==c.type;)if(!(c=c.parent))return;if((1!==a.props.length||58===b.charCodeAt(0)||_.get(c))&&!d){_.set(a,!0);for(var e,f,g=[],h=(e=b,f=g,E($(D(e),f))),i=c.props,j=0,k=0;j<h.length;j++)for(var l=0;l<i.length;l++,k++)a.props[k]=g[j]?h[j].replace(/&\f/g,i[l]):i[l]+" "+h[j]}}},ba=function(a){if("decl"===a.type){var b=a.value;108===b.charCodeAt(0)&&98===b.charCodeAt(2)&&(a.return="",a.value="")}},ca=[function(a,b,c,d){if(a.length> -1&&!a.return)switch(a.type){case Q:a.return=U(a.value,a.length);break;case R:return S([w(a,{value:i(a.value,"@","@"+N)})],d);case P:if(a.length)return(function(a,b){return a.map(b).join("")})(a.props,function(b){var c;switch(c=b,(c=/(::plac\w+|:read-\w+)/.exec(c))?c[0]:c){case":read-only":case":read-write":return S([w(a,{props:[i(b,/:(read-\w+)/,":"+M+"$1")]})],d);case"::placeholder":return S([w(a,{props:[i(b,/:(plac\w+)/,":"+N+"input-$1")]}),w(a,{props:[i(b,/:(plac\w+)/,":"+M+"$1")]}),w(a,{props:[i(b,/:(plac\w+)/,L+"input-$1")]})],d)}return""})}}],da=function(a){var b=a.key;if("css"===b){var c=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(c,function(a){-1!==a.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(a),a.setAttribute("data-s",""))})}var e=a.stylisPlugins||ca,f={},g=[];h=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion^=\""+b+" \"]"),function(a){for(var b=a.getAttribute("data-emotion").split(" "),c=1;c<b.length;c++)f[b[c]]=!0;g.push(a)});var h,i,j,k,l,m=[T,function(a){return function(b){!b.root&&(b=b.return)&&a(b)}}(function(a){j.insert(a)})],o=(l=n(k=[aa,ba].concat(e,m)),function(a,b,c,d){for(var e="",f=0;f<l;f++)e+=k[f](a,b,c,d)||"";return e}),p=function(a){var b;return S(E(V("",null,null,null,[""],b=D(b=a),0,[0],b)),o)};i=function(a,b,c,d){j=c,p(a?a+"{"+b.styles+"}":b.styles),d&&(q.inserted[b.name]=!0)};var q={key:b,sheet:new d.m({key:b,container:h,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:f,registered:{},insert:i};return q.sheet.hydrate(g),q}},7866:function(a,b){"use strict";b.Z=function(a){var b=Object.create(null);return function(c){return void 0===b[c]&&(b[c]=a(c)),b[c]}}},9394:function(a,b,c){"use strict";c.d(b,{T:function(){return j},a:function(){return l},w:function(){return i}});var d=c(7294),e=c(4474),f=c(7462),g=function(a){var b=new WeakMap();return function(c){if(b.has(c))return b.get(c);var d=a(c);return b.set(c,d),d}};c(3772),({}).hasOwnProperty;var h=(0,d.createContext)("undefined"!=typeof HTMLElement?(0,e.Z)({key:"css"}):null);h.Provider;var i=function(a){return(0,d.forwardRef)(function(b,c){return a(b,(0,d.useContext)(h),c)})},j=(0,d.createContext)({}),k=g(function(a){return g(function(b){var c,d;return c=a,"function"==typeof(d=b)?d(c):(0,f.Z)({},c,d)})}),l=function(a){var b=(0,d.useContext)(j);return a.theme!==b&&(b=k(b)(a.theme)),(0,d.createElement)(j.Provider,{value:b},a.children)};new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"])},917:function(a,b,c){"use strict";c.d(b,{xB:function(){return j},F4:function(){return l}});var d=c(7294);c(4474);var e=c(9394),f=c(8679);c.n(f);var g=c(444),h=c(3772),i=c(1526),j=(0,e.w)(function(a,b){var c=a.styles,f=(0,h.O)([c],void 0,(0,d.useContext)(e.T)),j=(0,d.useRef)();return(0,d.useLayoutEffect)(function(){var a=b.key+"-global",c=new i.m({key:a,nonce:b.sheet.nonce,container:b.sheet.container,speedy:b.sheet.isSpeedy}),d=!1,e=document.querySelector("style[data-emotion=\""+a+" "+f.name+"\"]");return b.sheet.tags.length&&(c.before=b.sheet.tags[0]),null!==e&&(d=!0,e.setAttribute("data-emotion",a),c.hydrate([e])),j.current=[c,d],function(){c.flush()}},[b]),(0,d.useLayoutEffect)(function(){var a=j.current,c=a[0];if(a[1]){a[1]=!1;return}if(void 0!==f.next&&(0,g.M)(b,f.next,!0),c.tags.length){var d=c.tags[c.tags.length-1].nextElementSibling;c.before=d,c.flush()}b.insert("",f,c,!1)},[b,f.name]),null});function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,h.O)(b)}var l=function(){var a=k.apply(void 0,arguments),b="animation-"+a.name;return{name:b,styles:"@keyframes "+b+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3772:function(a,b,c){"use strict";c.d(b,{O:function(){return q}});var d,e=function(a){for(var b,c=0,d=0,e=a.length;e>=4;++d,e-=4)b=(65535&(b=255&a.charCodeAt(d)|(255&a.charCodeAt(++d))<<8|(255&a.charCodeAt(++d))<<16|(255&a.charCodeAt(++d))<<24))*1540483477+((b>>>16)*59797<<16),b^=b>>>24,c=(65535&b)*1540483477+((b>>>16)*59797<<16)^(65535&c)*1540483477+((c>>>16)*59797<<16);switch(e){case 3:c^=(255&a.charCodeAt(d+2))<<16;case 2:c^=(255&a.charCodeAt(d+1))<<8;case 1:c=(65535&(c^=255&a.charCodeAt(d)))*1540483477+((c>>>16)*59797<<16)}return(((c=(65535&(c^=c>>>13))*1540483477+((c>>>16)*59797<<16))^c>>>15)>>>0).toString(36)},f={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},g=c(7866),h=/[A-Z]|^ms/g,i=/_EMO_([^_]+?)_([^]*?)_EMO_/g,j=function(a){return 45===a.charCodeAt(1)},k=function(a){return null!=a&&"boolean"!=typeof a},l=(0,g.Z)(function(a){return j(a)?a:a.replace(h,"-$&").toLowerCase()}),m=function(a,b){switch(a){case"animation":case"animationName":if("string"==typeof b)return b.replace(i,function(a,b,c){return d={name:b,styles:c,next:d},b})}return 1===f[a]||j(a)||"number"!=typeof b||0===b?b:b+"px"};function n(a,b,c){if(null==c)return"";if(void 0!==c.__emotion_styles)return c;switch(typeof c){case"boolean":return"";case"object":if(1===c.anim)return d={name:c.name,styles:c.styles,next:d},c.name;if(void 0!==c.styles){var e=c.next;if(void 0!==e)for(;void 0!==e;)d={name:e.name,styles:e.styles,next:d},e=e.next;return c.styles+";"}return o(a,b,c);case"function":if(void 0!==a){var f=d,g=c(a);return d=f,n(a,b,g)}break;case"string":break}if(null==b)return c;var h=b[c];return void 0!==h?h:c}function o(a,b,c){var d="";if(Array.isArray(c))for(var e=0;e<c.length;e++)d+=n(a,b,c[e])+";";else for(var f in c){var g=c[f];if("object"!=typeof g)null!=b&& void 0!==b[g]?d+=f+"{"+b[g]+"}":k(g)&&(d+=l(f)+":"+m(f,g)+";");else if(Array.isArray(g)&&"string"==typeof g[0]&&(null==b|| void 0===b[g[0]]))for(var h=0;h<g.length;h++)k(g[h])&&(d+=l(f)+":"+m(f,g[h])+";");else{var i=n(a,b,g);switch(f){case"animation":case"animationName":d+=l(f)+":"+i+";";break;default:d+=f+"{"+i+"}"}}}return d}var p=/label:\s*([^\s;\n{]+)\s*(;|$)/g,q=function(a,b,c){if(1===a.length&&"object"==typeof a[0]&&null!==a[0]&& void 0!==a[0].styles)return a[0];var f,g=!0,h="";d=void 0;var i=a[0];null==i|| void 0===i.raw?(g=!1,h+=n(c,b,i)):h+=i[0];for(var j=1;j<a.length;j++)h+=n(c,b,a[j]),g&&(h+=i[j]);p.lastIndex=0;for(var k="";null!==(f=p.exec(h));)k+="-"+f[1];return{name:e(h)+k,styles:h,next:d}}},1526:function(a,b,c){"use strict";c.d(b,{m:function(){return d}});var d=function(){function a(a){var b=this;this._insertTag=function(a){var c;c=0===b.tags.length?b.insertionPoint?b.insertionPoint.nextSibling:b.prepend?b.container.firstChild:b.before:b.tags[b.tags.length-1].nextSibling,b.container.insertBefore(a,c),b.tags.push(a)},this.isSpeedy=void 0===a.speedy||a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var b=a.prototype;return b.hydrate=function(a){a.forEach(this._insertTag)},b.insert=function(a){if(this.ctr%(this.isSpeedy?65e3:1)==0){var b,c;this._insertTag((b=this,(c=document.createElement("style")).setAttribute("data-emotion",b.key),void 0!==b.nonce&&c.setAttribute("nonce",b.nonce),c.appendChild(document.createTextNode("")),c.setAttribute("data-s",""),c))}var d=this.tags[this.tags.length-1];if(this.isSpeedy){var e=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]}(d);try{e.insertRule(a,e.cssRules.length)}catch(f){}}else d.appendChild(document.createTextNode(a));this.ctr++},b.flush=function(){this.tags.forEach(function(a){return a.parentNode&&a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},a}()},5934:function(a,b,c){"use strict";c.d(b,{Z:function(){return q}});var d=c(7294),e=c(7462),f=c(7866),g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=(0,f.Z)(function(a){return g.test(a)||111===a.charCodeAt(0)&&110===a.charCodeAt(1)&&91>a.charCodeAt(2)}),i=c(9394),j=c(444),k=c(3772),l=h,m=function(a){return"string"==typeof a&&a.charCodeAt(0)>96?l:function(a){return"theme"!==a}},n=function(a,b,c){var d;if(b){var e=b.shouldForwardProp;d=a.__emotion_forwardProp&&e?function(b){return a.__emotion_forwardProp(b)&&e(b)}:e}return"function"!=typeof d&&c&&(d=a.__emotion_forwardProp),d},o=function(){return null},p=(function a(b,c){var f,g,h=b.__emotion_real===b,l=h&&b.__emotion_base||b;void 0!==c&&(f=c.label,g=c.target);var p=n(b,c,h),q=p||m(l),r=!q("as");return function(){var s=arguments,t=h&& void 0!==b.__emotion_styles?b.__emotion_styles.slice(0):[];if(void 0!==f&&t.push("label:"+f+";"),null==s[0]|| void 0===s[0].raw)t.push.apply(t,s);else{t.push(s[0][0]);for(var u=s.length,v=1;v<u;v++)t.push(s[v],s[0][v])}var w=(0,i.w)(function(a,b,c){var e=r&&a.as||l,f="",h=[],n=a;if(null==a.theme){for(var s in n={},a)n[s]=a[s];n.theme=(0,d.useContext)(i.T)}"string"==typeof a.className?f=(0,j.f)(b.registered,h,a.className):null!=a.className&&(f=a.className+" ");var u=(0,k.O)(t.concat(h),b.registered,n);(0,j.M)(b,u,"string"==typeof e),f+=b.key+"-"+u.name,void 0!==g&&(f+=" "+g);var v=r&& void 0===p?m(e):q,w={};for(var x in a)(!r||"as"!==x)&&v(x)&&(w[x]=a[x]);w.className=f,w.ref=c;var y=(0,d.createElement)(e,w),z=(0,d.createElement)(o,null);return(0,d.createElement)(d.Fragment,null,z,y)});return w.displayName=void 0!==f?f:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",w.defaultProps=b.defaultProps,w.__emotion_real=w,w.__emotion_base=l,w.__emotion_styles=t,w.__emotion_forwardProp=p,Object.defineProperty(w,"toString",{value:function(){return"."+g}}),w.withComponent=function(b,d){return a(b,(0,e.Z)({},c,d,{shouldForwardProp:n(w,d,!0)})).apply(void 0,t)},w}}).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(a){p[a]=p(a)});var q=p},444:function(a,b,c){"use strict";function d(a,b,c){var d="";return c.split(" ").forEach(function(c){void 0!==a[c]?b.push(a[c]+";"):d+=c+" "}),d}c.d(b,{f:function(){return d},M:function(){return e}});var e=function(a,b,c){var d=a.key+"-"+b.name;if(!1===c&& void 0===a.registered[d]&&(a.registered[d]=b.styles),void 0===a.inserted[b.name]){var e=b;do a.insert(b===e?"."+d:"",e,a.sheet,!0),e=e.next;while(void 0!==e)}}},640:function(a,b,c){"use strict";var d=c(1742),e={"text/plain":"Text","text/html":"Url","default":"Text"};a.exports=function(a,b){var c,f,g,h,i,j,k,l,m=!1;b||(b={}),g=b.debug||!1;try{if(i=d(),j=document.createRange(),k=document.getSelection(),l=document.createElement("span"),l.textContent=a,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(c){if(c.stopPropagation(),b.format)if(c.preventDefault(),void 0===c.clipboardData){g&&console.warn("unable to use e.clipboardData"),g&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=e[b.format]||e.default;window.clipboardData.setData(d,a)}else c.clipboardData.clearData(),c.clipboardData.setData(b.format,a);b.onCopy&&(c.preventDefault(),b.onCopy(c.clipboardData))}),document.body.appendChild(l),j.selectNodeContents(l),k.addRange(j),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");m=!0}catch(n){g&&console.error("unable to copy using execCommand: ",n),g&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(b.format||"text",a),b.onCopy&&b.onCopy(window.clipboardData),m=!0}catch(o){g&&console.error("unable to copy using clipboardData: ",o),g&&console.error("falling back to prompt"),c="message"in b?b.message:"Copy to clipboard: #{key}, Enter",f=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C",h=c.replace(/#{\s*key\s*}/g,f),window.prompt(h,a)}}finally{k&&("function"==typeof k.removeRange?k.removeRange(j):k.removeAllRanges()),l&&document.body.removeChild(l),i()}return m}},8679:function(a,b,c){"use strict";var d=c(9864),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},g={"$$typeof":!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h={};function i(a){return d.isMemo(a)?g:h[a.$$typeof]||e}h[d.ForwardRef]={"$$typeof":!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},h[d.Memo]=g;var j=Object.defineProperty,k=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,n=Object.getPrototypeOf,o=Object.prototype;function p(a,b,c){if("string"!=typeof b){if(o){var d=n(b);d&&d!==o&&p(a,d,c)}var e=k(b);l&&(e=e.concat(l(b)));for(var g=i(a),h=i(b),q=0;q<e.length;++q){var r=e[q];if(!f[r]&&!(c&&c[r])&&!(h&&h[r])&&!(g&&g[r])){var s=m(b,r);try{j(a,r,s)}catch(t){}}}}return a}a.exports=p},8554:function(a,b,c){a=c.nmd(a);var d="__lodash_hash_undefined__",e=16,f="[object Arguments]",g="[object Function]",h="[object Object]",i=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[f]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object Boolean]"]=k["[object DataView]"]=k["[object Date]"]=k["[object Error]"]=k[g]=k["[object Map]"]=k["[object Number]"]=k[h]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object WeakMap]"]=!1;var l,m,n,o="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,p="object"==typeof self&&self&&self.Object===Object&&self,q=o||p||Function("return this")(),r=b&&!b.nodeType&&b,s=r&&a&&!a.nodeType&&a,t=s&&s.exports===r,u=t&&o.process,v=function(){try{var a=s&&s.require&&s.require("util").types;if(a)return a;return u&&u.binding&&u.binding("util")}catch(b){}}(),w=v&&v.isTypedArray,x=Array.prototype,y=Function.prototype,z=Object.prototype,A=q["__core-js_shared__"],B=y.toString,C=z.hasOwnProperty,D=(l=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",E=z.toString,F=B.call(Object),G=RegExp("^"+B.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=t?q.Buffer:void 0,I=q.Symbol,J=q.Uint8Array,K=H?H.allocUnsafe:void 0,L=(m=Object.getPrototypeOf,n=Object,function(a){return m(n(a))}),M=Object.create,N=z.propertyIsEnumerable,O=x.splice,P=I?I.toStringTag:void 0,Q=function(){try{var a=ma(Object,"defineProperty");return a({},"",{}),a}catch(b){}}(),R=H?H.isBuffer:void 0,S=Math.max,T=Date.now,U=ma(q,"Map"),V=ma(Object,"create"),W=function(){function a(){}return function(b){if(!Ia(b))return{};if(M)return M(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();function X(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Y(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Z(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function $(a){var b=this.__data__=new Y(a);this.size=b.size}function _(a,b,c){(void 0===c||Aa(a[b],c))&&(void 0!==c||b in a)||ca(a,b,c)}function aa(a,b,c){var d=a[b];C.call(a,b)&&Aa(d,c)&&(void 0!==c||b in a)||ca(a,b,c)}function ba(a,b){for(var c=a.length;c--;)if(Aa(a[c][0],b))return c;return -1}function ca(a,b,c){"__proto__"==b&&Q?Q(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}X.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},X.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},X.prototype.get=function(a){var b=this.__data__;if(V){var c=b[a];return c===d?void 0:c}return C.call(b,a)?b[a]:void 0},X.prototype.has=function(a){var b=this.__data__;return V?void 0!==b[a]:C.call(b,a)},X.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=V&& void 0===b?d:b,this},Y.prototype.clear=function(){this.__data__=[],this.size=0},Y.prototype.delete=function(a){var b=this.__data__,c=ba(b,a);return!(c<0)&&(c==b.length-1?b.pop():O.call(b,c,1),--this.size,!0)},Y.prototype.get=function(a){var b=this.__data__,c=ba(b,a);return c<0?void 0:b[c][1]},Y.prototype.has=function(a){return ba(this.__data__,a)> -1},Y.prototype.set=function(a,b){var c=this.__data__,d=ba(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(U||Y),string:new X}},Z.prototype.delete=function(a){var b=la(this,a).delete(a);return this.size-=b?1:0,b},Z.prototype.get=function(a){return la(this,a).get(a)},Z.prototype.has=function(a){return la(this,a).has(a)},Z.prototype.set=function(a,b){var c=la(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},$.prototype.clear=function(){this.__data__=new Y,this.size=0},$.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},$.prototype.get=function(a){return this.__data__.get(a)},$.prototype.has=function(a){return this.__data__.has(a)},$.prototype.set=function(a,b){var c=this.__data__;if(c instanceof Y){var d=c.__data__;if(!U||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new Z(d)}return c.set(a,b),this.size=c.size,this};var da=function(a,b,c){for(var d=-1,e=Object(a),f=c(a),g=f.length;g--;){var h=f[++d];if(!1===b(e[h],h,e))break}return a};function ea(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":P&&P in Object(a)?na(a):ta(a)}function fa(a){return Ja(a)&&ea(a)==f}function ga(a,b,c,d,e){a!==b&&da(b,function(f,g){if(e||(e=new $),Ia(f))ha(a,b,g,c,ga,d,e);else{var h=d?d(ua(a,g),f,g+"",a,b,e):void 0;void 0===h&&(h=f),_(a,g,h)}},Oa)}function ha(a,b,c,d,e,f,g){var h=ua(a,c),i=ua(b,c),j=g.get(i);if(j){_(a,c,j);return}var k=f?f(h,i,c+"",a,b,g):void 0,l=void 0===k;if(l){var m=Ca(i),n=!m&&Fa(i),o=!m&&!n&&Ma(i);k=i,m||n||o?Ca(h)?k=h:Ea(h)?k=ka(h):n?(l=!1,k=ia(i,!0)):o?(l=!1,k=ja(i,!0)):k=[]:Ka(i)||Ba(i)?(k=h,Ba(h)?k=Na(h):(!Ia(h)||Ga(h))&&(k=oa(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),_(a,c,k)}function ia(a,b){if(b)return a.slice();var c=a.length,d=K?K(c):new a.constructor(c);return a.copy(d),d}function ja(a,b){var c,d,e=b?(d=new(c=a.buffer).constructor(c.byteLength),new J(d).set(new J(c)),d):a.buffer;return new a.constructor(e,a.byteOffset,a.length)}function ka(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function la(a,b){var c=a.__data__;return qa(b)?c["string"==typeof b?"string":"hash"]:c.map}function ma(a,b){var c,d,e,f=(c=a,d=b,null==c?void 0:c[d]);return!(!Ia(e=f)||ra(e))&&(Ga(e)?G:i).test(za(e))?f:void 0}function na(a){var b=C.call(a,P),c=a[P];try{a[P]=void 0;var d=!0}catch(e){}var f=E.call(a);return d&&(b?a[P]=c:delete a[P]),f}function oa(a){return"function"!=typeof a.constructor||sa(a)?{}:W(L(a))}function pa(a,b){var c=typeof a;return!!(b=null==b?9007199254740991:b)&&("number"==c||"symbol"!=c&&j.test(a))&&a> -1&&a%1==0&&a<b}function qa(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function ra(a){return!!D&&D in a}function sa(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||z)}function ta(a){return E.call(a)}function ua(a,b){if(("constructor"!==b||"function"!=typeof a[b])&&"__proto__"!=b)return a[b]}var va,wa,xa,ya=(va=Q?function(a,b){return Q(a,"toString",{configurable:!0,enumerable:!1,value:Qa(b),writable:!0})}:Ra,wa=0,xa=0,function(){var a=T(),b=e-(a-xa);if(xa=a,b>0){if(++wa>=800)return arguments[0]}else wa=0;return va.apply(void 0,arguments)});function za(a){if(null!=a){try{return B.call(a)}catch(b){}try{return a+""}catch(c){}}return""}function Aa(a,b){return a===b||a!=a&&b!=b}var Ba=fa(function(){return arguments}())?fa:function(a){return Ja(a)&&C.call(a,"callee")&&!N.call(a,"callee")},Ca=Array.isArray;function Da(a){return null!=a&&Ha(a.length)&&!Ga(a)}function Ea(a){return Ja(a)&&Da(a)}var Fa=R||function(){return!1};function Ga(a){if(!Ia(a))return!1;var b=ea(a);return b==g||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}function Ha(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=9007199254740991}function Ia(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function Ja(a){return null!=a&&"object"==typeof a}function Ka(a){if(!Ja(a)||ea(a)!=h)return!1;var b=L(a);if(null===b)return!0;var c=C.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&B.call(c)==F}var La,Ma=w?(La=w,function(a){return La(a)}):function(a){return Ja(a)&&Ha(a.length)&&!!k[ea(a)]};function Na(a){return(function(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):void 0;void 0===i&&(i=a[h]),e?ca(c,h,i):aa(c,h,i)}return c})(a,Oa(a))}function Oa(a){return Da(a)?(function(a,b){var c=Ca(a),d=!c&&Ba(a),e=!c&&!d&&Fa(a),f=!c&&!d&&!e&&Ma(a),g=c||d||e||f,h=g?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],i=h.length;for(var j in a)(b||C.call(a,j))&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||pa(j,i)))&&h.push(j);return h})(a,!0):(function(a){if(!Ia(a))return(function(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b})(a);var b=sa(a),c=[];for(var d in a)"constructor"==d&&(b||!C.call(a,d))||c.push(d);return c})(a)}var Pa=function(a){return(function(a,b){var c,d,e;return ya((c=a,d=void 0,e=Ra,d=S(void 0===d?c.length-1:d,0),function(){for(var a=arguments,b=-1,f=S(a.length-d,0),g=Array(f);++b<f;)g[b]=a[d+b];b=-1;for(var h=Array(d+1);++b<d;)h[b]=a[b];return h[d]=e(g),(function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)})(c,this,h)}),a+"")})(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:void 0,g=e>2?c[2]:void 0;for(f=a.length>3&&"function"==typeof f?(e--,f):void 0,g&&(function(a,b,c){if(!Ia(c))return!1;var d=typeof b;return("number"==d?!!(Da(c)&&pa(b,c.length)):"string"==d&&(b in c))&&Aa(c[b],a)})(c[0],c[1],g)&&(f=e<3?void 0:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}(function(a,b,c,d){ga(a,b,c,d)});function Qa(a){return function(){return a}}function Ra(a){return a}a.exports=Pa},1780:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return c(6437)}])},8418:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||f(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(6273),j=c(387),k=c(7190),l={};function m(a,b,c,d){if(a&&i.isLocalURL(b)){a.prefetch(b,c,d).catch(function(a){});var e=d&& void 0!==d.locale?d.locale:a&&a.locale;l[b+"%"+c+(e?"%"+e:"")]=!0}}b.default=function(a){var b,c=!1!==a.prefetch,d=j.useRouter(),f=h.default.useMemo(function(){var b=e(i.resolveHref(d,a.href,!0),2),c=b[0],f=b[1];return{href:c,as:a.as?i.resolveHref(d,a.as):f||c}},[d,a.href,a.as]),g=f.href,n=f.as,o=a.children,p=a.replace,q=a.shallow,r=a.scroll,s=a.locale;"string"==typeof o&&(o=h.default.createElement("a",null,o));var t=(b=h.default.Children.only(o))&&"object"==typeof b&&b.ref,u=e(k.useIntersection({rootMargin:"200px"}),2),v=u[0],w=u[1],x=h.default.useCallback(function(a){v(a),t&&("function"==typeof t?t(a):"object"==typeof t&&(t.current=a))},[t,v]);h.default.useEffect(function(){var a=w&&c&&i.isLocalURL(g),b=void 0!==s?s:d&&d.locale,e=l[g+"%"+n+(b?"%"+b:"")];a&&!e&&m(d,g,n,{locale:b})},[n,g,w,s,c,d]);var y={ref:x,onClick:function(a){var c,e,f,h,j,k,l,m,o,t;b.props&&"function"==typeof b.props.onClick&&b.props.onClick(a),a.defaultPrevented||(c=a,e=d,f=g,h=n,j=p,k=q,l=r,m=s,"A"===c.currentTarget.nodeName.toUpperCase()&&((t=(o=c).currentTarget.target)&&"_self"!==t||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.nativeEvent&&2===o.nativeEvent.which||!i.isLocalURL(f))||(c.preventDefault(),e[j?"replace":"push"](f,h,{shallow:k,locale:m,scroll:l})))}};if(y.onMouseEnter=function(a){b.props&&"function"==typeof b.props.onMouseEnter&&b.props.onMouseEnter(a),i.isLocalURL(g)&&m(d,g,n,{priority:!0})},a.passHref||"a"===b.type&&!("href"in b.props)){var z=void 0!==s?s:d&&d.locale,A=d&&d.isLocaleDomain&&i.getDomainLocale(n,z,d&&d.locales,d&&d.domainLocales);y.href=A||i.addBasePath(i.addLocale(n,z,d&&d.defaultLocale))}return h.default.cloneElement(b,y)}},7190:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||f(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}Object.defineProperty(b,"__esModule",{value:!0}),b.useIntersection=function(a){var b=a.rootRef,c=a.rootMargin,d=a.disabled||!i,f=g.useRef(),k=e(g.useState(!1),2),l=k[0],m=k[1],n=e(g.useState(b?b.current:null),2),o=n[0],p=n[1],q=g.useCallback(function(a){f.current&&(f.current(),f.current=void 0),!d&&!l&&a&&a.tagName&&(f.current=j(a,function(a){return a&&m(a)},{root:o,rootMargin:c}))},[d,o,c,l]);return g.useEffect(function(){if(!i&&!l){var a=h.requestIdleCallback(function(){return m(!0)});return function(){return h.cancelIdleCallback(a)}}},[l]),g.useEffect(function(){b&&p(b.current)},[b]),[q,l]};var g=c(7294),h=c(9311),i="undefined"!=typeof IntersectionObserver;function j(a,b,c){var d=m(c),e=d.id,f=d.observer,g=d.elements;return g.set(a,b),f.observe(a),function(){if(g.delete(a),f.unobserve(a),0===g.size){f.disconnect(),k.delete(e);var b=l.findIndex(function(a){return a.root===e.root&&a.margin===e.margin});b> -1&&l.splice(b,1)}}}var k=new Map(),l=[];function m(a){var b,c={root:a.root||null,margin:a.rootMargin||""},d=l.find(function(a){return a.root===c.root&&a.margin===c.margin});if(d?b=k.get(d):(b=k.get(c),l.push(c)),b)return b;var e=new Map(),f=new IntersectionObserver(function(a){a.forEach(function(a){var b=e.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},a);return k.set(c,b={id:c,observer:f,elements:e}),b}},638:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},e=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),e.forEach(function(b){d(a,b,c[b])})}return a}b.default=function(a,b){var c,d,g=f.default,i={loading:function(a){return a.error,a.isLoading,a.pastDelay,null}};(c=a,null!=(d=Promise)&&"undefined"!=typeof Symbol&&d[Symbol.hasInstance]?d[Symbol.hasInstance](c):c instanceof d)?i.loader=function(){return a}:"function"==typeof a?i.loader=a:"object"==typeof a&&(i=e({},i,a));var j=i=e({},i,b);if(j.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(j.suspense)return g(j);if(i.loadableGenerated&&delete(i=e({},i,i.loadableGenerated)).loadableGenerated,"boolean"==typeof i.ssr){if(!i.ssr)return delete i.ssr,h(g,i);delete i.ssr}return g(i)},g(c(7294));var f=g(c(4302));function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){return delete b.webpack,delete b.modules,a(b)}},6319:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoadableContext=void 0;var d,e=((d=c(7294))&&d.__esModule?d:{default:d}).default.createContext(null);b.LoadableContext=e},4302:function(a,b,c){"use strict";function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(7161),j=c(6319),k=[],l=[],m=!1;function n(a){var b=a(),c={loading:!0,loaded:null,error:null};return c.promise=b.then(function(a){return c.loading=!1,c.loaded=a,a}).catch(function(a){throw c.loading=!1,c.error=a,a}),c}var o=function(){var a,b,c;function e(a,b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),this._loadFn=a,this._opts=b,this._callbacks=new Set(),this._delay=null,this._timeout=null,this.retry()}return a=e,b=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var a=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var b=this._res,c=this._opts;if(b.loading){if("number"==typeof c.delay)if(0===c.delay)this._state.pastDelay=!0;else{var d=this;this._delay=setTimeout(function(){d._update({pastDelay:!0})},c.delay)}if("number"==typeof c.timeout){var e=this;this._timeout=setTimeout(function(){e._update({timedOut:!0})},c.timeout)}}this._res.promise.then(function(){a._update({}),a._clearTimeouts()}).catch(function(b){a._update({}),a._clearTimeouts()}),this._update({})}},{key:"_update",value:function(a){this._state=f({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},a),this._callbacks.forEach(function(a){return a()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(a){var b=this;return this._callbacks.add(a),function(){b._callbacks.delete(a)}}}],d(a.prototype,b),c&&d(a,c),e}();function p(a){return(function(a,b){var c=function(){if(!e){var b=new o(a,d);e={getCurrentValue:b.getCurrentValue.bind(b),subscribe:b.subscribe.bind(b),retry:b.retry.bind(b),promise:b.promise.bind(b)}}return e.promise()},d=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},b);d.suspense&&(d.lazy=h.default.lazy(d.loader));var e=null;if(!m&&!d.suspense){var g=d.webpack&&1?d.webpack():d.modules;g&&l.push(function(a){var b=!0,d=!1,e=void 0;try{for(var f,h=g[Symbol.iterator]();!(b=(f=h.next()).done);b=!0){var i=f.value;if(-1!==a.indexOf(i))return c()}}catch(j){d=!0,e=j}finally{try{b||null==h.return||h.return()}finally{if(d)throw e}}})}var k=d.suspense?function(a,b){return h.default.createElement(d.lazy,f({},a,{ref:b}))}:function(a,b){c();var f=h.default.useContext(j.LoadableContext),g=i.useSubscription(e);return h.default.useImperativeHandle(b,function(){return{retry:e.retry}},[]),f&&Array.isArray(d.modules)&&d.modules.forEach(function(a){f(a)}),h.default.useMemo(function(){var b;return g.loading||g.error?h.default.createElement(d.loading,{isLoading:g.loading,pastDelay:g.pastDelay,timedOut:g.timedOut,error:g.error,retry:e.retry}):g.loaded?h.default.createElement((b=g.loaded)&&b.__esModule?b.default:b,a):null},[a,g])};return k.preload=function(){return!d.suspense&&c()},k.displayName="LoadableComponent",h.default.forwardRef(k)})(n,a)}function q(a,b){for(var c=[];a.length;){var d=a.pop();c.push(d(b))}return Promise.all(c).then(function(){if(a.length)return q(a,b)})}p.preloadAll=function(){return new Promise(function(a,b){q(k).then(a,b)})},p.preloadReady=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return new Promise(function(b){var c=function(){return m=!0,b()};q(l,a).then(c,c)})},window.__NEXT_PRELOADREADY=p.preloadReady,b.default=p},6437:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return qMa}});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=c(5893),y=c(7294),z=c(917),A=function(){return y.createElement(z.xB,{styles:"\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: 'kern';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type=\"button\"]::-moz-focus-inner,\n      [type=\"reset\"]::-moz-focus-inner,\n      [type=\"submit\"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type=\"checkbox\"],\n      [type=\"radio\"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type=\"number\"]::-webkit-inner-spin-button,\n      [type=\"number\"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      [type=\"search\"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type=\"search\"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role=\"button\"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    "})},B=c(5031),C=c(6450),D=c(7375),E=c(8698),F=c(3935),G=(0,C.kr)({strict:!1,name:"PortalManagerContext"}),H=G[0],I=G[1];function J(a){var b=a.children,c=a.zIndex;return y.createElement(H,{value:{zIndex:c}},b)}function K(){return(K=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}B.Ts&&(J.displayName="PortalManager");var L=["containerRef"],M=(0,C.kr)({strict:!1,name:"PortalContext"}),N=M[0],O=M[1],P="chakra-portal",Q=function(a){return y.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:a.zIndex,top:0,left:0,right:0}},a.children)},R=function(a){var b=a.appendToParentPortal,c=a.children,d=y.useRef(null),e=y.useRef(null),f=(0,D.NW)(),g=O(),h=I();(0,E.a)(function(){if(d.current){var a=d.current.ownerDocument,c=b&&null!=g?g:a.body;if(c){e.current=a.createElement("div"),e.current.className=P,c.appendChild(e.current),f();var h=e.current;return function(){c.contains(h)&&c.removeChild(h)}}}},[]);var i=null!=h&&h.zIndex?y.createElement(Q,{zIndex:null==h?void 0:h.zIndex},c):c;return e.current?(0,F.createPortal)(y.createElement(N,{value:e.current},i),e.current):y.createElement("span",{ref:d})},S=function(a){var b=a.children,c=a.containerRef,d=a.appendToParentPortal,e=c.current,f=null!=e?e:B.jU?document.body:void 0,g=y.useMemo(function(){var a=null==e?void 0:e.ownerDocument.createElement("div");return a&&(a.className=P),a},[e]),h=(0,D.NW)();return((0,E.a)(function(){h()},[]),(0,E.a)(function(){if(g&&f)return f.appendChild(g),function(){f.removeChild(g)}},[g,f]),f&&g)?(0,F.createPortal)(y.createElement(N,{value:d?g:null},b),g):null};function T(a){var b=a.containerRef,c=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,L);return b?y.createElement(S,K({containerRef:b},c)):y.createElement(R,c)}T.defaultProps={appendToParentPortal:!0},T.className=P,T.selector=".chakra-portal",B.Ts&&(T.displayName="Portal");var U=c(6052),V=c(949),W=c(5393),X={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"};function Y(){return(Y=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var Z=Y({},X,{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem"},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}});function $(a,b){aa(a)&&(a="100%");var c=ba(a);return(a=360===b?a:Math.min(b,Math.max(0,parseFloat(a))),c&&(a=parseInt(String(a*b),10)/100),1e-6>Math.abs(a-b))?1:a=360===b?(a<0?a%b+b:a%b)/parseFloat(String(b)):a%b/parseFloat(String(b))}function _(a){return Math.min(1,Math.max(0,a))}function aa(a){return"string"==typeof a&& -1!==a.indexOf(".")&&1===parseFloat(a)}function ba(a){return"string"==typeof a&& -1!==a.indexOf("%")}function ca(a){return(isNaN(a=parseFloat(a))||a<0||a>1)&&(a=1),a}function da(a){return a<=1?100*Number(a)+"%":a}function ea(a){return 1===a.length?"0"+a:String(a)}function fa(a,b,c){var d=Math.max(a=$(a,255),b=$(b,255),c=$(c,255)),e=Math.min(a,b,c),f=0,g=0,h=(d+e)/2;if(d===e)g=0,f=0;else{var i=d-e;switch(g=h>.5?i/(2-d-e):i/(d+e),d){case a:f=(b-c)/i+(b<c?6:0);break;case b:f=(c-a)/i+2;break;case c:f=(a-b)/i+4;break;default:break}f/=6}return{h:f,s:g,l:h}}function ga(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*(6*c):c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function ha(a,b,c){var d=Math.max(a=$(a,255),b=$(b,255),c=$(c,255)),e=Math.min(a,b,c),f=0,g=d-e;if(d===e)f=0;else{switch(d){case a:f=(b-c)/g+(b<c?6:0);break;case b:f=(c-a)/g+2;break;case c:f=(a-b)/g+4;break;default:break}f/=6}return{h:f,s:0===d?0:g/d,v:d}}function ia(a,b,c,d){var e=[ea(Math.round(a).toString(16)),ea(Math.round(b).toString(16)),ea(Math.round(c).toString(16)),];return d&&e[0].startsWith(e[0].charAt(1))&&e[1].startsWith(e[1].charAt(1))&&e[2].startsWith(e[2].charAt(1))?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function ja(a){return ka(a)/255}function ka(a){return parseInt(a,16)}var la={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ma="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",na="[\\s|\\(]+("+ma+")[,|\\s]+("+ma+")[,|\\s]+("+ma+")\\s*\\)?",oa="[\\s|\\(]+("+ma+")[,|\\s]+("+ma+")[,|\\s]+("+ma+")[,|\\s]+("+ma+")\\s*\\)?",pa={CSS_UNIT:new RegExp(ma),rgb:new RegExp("rgb"+na),rgba:new RegExp("rgba"+oa),hsl:new RegExp("hsl"+na),hsla:new RegExp("hsla"+oa),hsv:new RegExp("hsv"+na),hsva:new RegExp("hsva"+oa),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function qa(a){return Boolean(pa.CSS_UNIT.exec(String(a)))}var ra=function(){function a(b,c){if(void 0===b&&(b=""),void 0===c&&(c={}),b instanceof a)return b;if("number"==typeof b){var d;b={r:(d=b)>>16,g:(65280&d)>>8,b:255&d}}this.originalInput=b;var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=(u={r:0,g:0,b:0},v=1,w=null,x=null,y=null,z=!1,A=!1,"string"==typeof(e=b)&&(e=function(a){if(0===(a=a.trim().toLowerCase()).length)return!1;var b=!1;if(la[a])a=la[a],b=!0;else if("transparent"===a)return{r:0,g:0,b:0,a:0,format:"name"};var c=pa.rgb.exec(a);return c?{r:c[1],g:c[2],b:c[3]}:(c=pa.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=pa.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=pa.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=pa.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=pa.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=pa.hex8.exec(a))?{r:ka(c[1]),g:ka(c[2]),b:ka(c[3]),a:ja(c[4]),format:b?"name":"hex8"}:(c=pa.hex6.exec(a))?{r:ka(c[1]),g:ka(c[2]),b:ka(c[3]),format:b?"name":"hex"}:(c=pa.hex4.exec(a))?{r:ka(c[1]+c[1]),g:ka(c[2]+c[2]),b:ka(c[3]+c[3]),a:ja(c[4]+c[4]),format:b?"name":"hex8"}:!!(c=pa.hex3.exec(a))&&{r:ka(c[1]+c[1]),g:ka(c[2]+c[2]),b:ka(c[3]+c[3]),format:b?"name":"hex"}}(e)),"object"==typeof e&&(qa(e.r)&&qa(e.g)&&qa(e.b)?(f=e.r,g=e.g,h=e.b,u={r:255*$(f,255),g:255*$(g,255),b:255*$(h,255)},z=!0,A="%"===String(e.r).substr(-1)?"prgb":"rgb"):qa(e.h)&&qa(e.s)&&qa(e.v)?(w=da(e.s),x=da(e.v),i=e.h,j=w,k=x,i=6*$(i,360),j=$(j,100),k=$(k,100),l=Math.floor(i),m=i-l,n=k*(1-j),o=k*(1-m*j),p=k*(1-(1-m)*j),q=l%6,r=[k,o,n,n,p,k][q],s=[p,k,k,o,n,n][q],t=[n,n,p,k,k,o][q],u={r:255*r,g:255*s,b:255*t},z=!0,A="hsv"):qa(e.h)&&qa(e.s)&&qa(e.l)&&(w=da(e.s),y=da(e.l),u=function(a,b,c){if(a=$(a,360),b=$(b,100),c=$(c,100),0===b)e=c,f=c,d=c;else{var d,e,f,g=c<.5?c*(1+b):c+b-c*b,h=2*c-g;d=ga(h,g,a+1/3),e=ga(h,g,a),f=ga(h,g,a-1/3)}return{r:255*d,g:255*e,b:255*f}}(e.h,w,y),z=!0,A="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(v=e.a)),v=ca(v),{ok:z,format:e.format||A,r:Math.min(255,Math.max(u.r,0)),g:Math.min(255,Math.max(u.g,0)),b:Math.min(255,Math.max(u.b,0)),a:v});this.originalInput=b,this.r=C.r,this.g=C.g,this.b=C.b,this.a=C.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(B=c.format)&& void 0!==B?B:C.format,this.gradientType=c.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=C.ok}return a.prototype.isDark=function(){return 128>this.getBrightness()},a.prototype.isLight=function(){return!this.isDark()},a.prototype.getBrightness=function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},a.prototype.getLuminance=function(){var a=this.toRgb(),b=a.r/255,c=a.g/255,d=a.b/255;return .2126*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.7152*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.0722*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))},a.prototype.getAlpha=function(){return this.a},a.prototype.setAlpha=function(a){return this.a=ca(a),this.roundA=Math.round(100*this.a)/100,this},a.prototype.toHsv=function(){var a=ha(this.r,this.g,this.b);return{h:360*a.h,s:a.s,v:a.v,a:this.a}},a.prototype.toHsvString=function(){var a=ha(this.r,this.g,this.b),b=Math.round(360*a.h),c=Math.round(100*a.s),d=Math.round(100*a.v);return 1===this.a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this.roundA+")"},a.prototype.toHsl=function(){var a=fa(this.r,this.g,this.b);return{h:360*a.h,s:a.s,l:a.l,a:this.a}},a.prototype.toHslString=function(){var a=fa(this.r,this.g,this.b),b=Math.round(360*a.h),c=Math.round(100*a.s),d=Math.round(100*a.l);return 1===this.a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this.roundA+")"},a.prototype.toHex=function(a){return void 0===a&&(a=!1),ia(this.r,this.g,this.b,a)},a.prototype.toHexString=function(a){return void 0===a&&(a=!1),"#"+this.toHex(a)},a.prototype.toHex8=function(a){var b,c,d,e,f,g;return void 0===a&&(a=!1),b=this.r,c=this.g,d=this.b,e=this.a,f=a,g=[ea(Math.round(b).toString(16)),ea(Math.round(c).toString(16)),ea(Math.round(d).toString(16)),ea(Math.round(255*parseFloat(e)).toString(16)),],f&&g[0].startsWith(g[0].charAt(1))&&g[1].startsWith(g[1].charAt(1))&&g[2].startsWith(g[2].charAt(1))&&g[3].startsWith(g[3].charAt(1))?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0)+g[3].charAt(0):g.join("")},a.prototype.toHex8String=function(a){return void 0===a&&(a=!1),"#"+this.toHex8(a)},a.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},a.prototype.toRgbString=function(){var a=Math.round(this.r),b=Math.round(this.g),c=Math.round(this.b);return 1===this.a?"rgb("+a+", "+b+", "+c+")":"rgba("+a+", "+b+", "+c+", "+this.roundA+")"},a.prototype.toPercentageRgb=function(){var a=function(a){return Math.round(100*$(a,255))+"%"};return{r:a(this.r),g:a(this.g),b:a(this.b),a:this.a}},a.prototype.toPercentageRgbString=function(){var a=function(a){return Math.round(100*$(a,255))};return 1===this.a?"rgb("+a(this.r)+"%, "+a(this.g)+"%, "+a(this.b)+"%)":"rgba("+a(this.r)+"%, "+a(this.g)+"%, "+a(this.b)+"%, "+this.roundA+")"},a.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var a="#"+ia(this.r,this.g,this.b,!1),b=0,c=Object.entries(la);b<c.length;b++){var d=c[b],e=d[0],f=d[1];if(a===f)return e}return!1},a.prototype.toString=function(a){var b=Boolean(a);a=null!=a?a:this.format;var c=!1,d=this.a<1&&this.a>=0,e=!b&&d&&(a.startsWith("hex")||"name"===a);return e?"name"===a&&0===this.a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},a.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},a.prototype.clone=function(){return new a(this.toString())},a.prototype.lighten=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.l+=b/100,c.l=_(c.l),new a(c)},a.prototype.brighten=function(b){void 0===b&&(b=10);var c=this.toRgb();return c.r=Math.max(0,Math.min(255,c.r-Math.round(-(255*(b/100))))),c.g=Math.max(0,Math.min(255,c.g-Math.round(-(255*(b/100))))),c.b=Math.max(0,Math.min(255,c.b-Math.round(-(255*(b/100))))),new a(c)},a.prototype.darken=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.l-=b/100,c.l=_(c.l),new a(c)},a.prototype.tint=function(a){return void 0===a&&(a=10),this.mix("white",a)},a.prototype.shade=function(a){return void 0===a&&(a=10),this.mix("black",a)},a.prototype.desaturate=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.s-=b/100,c.s=_(c.s),new a(c)},a.prototype.saturate=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.s+=b/100,c.s=_(c.s),new a(c)},a.prototype.greyscale=function(){return this.desaturate(100)},a.prototype.spin=function(b){var c=this.toHsl(),d=(c.h+b)%360;return c.h=d<0?360+d:d,new a(c)},a.prototype.mix=function(b,c){void 0===c&&(c=50);var d=this.toRgb(),e=new a(b).toRgb(),f=c/100,g={r:(e.r-d.r)*f+d.r,g:(e.g-d.g)*f+d.g,b:(e.b-d.b)*f+d.b,a:(e.a-d.a)*f+d.a};return new a(g)},a.prototype.analogous=function(b,c){void 0===b&&(b=6),void 0===c&&(c=30);var d=this.toHsl(),e=360/c,f=[this];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(new a(d));return f},a.prototype.complement=function(){var b=this.toHsl();return b.h=(b.h+180)%360,new a(b)},a.prototype.monochromatic=function(b){void 0===b&&(b=6);for(var c=this.toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(new a({h:d,s:e,v:f})),f=(f+h)%1;return g},a.prototype.splitcomplement=function(){var b=this.toHsl(),c=b.h;return[this,new a({h:(c+72)%360,s:b.s,l:b.l}),new a({h:(c+216)%360,s:b.s,l:b.l}),]},a.prototype.onBackground=function(b){var c=this.toRgb(),d=new a(b).toRgb();return new a({r:d.r+(c.r-d.r)*c.a,g:d.g+(c.g-d.g)*c.a,b:d.b+(c.b-d.b)*c.a})},a.prototype.triad=function(){return this.polyad(3)},a.prototype.tetrad=function(){return this.polyad(4)},a.prototype.polyad=function(b){for(var c=this.toHsl(),d=c.h,e=[this],f=360/b,g=1;g<b;g++)e.push(new a({h:(d+g*f)%360,s:c.s,l:c.l}));return e},a.prototype.equals=function(b){return this.toRgbString()===new a(b).toRgbString()},a}();function sa(a){if(void 0===a&&(a={}),void 0!==a.count&&null!==a.count){var b=a.count,c=[];for(a.count=void 0;b>c.length;)a.count=null,a.seed&&(a.seed+=1),c.push(sa(a));return a.count=b,c}var d=ta(a.hue,a.seed),e=ua(d,a),f=va(d,e,a),g={h:d,s:e,v:f};return void 0!==a.alpha&&(g.a=a.alpha),new ra(g)}function ta(a,b){var c=za(xa(a),b);return c<0&&(c=360+c),c}function ua(a,b){if("monochrome"===b.hue)return 0;if("random"===b.luminosity)return za([0,100],b.seed);var c=ya(a).saturationRange,d=c[0],e=c[1];switch(b.luminosity){case"bright":d=55;break;case"dark":d=e-10;break;case"light":e=55;break;default:break}return za([d,e],b.seed)}function va(a,b,c){var d=wa(a,b),e=100;switch(c.luminosity){case"dark":e=d+20;break;case"light":d=(e+d)/2;break;case"random":d=0,e=100;break;default:break}return za([d,e],c.seed)}function wa(a,b){for(var c=ya(a).lowerBounds,d=0;d<c.length-1;d++){var e=c[d][0],f=c[d][1],g=c[d+1][0],h=c[d+1][1];if(b>=e&&b<=g){var i=(h-f)/(g-e),j=f-i*e;return i*b+j}}return 0}function xa(a){var b=parseInt(a,10);if(!Number.isNaN(b)&&b<360&&b>0)return[b,b];if("string"==typeof a){var c=Ba.find(function(b){return b.name===a});if(c){var d=Aa(c);if(d.hueRange)return d.hueRange}var e=new ra(a);if(e.isValid){var f=e.toHsv().h;return[f,f]}}return[0,360]}function ya(a){a>=334&&a<=360&&(a-=360);for(var b=0,c=Ba;b<c.length;b++){var d=Aa(c[b]);if(d.hueRange&&a>=d.hueRange[0]&&a<=d.hueRange[1])return d}throw Error("Color not found")}function za(a,b){if(void 0===b)return Math.floor(a[0]+Math.random()*(a[1]+1-a[0]));var c=a[1]||1,d=a[0]||0;return Math.floor(d+(b=(9301*b+49297)%233280)/233280*(c-d))}function Aa(a){var b=a.lowerBounds[0][0],c=a.lowerBounds[a.lowerBounds.length-1][0],d=a.lowerBounds[a.lowerBounds.length-1][1],e=a.lowerBounds[0][1];return{name:a.name,hueRange:a.hueRange,lowerBounds:a.lowerBounds,saturationRange:[b,c],brightnessRange:[d,e]}}var Ba=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0],]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50],]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70],]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75],]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40],]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35],]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42],]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73],]},],Ca=function(a,b,c){var d=(0,B.Wf)(a,"colors."+b,b);return new ra(d).isValid?d:c},Da=function(a,b){return function(c){var d=Ca(c,a);return new ra(d).setAlpha(b).toRgbString()}};function Ea(a,b){return void 0===a&&(a="1rem"),void 0===b&&(b="rgba(255, 255, 255, 0.15)"),{backgroundImage:"linear-gradient(\n    45deg,\n    "+b+" 25%,\n    transparent 25%,\n    transparent 50%,\n    "+b+" 50%,\n    "+b+" 75%,\n    transparent 75%,\n    transparent\n  )",backgroundSize:a+" "+a}}function Fa(a,b){return function(c){return"dark"===c.colorMode?b:a}}function Ga(a){var b=a.orientation,c=a.vertical,d=a.horizontal;return b?"vertical"===b?c:d:{}}function Ha(){return(Ha=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function Ia(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var Ja=function(){var a,b,c;function d(a){var b=this;this.map={},this.called=!1,this.assert=function(){if(!b.called){b.called=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")},this.parts=function(){b.assert();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];for(var e=0,f=c;e<f.length;e++){var g=f[e];b.map[g]=b.toPart(g)}return b},this.extend=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];for(var e=0,f=c;e<f.length;e++){var g=f[e];g in b.map||(b.map[g]=b.toPart(g))}return b},this.toPart=function(a){var c="chakra-"+(["container","root"].includes(null!=a?a:"")?[b.name]:[b.name,a]).filter(Boolean).join("__");return{className:c,selector:"."+c,toString:function(){return a}}},this.__type={}}return a=d,b=[{key:"selectors",get:function(){return(0,B.sq)(Object.entries(this.map).map(function(a){var b=a[0],c=a[1];return[b,c.selector]}))}},{key:"classNames",get:function(){return(0,B.sq)(Object.entries(this.map).map(function(a){var b=a[0],c=a[1];return[b,c.className]}))}},{key:"keys",get:function(){return Object.keys(this.map)}}],Ia(a.prototype,b),c&&Ia(a,c),d}();function Ka(a){return new Ja(a)}function La(a){return(0,B.Kn)(a)&&a.reference?a.reference:String(a)}var Ma=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.map(La).join(" "+a+" ").replace(/calc/g,"")},Na=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ma.apply(void 0,["+"].concat(b))+")"},Oa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ma.apply(void 0,["-"].concat(b))+")"},Pa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ma.apply(void 0,["*"].concat(b))+")"},Qa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ma.apply(void 0,["/"].concat(b))+")"},Ra=function(a){var b=La(a);return null==b||Number.isNaN(parseFloat(b))?Pa(b,-1):String(b).startsWith("-")?String(b).slice(1):"-"+b},Sa=Object.assign(function(a){return{add:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Sa(Na.apply(void 0,[a].concat(c)))},subtract:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Sa(Oa.apply(void 0,[a].concat(c)))},multiply:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Sa(Pa.apply(void 0,[a].concat(c)))},divide:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Sa(Qa.apply(void 0,[a].concat(c)))},negate:function(){return Sa(Ra(a))},toString:function(){return a.toString()}}},{add:Na,subtract:Oa,multiply:Pa,divide:Qa,negate:Ra});function Ta(a){var b,c,d=(void 0===c&&(c="-"),a.toString().replace(/\s+/g,c));return d.includes("\\.")?a:(b=a,Number.isInteger(parseFloat(b.toString())))?a:d.replace(".","\\.")}function Ua(a,b){var c,d,e,f,g,h,i=(c=a,void 0===(d=null==b?void 0:b.prefix)&&(d=""),"--"+(e=c,void 0===(f=d)&&(f=""),[f,Ta(e)].filter(Boolean).join("-")));return{variable:i,reference:(g=i,h=Va(null==b?void 0:b.fallback),"var("+Ta(g)+(h?", "+h:"")+")")}}function Va(a){return"string"==typeof a?a:null==a?void 0:a.reference}var Wa=Ka("accordion").parts("container","item","button","panel").extend("icon"),Xa=Ka("alert").parts("title","description","container").extend("icon"),Ya=Ka("avatar").parts("label","badge","container").extend("excessLabel","group"),Za=Ka("breadcrumb").parts("link","item","container").extend("separator");Ka("button").parts();var $a=Ka("checkbox").parts("control","icon","container").extend("label");Ka("progress").parts("track","filledTrack").extend("label");var _a=Ka("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),ab=Ka("editable").parts("preview","input"),bb=Ka("form").parts("container","requiredIndicator","helperText"),cb=Ka("formError").parts("text","icon"),db=Ka("input").parts("addon","field","element"),eb=Ka("list").parts("container","item","icon"),fb=Ka("menu").parts("button","list","item").extend("groupTitle","command","divider"),gb=Ka("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),hb=Ka("numberinput").parts("root","field","stepperGroup","stepper");Ka("pininput").parts("field");var ib=Ka("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),jb=Ka("progress").parts("label","filledTrack","track"),kb=Ka("radio").parts("container","control","label"),lb=Ka("select").parts("field","icon"),mb=Ka("slider").parts("container","track","thumb","filledTrack"),nb=Ka("stat").parts("container","label","helpText","number","icon"),ob=Ka("switch").parts("container","track","thumb"),pb=Ka("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),qb=Ka("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),rb=Ka("tag").parts("container","label","closeButton"),sb={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,"short":1.375,base:1.5,tall:1.625,taller:"2","3":".75rem","4":"1rem","5":"1.25rem","6":"1.5rem","7":"1.75rem","8":"2rem","9":"2.25rem","10":"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:"-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",body:"-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",mono:"SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},tb=c(8554),ub=c.n(tb),vb={parts:Wa.keys,baseStyle:{container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"1rem",_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:4,py:2},panel:{pt:2,px:4,pb:5},icon:{fontSize:"1.25em"}}};function wb(a){var b=a.theme,c=a.colorScheme,d=Ca(b,c+".100",c),e=Da(c+".200",.16)(b);return Fa(d,e)(a)}var xb={parts:Xa.keys,baseStyle:{container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,marginEnd:2},description:{lineHeight:6},icon:{flexShrink:0,marginEnd:3,w:5,h:6}},variants:{subtle:function(a){var b=a.colorScheme;return{container:{bg:wb(a)},icon:{color:Fa(b+".500",b+".200")(a)}}},"left-accent":function(a){var b=a.colorScheme;return{container:{paddingStart:3,borderStartWidth:"4px",borderStartColor:Fa(b+".500",b+".200")(a),bg:wb(a)},icon:{color:Fa(b+".500",b+".200")(a)}}},"top-accent":function(a){var b=a.colorScheme;return{container:{pt:2,borderTopWidth:"4px",borderTopColor:Fa(b+".500",b+".200")(a),bg:wb(a)},icon:{color:Fa(b+".500",b+".200")(a)}}},solid:function(a){var b=a.colorScheme;return{container:{bg:Fa(b+".500",b+".200")(a),color:Fa("white","gray.900")(a)}}}},defaultProps:{variant:"subtle",colorScheme:"blue"}},yb=function(a){var b,c,d,e,f=a.name,g=a.theme,h=f?(c={string:f},d=sa().toHexString(),!c||(0,B.Qr)(c)?d:c.string&&c.colors?function(a,b){var c=0;if(0===a.length)return b[0];for(var d=0;d<a.length;d+=1)c=a.charCodeAt(d)+((c<<5)-c),c&=c;return c=(c%b.length+b.length)%b.length,b[c]}(c.string,c.colors):c.string&&!c.colors?function(a){var b=0;if(0===a.length)return b.toString();for(var c=0;c<a.length;c+=1)b=a.charCodeAt(c)+((b<<5)-b),b&=b;for(var d="#",e=0;e<3;e+=1)d+=("00"+(b>>8*e&255).toString(16)).substr(-2);return d}(c.string):c.colors&&!c.string?(b=c.colors)[Math.floor(Math.random()*b.length)]:d):"gray.400",i=(e=h,function(a){var b;return"dark"===(b=e,function(a){var c=Ca(a,b);return new ra(c).isDark()?"dark":"light"})(a)})(g),j="white";return i||(j="gray.800"),{bg:h,color:j,borderColor:Fa("white","gray.800")(a),verticalAlign:"top"}};function zb(a){var b=Z[a];return{container:{width:a,height:a,fontSize:"calc("+(null!=b?b:a)+" / 2.5)"},excessLabel:{width:a,height:a},label:{fontSize:"calc("+(null!=b?b:a)+" / 2.5)",lineHeight:"100%"!==a?null!=b?b:a:void 0}}}var Ab={"2xs":zb("4"),xs:zb("6"),sm:zb("8"),md:zb("12"),lg:zb("16"),xl:zb("24"),"2xl":zb("32"),full:zb("100%")},Bb={parts:Ya.keys,baseStyle:function(a){var b,c;return{badge:(b=a,{transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:Fa("white","gray.800")(b)}),excessLabel:(c=a,{bg:Fa("gray.200","whiteAlpha.400")(c)}),container:yb(a)}},sizes:Ab,defaultProps:{size:"md"}},Cb={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variants:{solid:function(a){var b=a.colorScheme,c=a.theme,d=Da(b+".500",.6)(c);return{bg:Fa(b+".500",d)(a),color:Fa("white","whiteAlpha.800")(a)}},subtle:function(a){var b=a.colorScheme,c=a.theme,d=Da(b+".200",.16)(c);return{bg:Fa(b+".100",d)(a),color:Fa(b+".800",b+".200")(a)}},outline:function(a){var b=a.colorScheme,c=a.theme,d=Da(b+".200",.8)(c),e=Ca(c,b+".500"),f=Fa(e,d)(a);return{color:f,boxShadow:"inset 0 0 0px 1px "+f}}},defaultProps:{variant:"subtle",colorScheme:"gray"}},Db={parts:Za.keys,baseStyle:{link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}}},Eb=function(a){var b=a.colorScheme,c=a.theme;if("gray"===b)return{color:Fa("inherit","whiteAlpha.900")(a),_hover:{bg:Fa("gray.100","whiteAlpha.200")(a)},_active:{bg:Fa("gray.200","whiteAlpha.300")(a)}};var d=Da(b+".200",.12)(c),e=Da(b+".200",.24)(c);return{color:Fa(b+".600",b+".200")(a),bg:"transparent",_hover:{bg:Fa(b+".50",d)(a)},_active:{bg:Fa(b+".100",e)(a)}}},Fb={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Gb=function(a){var b=a.colorScheme;return{w:"100%",transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Fa(b+".500",b+".200")(a),borderColor:Fa(b+".500",b+".200")(a),color:Fa("white","gray.900")(a),_hover:{bg:Fa(b+".600",b+".300")(a),borderColor:Fa(b+".600",b+".300")(a)},_disabled:{borderColor:Fa("gray.200","transparent")(a),bg:Fa("gray.200","whiteAlpha.300")(a),color:Fa("gray.500","whiteAlpha.500")(a)}},_indeterminate:{bg:Fa(b+".500",b+".200")(a),borderColor:Fa(b+".500",b+".200")(a),color:Fa("white","gray.900")(a)},_disabled:{bg:Fa("gray.100","whiteAlpha.100")(a),borderColor:Fa("gray.100","transparent")(a)},_focus:{boxShadow:"outline"},_invalid:{borderColor:Fa("red.500","red.300")(a)}}},Hb={userSelect:"none",_disabled:{opacity:.4}},Ib={transitionProperty:"transform",transitionDuration:"normal"},Jb={parts:$a.keys,baseStyle:function(a){return{icon:Ib,control:Gb(a),label:Hb}},sizes:{sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps:{size:"md",colorScheme:"blue"}},Kb=Ua("close-button-size"),Lb={lg:((d={})[Kb.variable]="40px",d.fontSize="16px",d),md:((e={})[Kb.variable]="32px",e.fontSize="12px",e),sm:((f={})[Kb.variable]="24px",f.fontSize="10px",f)},Mb=Cb.variants,Nb=Cb.defaultProps;function Ob(a){return"full"===a?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:a}}}var Pb={bg:"blackAlpha.600",zIndex:"overlay"},Qb={display:"flex",zIndex:"modal",justifyContent:"center"},Rb={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},Sb={position:"absolute",top:2,insetEnd:3},Tb={px:6,py:2,flex:1,overflow:"auto"},Ub={px:6,py:4},Vb={xs:Ob("xs"),sm:Ob("md"),md:Ob("lg"),lg:Ob("2xl"),xl:Ob("4xl"),full:Ob("full")},Wb={parts:_a.keys,baseStyle:function(a){var b;return{overlay:Pb,dialogContainer:Qb,dialog:Y({},(b=a).isFullHeight&&{height:"100vh"},{zIndex:"modal",maxH:"100vh",bg:Fa("white","gray.700")(b),color:"inherit",boxShadow:Fa("lg","dark-lg")(b)}),header:Rb,closeButton:Sb,body:Tb,footer:Ub}},sizes:Vb,defaultProps:{size:"xs"}},Xb={parts:ab.keys,baseStyle:{preview:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal",width:"full",_focus:{boxShadow:"outline"},_placeholder:{opacity:.6}}}},Yb={parts:bb.keys,baseStyle:function(a){var b,c;return{container:{width:"100%",position:"relative"},requiredIndicator:(b=a,{marginStart:1,color:Fa("red.500","red.300")(b)}),helperText:(c=a,{mt:2,color:Fa("gray.500","whiteAlpha.600")(c),lineHeight:"normal",fontSize:"sm"})}}},Zb={parts:cb.keys,baseStyle:function(a){var b,c;return{text:(b=a,{color:Fa("red.500","red.300")(b),mt:2,fontSize:"sm",lineHeight:"normal"}),icon:(c=a,{marginEnd:"0.5em",color:Fa("red.500","red.300")(c)})}}},$b={lg:{fontSize:"lg",px:4,h:12,borderRadius:"md"},md:{fontSize:"md",px:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",px:3,h:8,borderRadius:"sm"},xs:{fontSize:"xs",px:2,h:6,borderRadius:"sm"}},_b={lg:{field:$b.lg,addon:$b.lg},md:{field:$b.md,addon:$b.md},sm:{field:$b.sm,addon:$b.sm},xs:{field:$b.xs,addon:$b.xs}};function ac(a){var b=a.focusBorderColor,c=a.errorBorderColor;return{focusBorderColor:b||Fa("blue.500","blue.300")(a),errorBorderColor:c||Fa("red.500","red.300")(a)}}var bc={parts:db.keys,baseStyle:{field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal"}},sizes:_b,variants:{outline:function(a){var b=a.theme,c=ac(a),d=c.focusBorderColor,e=c.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Fa("gray.300","whiteAlpha.400")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:Ca(b,e),boxShadow:"0 0 0 1px "+Ca(b,e)},_focus:{zIndex:1,borderColor:Ca(b,d),boxShadow:"0 0 0 1px "+Ca(b,d)}},addon:{border:"1px solid",borderColor:Fa("inherit","whiteAlpha.50")(a),bg:Fa("gray.100","whiteAlpha.300")(a)}}},filled:function(a){var b=a.theme,c=ac(a),d=c.focusBorderColor,e=c.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:Fa("gray.100","whiteAlpha.50")(a),_hover:{bg:Fa("gray.200","whiteAlpha.100")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:Ca(b,e)},_focus:{bg:"transparent",borderColor:Ca(b,d)}},addon:{border:"2px solid",borderColor:"transparent",bg:Fa("gray.100","whiteAlpha.50")(a)}}},flushed:function(a){var b=a.theme,c=ac(a),d=c.focusBorderColor,e=c.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ca(b,e),boxShadow:"0px 1px 0px 0px "+Ca(b,e)},_focus:{borderColor:Ca(b,d),boxShadow:"0px 1px 0px 0px "+Ca(b,d)}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent"}}},unstyled:{field:{bg:"transparent",px:0,height:"auto"},addon:{bg:"transparent",px:0,height:"auto"}}},defaultProps:{size:"md",variant:"outline"}},cc={parts:eb.keys,baseStyle:{container:{},item:{},icon:{marginEnd:"0.5rem",display:"inline",verticalAlign:"text-bottom"}}},dc={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},ec={opacity:.6},fc={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:.6},gc={transitionProperty:"common",transitionDuration:"normal"},hc={parts:fb.keys,baseStyle:function(a){var b,c;return{button:gc,list:(b=a,{bg:Fa("#fff","gray.700")(b),boxShadow:Fa("sm","dark-lg")(b),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}),item:(c=a,{py:"0.4rem",px:"0.8rem",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:Fa("gray.100","whiteAlpha.100")(c)},_active:{bg:Fa("gray.200","whiteAlpha.200")(c)},_expanded:{bg:Fa("gray.100","whiteAlpha.100")(c)},_disabled:{opacity:.4,cursor:"not-allowed"}}),groupTitle:dc,command:ec,divider:fc}}},ic={bg:"blackAlpha.600",zIndex:"modal"},jc=function(a){var b=a.isCentered,c=a.scrollBehavior;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:b?"center":"flex-start",overflow:"inside"===c?"hidden":"auto"}},kc=function(a){var b=a.scrollBehavior;return{borderRadius:"md",bg:Fa("white","gray.700")(a),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:"inside"===b?"calc(100% - 7.5rem)":void 0,boxShadow:Fa("lg","dark-lg")(a)}},lc={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},mc={position:"absolute",top:2,insetEnd:3},nc={px:6,py:4};function oc(a){return"full"===a?{dialog:{maxW:"100vw",minH:"100vh","@supports(min-height: -webkit-fill-available)":{minH:"-webkit-fill-available"},my:0}}:{dialog:{maxW:a}}}var pc={xs:oc("xs"),sm:oc("sm"),md:oc("md"),lg:oc("lg"),xl:oc("xl"),"2xl":oc("2xl"),"3xl":oc("3xl"),"4xl":oc("4xl"),"5xl":oc("5xl"),"6xl":oc("6xl"),full:oc("full")},qc={parts:gb.keys,baseStyle:function(a){return{overlay:ic,dialogContainer:jc(a),dialog:kc(a),header:lc,closeButton:mc,body:{px:6,py:2,flex:1,overflow:"inside"===a.scrollBehavior?"auto":void 0},footer:nc}},sizes:pc,defaultProps:{size:"md"}},rc=bc.variants,sc=bc.defaultProps,tc=Ua("number-input-stepper-width"),uc=Ua("number-input-input-padding"),vc=Sa(tc).add("0.5rem").toString(),wc=((g={})[tc.variable]="24px",g[uc.variable]=vc,g),xc=null!=(h=null==(i=bc.baseStyle)?void 0:i.field)?h:{},yc={width:[tc.reference]};function zc(a){var b,c,d=bc.sizes[a],e={lg:"md",md:"md",sm:"sm",xs:"sm"},f=null!=(b=null==(c=d.field)?void 0:c.fontSize)?b:"md",g=sb.fontSizes[f.toString()];return{field:Y({},d.field,{paddingInlineEnd:uc.reference,verticalAlign:"top"}),stepper:{fontSize:Sa(g).multiply(.75).toString(),_first:{borderTopEndRadius:e[a]},_last:{borderBottomEndRadius:e[a],mt:"-1px",borderTopWidth:1}}}}var Ac,Bc={xs:zc("xs"),sm:zc("sm"),md:zc("md"),lg:zc("lg")},Cc={parts:hb.keys,baseStyle:function(a){var b;return{root:wc,field:xc,stepperGroup:yc,stepper:(b=a,{borderStart:"1px solid",borderStartColor:Fa("inherit","whiteAlpha.300")(b),color:Fa("inherit","whiteAlpha.800")(b),_active:{bg:Fa("gray.200","whiteAlpha.300")(b)},_disabled:{opacity:.4,cursor:"not-allowed"}})}},sizes:Bc,variants:rc,defaultProps:sc},Dc=Y({},bc.baseStyle.field,{textAlign:"center"}),Ec={outline:function(a){var b;return null!=(b=bc.variants.outline(a).field)?b:{}},flushed:function(a){var b;return null!=(b=bc.variants.flushed(a).field)?b:{}},filled:function(a){var b;return null!=(b=bc.variants.filled(a).field)?b:{}},unstyled:null!=(j=bc.variants.unstyled.field)?j:{}},Fc=bc.defaultProps,Gc=Ua("popper-bg"),Hc=Ua("popper-arrow-bg"),Ic=Ua("popper-arrow-shadow-color"),Jc={zIndex:10},Kc=function(a){var b,c=Fa("white","gray.700")(a),d=Fa("gray.200","whiteAlpha.300")(a);return(b={})[Gc.variable]="colors."+c,b.bg=Gc.reference,b[Hc.variable]=Gc.reference,b[Ic.variable]="colors."+d,b.width="xs",b.border="1px solid",b.borderColor="inherit",b.borderRadius="md",b.boxShadow="sm",b.zIndex="inherit",b._focus={outline:0,boxShadow:"outline"},b},Lc={px:3,py:2,borderBottomWidth:"1px"},Mc={px:3,py:2},Nc={px:3,py:2,borderTopWidth:"1px"},Oc={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},Pc={parts:ib.keys,baseStyle:function(a){return{popper:Jc,content:Kc(a),header:Lc,body:Mc,footer:Nc,arrow:{},closeButton:Oc}}},Qc={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Rc=function(a){var b,c,d,e,f,g,h,i;return Y({transitionProperty:"common",transitionDuration:"slow"},(c=(b=a).colorScheme,d=b.theme,e=b.isIndeterminate,f=b.hasStripe,g=Fa(Ea(),Ea("1rem","rgba(0,0,0,0.1)"))(b),h=Fa(c+".500",c+".200")(b),i="linear-gradient(\n    to right,\n    transparent 0%,\n    "+Ca(d,h)+" 50%,\n    transparent 100%\n  )",Y({},!e&&f&&g,e?{bgImage:i}:{bgColor:h})))},Sc={parts:jb.keys,sizes:{xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},baseStyle:function(a){var b;return{label:Qc,filledTrack:Rc(a),track:(b=a,{bg:Fa("gray.100","whiteAlpha.300")(b)})}},defaultProps:{size:"md",colorScheme:"blue"}},Tc=function(a){var b=Jb.baseStyle(a).control,c=void 0===b?{}:b;return Y({},c,{borderRadius:"full",_checked:Y({},c["_checked"],{_before:{content:"\"\"",display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},Uc={parts:kb.keys,baseStyle:function(a){return{label:Jb.baseStyle(a).label,control:Tc(a)}},sizes:{md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps:{size:"md",colorScheme:"blue"}},Vc={width:"1.5rem",height:"100%",insetEnd:"0.5rem",position:"relative",color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:.5}},Wc={paddingInlineEnd:"2rem"},Xc=ub()({},bc.sizes,{lg:{field:Wc},md:{field:Wc},sm:{field:Wc},xs:{field:Wc,icon:{insetEnd:"0.25rem"}}}),Yc={parts:lb.keys,baseStyle:function(a){var b;return{field:(b=a,Y({},bc.baseStyle.field,{bg:Fa("white","gray.700")(b),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:Fa("white","gray.700")(b)}})),icon:Vc}},sizes:Xc,variants:bc.variants,defaultProps:bc.defaultProps},Zc=function(a){var b=a.colorScheme;return{width:"inherit",height:"inherit",bg:Fa(b+".500",b+".200")(a)}},$c={parts:mb.keys,sizes:{lg:function(a){return{thumb:{w:"16px",h:"16px"},track:Ga({orientation:a.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},md:function(a){return{thumb:{w:"14px",h:"14px"},track:Ga({orientation:a.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},sm:function(a){return{thumb:{w:"10px",h:"10px"},track:Ga({orientation:a.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}}},baseStyle:function(a){var b;return{container:Y({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},Ga({orientation:a.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}})),track:(b=a,{overflow:"hidden",borderRadius:"sm",bg:Fa("gray.200","whiteAlpha.200")(b),_disabled:{bg:Fa("gray.300","whiteAlpha.300")(b)}}),thumb:Y({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{bg:"gray.300"}},Ga({orientation:a.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})),filledTrack:Zc(a)}},defaultProps:{size:"md",colorScheme:"blue"}},_c=Ua("spinner-size"),ad={width:[_c.reference],height:[_c.reference]},bd={xs:((k={})[_c.variable]="0.75rem",k),sm:((l={})[_c.variable]="1rem",l),md:((m={})[_c.variable]="1.5rem",m),lg:((n={})[_c.variable]="2rem",n),xl:((o={})[_c.variable]="3rem",o)},cd={parts:nb.keys,baseStyle:{container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:2},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"14px",h:"14px",verticalAlign:"middle"}},sizes:{md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps:{size:"md"}},dd=Ua("switch-track-width"),ed=Ua("switch-track-height"),fd=Ua("switch-track-diff"),gd=Sa.subtract(dd,ed),hd=Ua("switch-thumb-x"),id=function(a){var b=a.colorScheme;return{borderRadius:"full",p:"2px",width:[dd.reference],height:[ed.reference],transitionProperty:"common",transitionDuration:"fast",bg:Fa("gray.300","whiteAlpha.400")(a),_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:Fa(b+".500",b+".200")(a)}}},jd={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[ed.reference],height:[ed.reference],_checked:{transform:"translateX("+hd.reference+")"}},kd={sm:{container:((p={})[dd.variable]="1.375rem",p[ed.variable]="0.75rem",p)},md:{container:((q={})[dd.variable]="1.875rem",q[ed.variable]="1rem",q)},lg:{container:((r={})[dd.variable]="2.875rem",r[ed.variable]="1.5rem",r)}},ld={parts:ob.keys,baseStyle:function(a){var b,c;return{container:((c={})[fd.variable]=gd,c[hd.variable]=fd.reference,(b={})[hd.variable]=Sa(fd).negate().toString(),c._rtl=b,c),track:id(a),thumb:jd}},sizes:kd,defaultProps:{size:"md",colorScheme:"blue"}},md={"&[data-is-numeric=true]":{textAlign:"end"}},nd={parts:pb.keys,baseStyle:{table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}},variants:{simple:function(a){var b=a.colorScheme;return{th:Y({color:Fa("gray.600","gray.400")(a),borderBottom:"1px",borderColor:Fa(b+".100",b+".700")(a)},md),td:Y({borderBottom:"1px",borderColor:Fa(b+".100",b+".700")(a)},md),caption:{color:Fa("gray.600","gray.100")(a)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},striped:function(a){var b=a.colorScheme;return{th:Y({color:Fa("gray.600","gray.400")(a),borderBottom:"1px",borderColor:Fa(b+".100",b+".700")(a)},md),td:Y({borderBottom:"1px",borderColor:Fa(b+".100",b+".700")(a)},md),caption:{color:Fa("gray.600","gray.100")(a)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Fa(b+".100",b+".700")(a)},td:{background:Fa(b+".100",b+".700")(a)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},unstyled:{}},sizes:{sm:{th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}},md:{th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}},lg:{th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}}},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}},od=function(a){var b=a.align,c=a.orientation;return{justifyContent:({end:"flex-end",center:"center",start:"flex-start"})[void 0===b?"start":b],flexDirection:"vertical"===c?"column":"row"}},pd={p:4},qd={parts:qb.keys,baseStyle:function(a){return{root:{display:"vertical"===a.orientation?"flex":"block"},tab:{flex:a.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focus:{zIndex:1,boxShadow:"outline"}},tablist:od(a),tabpanel:pd}},sizes:{sm:{tab:{py:1,px:4,fontSize:"sm"}},md:{tab:{fontSize:"md",py:2,px:4}},lg:{tab:{fontSize:"lg",py:3,px:4}}},variants:{line:function(a){var b,c,d=a.colorScheme,e=a.orientation,f="vertical"===e?"borderStart":"borderBottom",g="vertical"===e?"marginStart":"marginBottom";return{tablist:((b={})[f]="2px solid",b.borderColor="inherit",b),tab:((c={})[f]="2px solid",c.borderColor="transparent",c[g]="-2px",c._selected={color:Fa(d+".600",d+".300")(a),borderColor:"currentColor"},c._active={bg:Fa("gray.200","whiteAlpha.300")(a)},c._disabled={opacity:.4,cursor:"not-allowed"},c)}},enclosed:function(a){var b=a.colorScheme;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:Fa(b+".600",b+".300")(a),borderColor:"inherit",borderBottomColor:Fa("white","gray.800")(a)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"enclosed-colored":function(a){var b=a.colorScheme;return{tab:{border:"1px solid",borderColor:"inherit",bg:Fa("gray.50","whiteAlpha.50")(a),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:Fa("#fff","gray.800")(a),color:Fa(b+".600",b+".300")(a),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"soft-rounded":function(a){var b=a.colorScheme,c=a.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Ca(c,b+".700"),bg:Ca(c,b+".100")}}}},"solid-rounded":function(a){var b=a.colorScheme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:Fa("gray.600","inherit")(a),_selected:{color:Fa("#fff","gray.800")(a),bg:Fa(b+".600",b+".300")(a)}}}},unstyled:{}},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}},rd={parts:rb.keys,variants:{subtle:function(a){return{container:Cb.variants.subtle(a)}},solid:function(a){return{container:Cb.variants.solid(a)}},outline:function(a){return{container:Cb.variants.outline(a)}}},baseStyle:{container:{fontWeight:"medium",lineHeight:1.2,outline:0,_focus:{boxShadow:"outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"18px",w:"1.25rem",h:"1.25rem",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"0.375rem",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focus:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}},sizes:{sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2,borderRadius:"md"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",borderRadius:"md",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",borderRadius:"md",px:3}}},defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}},sd=Y({},bc.baseStyle.field,{paddingY:"8px",minHeight:"80px",lineHeight:"short",verticalAlign:"top"}),td={outline:function(a){var b;return null!=(b=bc.variants.outline(a).field)?b:{}},flushed:function(a){var b;return null!=(b=bc.variants.flushed(a).field)?b:{}},filled:function(a){var b;return null!=(b=bc.variants.filled(a).field)?b:{}},unstyled:null!=(s=bc.variants.unstyled.field)?s:{}},ud={xs:null!=(t=bc.sizes.xs.field)?t:{},sm:null!=(u=bc.sizes.sm.field)?u:{},md:null!=(v=bc.sizes.md.field)?v:{},lg:null!=(w=bc.sizes.lg.field)?w:{}},vd=Ua("tooltip-bg"),wd=Ua("popper-arrow-bg"),xd=Object.freeze({__proto__:null,Accordion:vb,Alert:xb,Avatar:Bb,Badge:Cb,Breadcrumb:Db,Button:{baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:Eb,outline:function(a){var b=a.colorScheme,c=Fa("gray.200","whiteAlpha.300")(a);return Y({border:"1px solid",borderColor:"gray"===b?c:"currentColor"},Eb(a))},solid:function(a){var b,c=a.colorScheme;if("gray"===c){var d=Fa("gray.100","whiteAlpha.200")(a);return{bg:d,_hover:{bg:Fa("gray.200","whiteAlpha.300")(a),_disabled:{bg:d}},_active:{bg:Fa("gray.300","whiteAlpha.400")(a)}}}var e=null!=(b=Fb[c])?b:{},f=e.bg,g=e.color,h=e.hoverBg,i=e.activeBg,j=Fa(void 0===f?c+".500":f,c+".200")(a);return{bg:j,color:Fa(void 0===g?"white":g,"gray.800")(a),_hover:{bg:Fa(void 0===h?c+".600":h,c+".300")(a),_disabled:{bg:j}},_active:{bg:Fa(void 0===i?c+".700":i,c+".400")(a)}}},link:function(a){var b=a.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Fa(b+".500",b+".200")(a),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Fa(b+".700",b+".500")(a)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0}},sizes:{lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},Checkbox:Jb,CloseButton:{baseStyle:function(a){var b=Fa("blackAlpha.100","whiteAlpha.100")(a),c=Fa("blackAlpha.200","whiteAlpha.200")(a);return{w:[Kb.reference],h:[Kb.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:b},_active:{bg:c},_focus:{boxShadow:"outline"}}},sizes:Lb,defaultProps:{size:"md"}},Code:{baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:Mb,defaultProps:Nb},Container:{baseStyle:{w:"100%",mx:"auto",maxW:"60ch",px:"1rem"}},Divider:{baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},Drawer:Wb,Editable:Xb,Form:Yb,FormError:Zb,FormLabel:{baseStyle:{fontSize:"md",marginEnd:3,mb:2,fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},Heading:{baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},Input:bc,Kbd:{baseStyle:function(a){return{bg:Fa("gray.100","whiteAlpha")(a),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}}},Link:{baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}},List:cc,Menu:hc,Modal:qc,NumberInput:Cc,PinInput:{baseStyle:Dc,sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},variants:Ec,defaultProps:Fc},Popover:Pc,Progress:Sc,Radio:Uc,Select:Yc,Skeleton:{baseStyle:function(a){var b,c,d=Fa("gray.100","gray.800")(a),e=Fa("gray.400","gray.600")(a),f=a.startColor,g=a.endColor,h=a.speed,i=a.theme,j=Ca(i,void 0===f?d:f),k=Ca(i,void 0===g?e:g);return{opacity:.7,borderRadius:"2px",borderColor:j,background:k,animation:h+"s linear infinite alternate "+(b=j,c=k,(0,z.F4)({from:{borderColor:b,background:b},to:{borderColor:c,background:c}}))}}},SkipLink:{baseStyle:function(a){return{borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",insetStart:"1.5rem",bg:Fa("white","gray.700")(a)}}}},Slider:$c,Spinner:{baseStyle:ad,sizes:bd,defaultProps:{size:"md"}},Stat:cd,Switch:ld,Table:nd,Tabs:qd,Tag:rd,Textarea:{baseStyle:sd,sizes:ud,variants:td,defaultProps:{size:"md",variant:"outline"}},Tooltip:{baseStyle:function(a){var b,c=Fa("gray.700","gray.300")(a);return(b={})[vd.variable]="colors."+c,b.px="8px",b.py="2px",b.bg=[vd.reference],b[wd.variable]=[vd.reference],b.color=Fa("whiteAlpha.900","gray.900")(a),b.borderRadius="sm",b.fontWeight="medium",b.fontSize="sm",b.boxShadow="md",b.maxW="320px",b.zIndex="tooltip",b}}}),yd=(Ac={sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},(0,B.ZK)({condition:!0,message:"[chakra-ui]: createBreakpoints(...) will be deprecated pretty soonsimply pass the breakpoints as an object. Remove the createBreakpoint(..) call"}),Ha({base:"0em"},Ac)),zd=Y({breakpoints:yd,zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},blur:{none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},colors:{transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}}},sb,{sizes:Z,shadows:{xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},space:X,borders:{none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},transition:{property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}}}),Ad=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"],Bd=Y({direction:"ltr"},zd,{components:xd,styles:{global:function(a){return{body:{fontFamily:"body",color:Fa("gray.800","whiteAlpha.900")(a),bg:Fa("white","gray.800")(a),transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:Fa("gray.400","whiteAlpha.400")(a)},"*, *::before, &::after":{borderColor:Fa("gray.200","whiteAlpha.300")(a),wordWrap:"break-word"}}}},config:{useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"}}),Cd=function(a){var b=a.children,c=a.colorModeManager,d=a.portalZIndex,e=a.resetCSS,f=a.theme,g=void 0===f?{}:f,h=a.environment,i=a.cssVarsRoot,j=y.createElement(W.u,{environment:h},b);return y.createElement(D.vc,null,y.createElement(U.f6,{theme:g,cssVarsRoot:i},y.createElement(V.SG,{colorModeManager:c,options:g.config},(void 0===e||e)&&y.createElement(A,null),y.createElement(U.ZL,null),d?y.createElement(J,{zIndex:d},j):j)))};function Dd(a,b,c,d){if(((0,B.mf)(a)||(0,B.mf)(b))&&Object.prototype.hasOwnProperty.call(d,c))return function(){var c=(0,B.mf)(a)?a.apply(void 0,arguments):a,d=(0,B.mf)(b)?b.apply(void 0,arguments):b;return ub()({},c,d,Dd)}}Cd.defaultProps={theme:Bd};var Ed=c(9008),Fd=c(1664),Gd=c(8527),Hd=c(5934);function Id(){var a,b,c=(a=["\n  font-weight: bold;\n  font-size: 18px;\n  display: inline-flex;\n  align-items: center;\n  height: 30px;\n  line-height: 20px;\n  padding: 10px;\n  img {\n    transition: 200ms ease;\n  }\n  &:hover img {\n    transform: rotate(20deg);\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return Id=function(){return c},c}var Jd=Hd.Z.span(Id()),Kd=function(){return(0,x.jsx)(Fd.default,{href:"/",scroll:!1,children:(0,x.jsx)("a",{children:(0,x.jsx)(Jd,{children:(0,x.jsx)(Gd.xv,{color:(0,V.ff)("gray.800","whiteAlpha.900"),fontFamily:"M PLUS Rounded 1c, sans-serif",fontWeight:"bold",ml:3,children:"Pedro Costa"})})})})},Ld=c(3319);function Md(){return(Md=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var Nd=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function Od(a){var b=a.target,c=b.tagName,d=b.isContentEditable;return"INPUT"!==c&&"TEXTAREA"!==c&& !0!==d}function Pd(){return(Pd=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function Qd(a){return a.sort(function(a,b){var c=a.compareDocumentPosition(b);if(c&Node.DOCUMENT_POSITION_FOLLOWING||c&Node.DOCUMENT_POSITION_CONTAINED_BY)return -1;if(c&Node.DOCUMENT_POSITION_PRECEDING||c&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(!(c&Node.DOCUMENT_POSITION_DISCONNECTED)&&!(c&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC))return 0;throw Error("Cannot sort the given nodes.")})}function Rd(a,b,c){var d=a+1;return c&&d>=b&&(d=0),d}function Sd(a,b,c){var d=a-1;return c&&d<0&&(d=b),d}var Td="undefined"!=typeof window?y.useLayoutEffect:y.useEffect,Ud=function(a){return a},Vd=function(){var a=this;this.descendants=new Map(),this.register=function(b){if(null!=b){var c;return"object"==typeof(c=b)&&"nodeType"in c&&c.nodeType===Node.ELEMENT_NODE?a.registerNode(b):function(c){a.registerNode(c,b)}}},this.unregister=function(b){a.descendants.delete(b);var c=Qd(Array.from(a.descendants.keys()));a.assignIndex(c)},this.destroy=function(){a.descendants.clear()},this.assignIndex=function(b){a.descendants.forEach(function(a){var c=b.indexOf(a.node);a.index=c,a.node.dataset.index=a.index.toString()})},this.count=function(){return a.descendants.size},this.enabledCount=function(){return a.enabledValues().length},this.values=function(){return Array.from(a.descendants.values()).sort(function(a,b){return a.index-b.index})},this.enabledValues=function(){return a.values().filter(function(a){return!a.disabled})},this.item=function(b){if(0!==a.count())return a.values()[b]},this.enabledItem=function(b){if(0!==a.enabledCount())return a.enabledValues()[b]},this.first=function(){return a.item(0)},this.firstEnabled=function(){return a.enabledItem(0)},this.last=function(){return a.item(a.descendants.size-1)},this.lastEnabled=function(){var b=a.enabledValues().length-1;return a.enabledItem(b)},this.indexOf=function(b){var c,d;return b&&null!=(c=null==(d=a.descendants.get(b))?void 0:d.index)?c:-1},this.enabledIndexOf=function(b){return null==b?-1:a.enabledValues().findIndex(function(a){return a.node.isSameNode(b)})},this.next=function(b,c){void 0===c&&(c=!0);var d=Rd(b,a.count(),c);return a.item(d)},this.nextEnabled=function(b,c){void 0===c&&(c=!0);var d=a.item(b);if(d){var e=Rd(a.enabledIndexOf(d.node),a.enabledCount(),c);return a.enabledItem(e)}},this.prev=function(b,c){void 0===c&&(c=!0);var d=Sd(b,a.count()-1,c);return a.item(d)},this.prevEnabled=function(b,c){void 0===c&&(c=!0);var d=a.item(b);if(d){var e=Sd(a.enabledIndexOf(d.node),a.enabledCount()-1,c);return a.enabledItem(e)}},this.registerNode=function(b,c){if(!(!b||a.descendants.has(b))){var d=Qd(Array.from(a.descendants.keys()).concat(b));null!=c&&c.disabled&&(c.disabled=!!c.disabled);var e=Pd({node:b,index:-1},c);a.descendants.set(b,e),a.assignIndex(d)}}},Wd=(0,C.kr)({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),Xd=Wd[0],Yd=Wd[1];function Zd(a){if(null==a)return window;if("[object Window]"!==a.toString()){var b=a.ownerDocument;return b?b.defaultView||window:window}return a}function $d(a){var b=Zd(a).Element;return a instanceof b||a instanceof Element}function _d(a){var b=Zd(a).HTMLElement;return a instanceof b||a instanceof HTMLElement}function ae(a){if("undefined"==typeof ShadowRoot)return!1;var b=Zd(a).ShadowRoot;return a instanceof b||a instanceof ShadowRoot}var be=Math.max,ce=Math.min,de=Math.round;function ee(a,b){void 0===b&&(b=!1);var c=a.getBoundingClientRect(),d=1,e=1;if(_d(a)&&b){var f=a.offsetHeight,g=a.offsetWidth;g>0&&(d=de(c.width)/g||1),f>0&&(e=de(c.height)/f||1)}return{width:c.width/d,height:c.height/e,top:c.top/e,right:c.right/d,bottom:c.bottom/e,left:c.left/d,x:c.left/d,y:c.top/e}}function fe(a){var b=Zd(a),c=b.pageXOffset,d=b.pageYOffset;return{scrollLeft:c,scrollTop:d}}function ge(a){return a?(a.nodeName||"").toLowerCase():null}function he(a){return(($d(a)?a.ownerDocument:a.document)||window.document).documentElement}function ie(a){return ee(he(a)).left+fe(a).scrollLeft}function je(a){return Zd(a).getComputedStyle(a)}function ke(a){var b=je(a),c=b.overflow,d=b.overflowX,e=b.overflowY;return/auto|scroll|overlay|hidden/.test(c+e+d)}function le(a){var b=ee(a),c=a.offsetWidth,d=a.offsetHeight;return 1>=Math.abs(b.width-c)&&(c=b.width),1>=Math.abs(b.height-d)&&(d=b.height),{x:a.offsetLeft,y:a.offsetTop,width:c,height:d}}function me(a){return"html"===ge(a)?a:a.assignedSlot||a.parentNode||(ae(a)?a.host:null)||he(a)}function ne(a){return["html","body","#document"].indexOf(ge(a))>=0?a.ownerDocument.body:_d(a)&&ke(a)?a:ne(me(a))}function oe(a,b){void 0===b&&(b=[]);var c,d=ne(a),e=d===(null==(c=a.ownerDocument)?void 0:c.body),f=Zd(d),g=e?[f].concat(f.visualViewport||[],ke(d)?d:[]):d,h=b.concat(g);return e?h:h.concat(oe(me(g)))}function pe(a){return["table","td","th"].indexOf(ge(a))>=0}function qe(a){return _d(a)&&"fixed"!==je(a).position?a.offsetParent:null}function re(a){for(var b=Zd(a),c=qe(a);c&&pe(c)&&"static"===je(c).position;)c=qe(c);return c&&("html"===ge(c)||"body"===ge(c)&&"static"===je(c).position)?b:c||(function(a){var b=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&_d(a)&&"fixed"===je(a).position)return null;for(var c=me(a);_d(c)&&0>["html","body"].indexOf(ge(c));){var d=je(c);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain|| -1!==["transform","perspective"].indexOf(d.willChange)||b&&"filter"===d.willChange||b&&d.filter&&"none"!==d.filter)return c;c=c.parentNode}return null})(a)||b}var se="top",te="bottom",ue="right",ve="left",we="auto",xe=[se,te,ue,ve],ye="start",ze="viewport",Ae="popper",Be=xe.reduce(function(a,b){return a.concat([b+"-"+ye,b+"-end"])},[]),Ce=[].concat(xe,[we]).reduce(function(a,b){return a.concat([b,b+"-"+ye,b+"-end"])},[]),De=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],Ee={placement:"bottom",modifiers:[],strategy:"absolute"};function Fe(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return!b.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}var Ge={passive:!0};function He(a){return a.split("-")[0]}function Ie(a){return a.split("-")[1]}function Je(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function Ke(a){var b,c=a.reference,d=a.element,e=a.placement,f=e?He(e):null,g=e?Ie(e):null,h=c.x+c.width/2-d.width/2,i=c.y+c.height/2-d.height/2;switch(f){case se:b={x:h,y:c.y-d.height};break;case te:b={x:h,y:c.y+c.height};break;case ue:b={x:c.x+c.width,y:i};break;case ve:b={x:c.x-d.width,y:i};break;default:b={x:c.x,y:c.y}}var j=f?Je(f):null;if(null!=j){var k="y"===j?"height":"width";switch(g){case ye:b[j]=b[j]-(c[k]/2-d[k]/2);break;case"end":b[j]=b[j]+(c[k]/2-d[k]/2);break;default:}}return b}var Le={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Me(a){var b,c,d=a.popper,e=a.popperRect,f=a.placement,g=a.variation,h=a.offsets,i=a.position,j=a.gpuAcceleration,k=a.adaptive,l=a.roundOffsets,m=a.isFixed,n=h.x,o=void 0===n?0:n,p=h.y,q=void 0===p?0:p,r="function"==typeof l?l({x:o,y:q}):{x:o,y:q};o=r.x,q=r.y;var s=h.hasOwnProperty("x"),t=h.hasOwnProperty("y"),u=ve,v=se,w=window;if(k){var x=re(d),y="clientHeight",z="clientWidth";x===Zd(d)&&"static"!==je(x=he(d)).position&&"absolute"===i&&(y="scrollHeight",z="scrollWidth"),x=x,(f===se||(f===ve||f===ue)&&"end"===g)&&(v=te,q-=(m&&w.visualViewport?w.visualViewport.height:x[y])-e.height,q*=j?1:-1),(f===ve||(f===se||f===te)&&"end"===g)&&(u=ue,o-=(m&&w.visualViewport?w.visualViewport.width:x[z])-e.width,o*=j?1:-1)}var A,B,C,D,E=Object.assign({position:i},k&&Le),F=!0===l?(B=(A={x:o,y:q}).x,C=A.y,D=window.devicePixelRatio||1,{x:de(B*D)/D||0,y:de(C*D)/D||0}):{x:o,y:q};return(o=F.x,q=F.y,j)?Object.assign({},E,((c={})[v]=t?"0":"",c[u]=s?"0":"",c.transform=1>=(w.devicePixelRatio||1)?"translate("+o+"px, "+q+"px)":"translate3d("+o+"px, "+q+"px, 0)",c)):Object.assign({},E,((b={})[v]=t?q+"px":"",b[u]=s?o+"px":"",b.transform="",b))}var Ne={left:"right",right:"left",bottom:"top",top:"bottom"};function Oe(a){return a.replace(/left|right|bottom|top/g,function(a){return Ne[a]})}var Pe={start:"end",end:"start"};function Qe(a){return a.replace(/start|end/g,function(a){return Pe[a]})}function Re(a,b){var c=b.getRootNode&&b.getRootNode();if(a.contains(b))return!0;if(c&&ae(c)){var d=b;do{if(d&&a.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function Se(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Te(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return b===ze?Se((d=Zd(c=a),e=he(c),f=d.visualViewport,g=e.clientWidth,h=e.clientHeight,i=0,j=0,f&&(g=f.width,h=f.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=f.offsetLeft,j=f.offsetTop)),{width:g,height:h,x:i+ie(c),y:j})):$d(b)?((l=ee(k=b)).top=l.top+k.clientTop,l.left=l.left+k.clientLeft,l.bottom=l.top+k.clientHeight,l.right=l.left+k.clientWidth,l.width=k.clientWidth,l.height=k.clientHeight,l.x=l.left,l.y=l.top,l):Se((m=he(a),o=he(m),p=fe(m),q=null==(n=m.ownerDocument)?void 0:n.body,r=be(o.scrollWidth,o.clientWidth,q?q.scrollWidth:0,q?q.clientWidth:0),s=be(o.scrollHeight,o.clientHeight,q?q.scrollHeight:0,q?q.clientHeight:0),t=-p.scrollLeft+ie(m),u=-p.scrollTop,"rtl"===je(q||o).direction&&(t+=be(o.clientWidth,q?q.clientWidth:0)-r),{width:r,height:s,x:t,y:u}))}function Ue(){return{top:0,right:0,bottom:0,left:0}}function Ve(a){return Object.assign({},Ue(),a)}function We(a,b){return b.reduce(function(b,c){return b[c]=a,b},{})}function Xe(a,b){void 0===b&&(b={});var c,d,e,f,g,h,i,j,k,l,m=b,n=m.placement,o=void 0===n?a.placement:n,p=m.boundary,q=m.rootBoundary,r=m.elementContext,s=void 0===r?Ae:r,t=m.altBoundary,u=m.padding,v=void 0===u?0:u,w=Ve("number"!=typeof v?v:We(v,xe)),x=a.rects.popper,y=a.elements[void 0!==t&&t?s===Ae?"reference":Ae:s],z=(c=$d(y)?y:y.contextElement||he(a.elements.popper),d=void 0===p?"clippingParents":p,e=void 0===q?ze:q,i="clippingParents"===d?(g=oe(me(f=c)),$d(h=["absolute","fixed"].indexOf(je(f).position)>=0&&_d(f)?re(f):f)?g.filter(function(a){return $d(a)&&Re(a,h)&&"body"!==ge(a)}):[]):[].concat(d),k=(j=[].concat(i,[e]))[0],l=j.reduce(function(a,b){var d=Te(c,b);return a.top=be(d.top,a.top),a.right=ce(d.right,a.right),a.bottom=ce(d.bottom,a.bottom),a.left=be(d.left,a.left),a},Te(c,k)),l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),A=ee(a.elements.reference),B=Ke({reference:A,element:x,strategy:"absolute",placement:o}),C=Se(Object.assign({},x,B)),D=s===Ae?C:A,E={top:z.top-D.top+w.top,bottom:D.bottom-z.bottom+w.bottom,left:z.left-D.left+w.left,right:D.right-z.right+w.right},F=a.modifiersData.offset;if(s===Ae&&F){var G=F[o];Object.keys(E).forEach(function(a){var b=[ue,te].indexOf(a)>=0?1:-1,c=[se,te].indexOf(a)>=0?"y":"x";E[a]+=G[c]*b})}return E}function Ye(a,b,c){return be(a,ce(b,c))}function Ze(a,b,c){return void 0===c&&(c={x:0,y:0}),{top:a.top-b.height-c.y,right:a.right-b.width+c.x,bottom:a.bottom-b.height+c.y,left:a.left-b.width-c.x}}function $e(a){return[se,ue,te,ve].some(function(b){return a[b]>=0})}var _e,af,bf,cf,df,ef=(bf=void 0===(af=(_e={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(a){var b=a.state,c=a.instance,d=a.options,e=d.scroll,f=void 0===e||e,g=d.resize,h=void 0===g||g,i=Zd(b.elements.popper),j=[].concat(b.scrollParents.reference,b.scrollParents.popper);return f&&j.forEach(function(a){a.addEventListener("scroll",c.update,Ge)}),h&&i.addEventListener("resize",c.update,Ge),function(){f&&j.forEach(function(a){a.removeEventListener("scroll",c.update,Ge)}),h&&i.removeEventListener("resize",c.update,Ge)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(a){var b=a.state,c=a.name;b.modifiersData[c]=Ke({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(a){var b=a.state,c=a.options,d=c.gpuAcceleration,e=c.adaptive,f=c.roundOffsets,g=void 0===f||f,h={placement:He(b.placement),variation:Ie(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:void 0===d||d,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,Me(Object.assign({},h,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:void 0===e||e,roundOffsets:g})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,Me(Object.assign({},h,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(a){var b=a.state;Object.keys(b.elements).forEach(function(a){var c=b.styles[a]||{},d=b.attributes[a]||{},e=b.elements[a];_d(e)&&ge(e)&&(Object.assign(e.style,c),Object.keys(d).forEach(function(a){var b=d[a];!1===b?e.removeAttribute(a):e.setAttribute(a,!0===b?"":b)}))})},effect:function(a){var b=a.state,c={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,c.popper),b.styles=c,b.elements.arrow&&Object.assign(b.elements.arrow.style,c.arrow),function(){Object.keys(b.elements).forEach(function(a){var d=b.elements[a],e=b.attributes[a]||{},f=Object.keys(b.styles.hasOwnProperty(a)?b.styles[a]:c[a]).reduce(function(a,b){return a[b]="",a},{});_d(d)&&ge(d)&&(Object.assign(d.style,f),Object.keys(e).forEach(function(a){d.removeAttribute(a)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(a){var b=a.state,c=a.options,d=a.name,e=c.offset,f=void 0===e?[0,0]:e,g=Ce.reduce(function(a,c){var d,e,g,h,i,j,k,l;return d=c,e=b.rects,g=f,h=He(d),i=[ve,se].indexOf(h)>=0?-1:1,k=(j="function"==typeof g?g(Object.assign({},e,{placement:d})):g)[0],l=j[1],k=k||0,l=(l||0)*i,a[c]=[ve,ue].indexOf(h)>=0?{x:l,y:k}:{x:k,y:l},a},{}),h=g[b.placement],i=h.x,j=h.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=i,b.modifiersData.popperOffsets.y+=j),b.modifiersData[d]=g}},{name:"flip",enabled:!0,phase:"main",fn:function(a){var b=a.state,c=a.options,d=a.name;if(!b.modifiersData[d]._skip){for(var e=c.mainAxis,f=void 0===e||e,g=c.altAxis,h=void 0===g||g,i=c.fallbackPlacements,j=c.padding,k=c.boundary,l=c.rootBoundary,m=c.altBoundary,n=c.flipVariations,o=void 0===n||n,p=c.allowedAutoPlacements,q=b.options.placement,r=He(q),s=i||(r!==q&&o?function(a){if(He(a)===we)return[];var b=Oe(a);return[Qe(a),b,Qe(b)]}(q):[Oe(q)]),t=[q].concat(s).reduce(function(a,c){var d,e,f,g,h,i,m,n,q,r,s,t,u;return a.concat(He(c)===we?(d=b,f=(e={placement:c,boundary:k,rootBoundary:l,padding:j,flipVariations:o,allowedAutoPlacements:p}).placement,g=e.boundary,h=e.rootBoundary,i=e.padding,m=e.flipVariations,n=e.allowedAutoPlacements,q=void 0===n?Ce:n,r=Ie(f),s=r?m?Be:Be.filter(function(a){return Ie(a)===r}):xe,t=s.filter(function(a){return q.indexOf(a)>=0}),0===t.length&&(t=s),u=t.reduce(function(a,b){return a[b]=Xe(d,{placement:b,boundary:g,rootBoundary:h,padding:i})[He(b)],a},{}),Object.keys(u).sort(function(a,b){return u[a]-u[b]})):c)},[]),u=b.rects.reference,v=b.rects.popper,w=new Map(),x=!0,y=t[0],z=0;z<t.length;z++){var A=t[z],B=He(A),C=Ie(A)===ye,D=[se,te].indexOf(B)>=0,E=D?"width":"height",F=Xe(b,{placement:A,boundary:k,rootBoundary:l,altBoundary:m,padding:j}),G=D?C?ue:ve:C?te:se;u[E]>v[E]&&(G=Oe(G));var H=Oe(G),I=[];if(f&&I.push(F[B]<=0),h&&I.push(F[G]<=0,F[H]<=0),I.every(function(a){return a})){y=A,x=!1;break}w.set(A,I)}if(x)for(var J=o?3:1,K=function(a){var b=t.find(function(b){var c=w.get(b);if(c)return c.slice(0,a).every(function(a){return a})});if(b)return y=b,"break"},L=J;L>0&&"break"!==K(L);L--);b.placement!==y&&(b.modifiersData[d]._skip=!0,b.placement=y,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(a){var b=a.state,c=a.options,d=a.name,e=c.mainAxis,f=c.altAxis,g=c.boundary,h=c.rootBoundary,i=c.altBoundary,j=c.padding,k=c.tether,l=void 0===k||k,m=c.tetherOffset,n=void 0===m?0:m,o=Xe(b,{boundary:g,rootBoundary:h,padding:j,altBoundary:i}),p=He(b.placement),q=Ie(b.placement),r=!q,s=Je(p),t="x"===s?"y":"x",u=b.modifiersData.popperOffsets,v=b.rects.reference,w=b.rects.popper,x="function"==typeof n?n(Object.assign({},b.rects,{placement:b.placement})):n,y="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),z=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,A={x:0,y:0};if(u){if(void 0===e||e){var B,C="y"===s?se:ve,D="y"===s?te:ue,E="y"===s?"height":"width",F=u[s],G=F+o[C],H=F-o[D],I=l?-w[E]/2:0,J=q===ye?v[E]:w[E],K=q===ye?-w[E]:-v[E],L=b.elements.arrow,M=l&&L?le(L):{width:0,height:0},N=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:Ue(),O=N[C],P=N[D],Q=Ye(0,v[E],M[E]),R=r?v[E]/2-I-Q-O-y.mainAxis:J-Q-O-y.mainAxis,S=r?-v[E]/2+I+Q+P+y.mainAxis:K+Q+P+y.mainAxis,T=b.elements.arrow&&re(b.elements.arrow),U=T?"y"===s?T.clientTop||0:T.clientLeft||0:0,V=null!=(B=null==z?void 0:z[s])?B:0,W=F+R-V-U,X=F+S-V,Y=Ye(l?ce(G,W):G,F,l?be(H,X):H);u[s]=Y,A[s]=Y-F}if(void 0!==f&&f){var Z,$,_,aa="x"===s?se:ve,ba="x"===s?te:ue,ca=u[t],da="y"===t?"height":"width",ea=ca+o[aa],fa=ca-o[ba],ga=-1!==[se,ve].indexOf(p),ha=null!=(Z=null==z?void 0:z[t])?Z:0,ia=ga?ea:ca-v[da]-w[da]-ha+y.altAxis,ja=ga?ca+v[da]+w[da]-ha-y.altAxis:fa,ka=l&&ga?(_=Ye(ia,ca,$=ja))>$?$:_:Ye(l?ia:ea,ca,l?ja:fa);u[t]=ka,A[t]=ka-ca}b.modifiersData[d]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(a){var b,c=a.state,d=a.name,e=a.options,f=c.elements.arrow,g=c.modifiersData.popperOffsets,h=He(c.placement),i=Je(h),j=[ve,ue].indexOf(h)>=0,k=j?"height":"width";if(f&&g){var l,m,n=(l=e.padding,m=c,Ve("number"!=typeof(l="function"==typeof l?l(Object.assign({},m.rects,{placement:m.placement})):l)?l:We(l,xe))),o=le(f),p=c.rects.reference[k]+c.rects.reference[i]-g[i]-c.rects.popper[k],q=g[i]-c.rects.reference[i],r=re(f),s=r?"y"===i?r.clientHeight||0:r.clientWidth||0:0,t=n["y"===i?se:ve],u=s-o[k]-n["y"===i?te:ue],v=s/2-o[k]/2+(p/2-q/2),w=Ye(t,v,u),x=i;c.modifiersData[d]=((b={})[x]=w,b.centerOffset=w-v,b)}},effect:function(a){var b=a.state,c=a.options.element,d=void 0===c?"[data-popper-arrow]":c;null==d||("string"!=typeof d||(d=b.elements.popper.querySelector(d)))&&Re(b.elements.popper,d)&&(b.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(a){var b=a.state,c=a.name,d=b.rects.reference,e=b.rects.popper,f=b.modifiersData.preventOverflow,g=Xe(b,{elementContext:"reference"}),h=Xe(b,{altBoundary:!0}),i=Ze(g,d),j=Ze(h,e,f),k=$e(i),l=$e(j);b.modifiersData[c]={referenceClippingOffsets:i,popperEscapeOffsets:j,isReferenceHidden:k,hasPopperEscaped:l},b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-reference-hidden":k,"data-popper-escaped":l})}}]}).defaultModifiers)?[]:af,cf=_e.defaultOptions,df=void 0===cf?Ee:cf,function(a,b,c){void 0===c&&(c=df);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ee,df),modifiersData:{},elements:{reference:a,popper:b},attributes:{},styles:{}},e=[],f=!1,g={state:d,setOptions:function(c){var e="function"==typeof c?c(d.options):c;i(),d.options=Object.assign({},df,d.options,e),d.scrollParents={reference:$d(a)?oe(a):a.contextElement?oe(a.contextElement):[],popper:oe(b)};var f,j,k=(j=function(a){var b=new Map(),c=new Set(),d=[];function e(a){c.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(a){if(!c.has(a)){var d=b.get(a);d&&e(d)}}),d.push(a)}return a.forEach(function(a){b.set(a.name,a)}),a.forEach(function(a){c.has(a.name)||e(a)}),d}((f=[].concat(bf,d.options.modifiers).reduce(function(a,b){var c=a[b.name];return a[b.name]=c?Object.assign({},c,b,{options:Object.assign({},c.options,b.options),data:Object.assign({},c.data,b.data)}):b,a},{}),Object.keys(f).map(function(a){return f[a]}))),De.reduce(function(a,b){return a.concat(j.filter(function(a){return a.phase===b}))},[]));return d.orderedModifiers=k.filter(function(a){return a.enabled}),h(),g.update()},forceUpdate:function(){if(!f){var a,b,c,e,h,i,j,k,l,m,n,o,p,q,r,s=d.elements,t=s.reference,u=s.popper;if(Fe(t,u)){d.rects={reference:(c=t,e=re(u),h="fixed"===d.options.strategy,i=_d(e),n=_d(e)&&(l=de((k=(j=e).getBoundingClientRect()).width)/j.offsetWidth||1,m=de(k.height)/j.offsetHeight||1,1!==l||1!==m),o=he(e),p=ee(c,n),q={scrollLeft:0,scrollTop:0},r={x:0,y:0},(i|| !i&&!h)&&(("body"!==ge(e)||ke(o))&&(q=(a=e)!==Zd(a)&&_d(a)?{scrollLeft:(b=a).scrollLeft,scrollTop:b.scrollTop}:fe(a)),_d(e)?(r=ee(e,!0),r.x+=e.clientLeft,r.y+=e.clientTop):o&&(r.x=ie(o))),{x:p.left+q.scrollLeft-r.x,y:p.top+q.scrollTop-r.y,width:p.width,height:p.height}),popper:le(u)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(a){return d.modifiersData[a.name]=Object.assign({},a.data)});for(var v=0;v<d.orderedModifiers.length;v++){if(!0===d.reset){d.reset=!1,v=-1;continue}var w=d.orderedModifiers[v],x=w.fn,y=w.options,z=void 0===y?{}:y,A=w.name;"function"==typeof x&&(d=x({state:d,options:z,name:A,instance:g})||d)}}}},update:function(a){var b;return function(){return b||(b=new Promise(function(c){Promise.resolve().then(function(){b=void 0,c(a())})})),b}}(function(){return new Promise(function(a){g.forceUpdate(),a(d)})}),destroy:function(){i(),f=!0}};if(!Fe(a,b))return g;function h(){d.orderedModifiers.forEach(function(a){var b=a.name,c=a.options,f=a.effect;if("function"==typeof f){var h=f({state:d,name:b,instance:g,options:void 0===c?{}:c}),i=function(){};e.push(h||i)}})}function i(){e.forEach(function(a){return a()}),e=[]}return g.setOptions(c).then(function(a){!f&&c.onFirstUpdate&&c.onFirstUpdate(a)}),g});function ff(){return(ff=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var gf=function(a,b){return{"var":a,varRef:b?"var("+a+", "+b+")":"var("+a+")"}},hf={arrowShadowColor:gf("--popper-arrow-shadow-color"),arrowSize:gf("--popper-arrow-size","8px"),arrowSizeHalf:gf("--popper-arrow-size-half"),arrowBg:gf("--popper-arrow-bg"),transformOrigin:gf("--popper-transform-origin"),arrowOffset:gf("--popper-arrow-offset")},jf={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},kf={scroll:!0,resize:!0},lf={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(a){var b=a.state;b.styles.popper.width=b.rects.reference.width+"px"},effect:function(a){var b=a.state;return function(){var a=b.elements.reference;b.elements.popper.style.width=a.offsetWidth+"px"}}},mf={name:"transformOrigin",enabled:!0,phase:"write",fn:function(a){nf(a.state)},effect:function(a){var b=a.state;return function(){nf(b)}}},nf=function(a){a.elements.popper.style.setProperty(hf.transformOrigin.var,jf[a.placement])},of={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:function(a){pf(a.state)}},pf=function(a){if(a.placement){var b=qf(a.placement);if(null!=(c=a.elements)&&c.arrow&&b){Object.assign(a.elements.arrow.style,((d={})[b.property]=b.value,d.width=hf.arrowSize.varRef,d.height=hf.arrowSize.varRef,d.zIndex=-1,d));var c,d,e,f=((e={})[hf.arrowSizeHalf.var]="calc("+hf.arrowSize.varRef+" / 2)",e[hf.arrowOffset.var]="calc("+hf.arrowSizeHalf.varRef+" * -1)",e);for(var g in f)a.elements.arrow.style.setProperty(g,f[g])}}},qf=function(a){return a.startsWith("top")?{property:"bottom",value:hf.arrowOffset.varRef}:a.startsWith("bottom")?{property:"top",value:hf.arrowOffset.varRef}:a.startsWith("left")?{property:"right",value:hf.arrowOffset.varRef}:a.startsWith("right")?{property:"left",value:hf.arrowOffset.varRef}:void 0},rf={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:function(a){sf(a.state)},effect:function(a){var b=a.state;return function(){sf(b)}}},sf=function(a){if(a.elements.arrow){var b,c=a.elements.arrow.querySelector("[data-popper-arrow-inner]");c&&Object.assign(c.style,{transform:"rotate(45deg)",background:hf.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:(b=a.placement).includes("top")?"1px 1px 1px 0 var(--popper-arrow-shadow-color)":b.includes("bottom")?"-1px -1px 1px 0 var(--popper-arrow-shadow-color)":b.includes("right")?"-1px 1px 1px 0 var(--popper-arrow-shadow-color)":b.includes("left")?"1px -1px 1px 0 var(--popper-arrow-shadow-color)":void 0})}},tf={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},uf={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"},vf=["size","shadowColor","bg","style"];function wf(){return(wf=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function xf(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var yf=["id","closeOnSelect","closeOnBlur","autoSelect","isLazy","isOpen","defaultIsOpen","onClose","onOpen","placement","lazyBehavior","direction","computePositionOnMount"],zf=["onMouseEnter","onMouseMove","onMouseLeave","onClick","isDisabled","isFocusable","closeOnSelect"],Af=["type","isChecked"],Bf=["children","type","value","defaultValue","onChange"],Cf=[Ud(Xd),function(){return Ud(Yd())},function(){var a;return a=(0,y.useRef)(new Vd()),Td(function(){return function(){return a.current.destroy()}}),a.current},function(a){var b,c,d,e,f,g,h;return b=a,c=Yd(),e=(d=(0,y.useState)(-1))[0],f=d[1],g=(0,y.useRef)(null),Td(function(){return function(){g.current&&c.unregister(g.current)}},[]),Td(function(){if(g.current){var a=Number(g.current.dataset.index);e==a||Number.isNaN(a)||f(a)}}),h=b?Ud(c.register(b)):Ud(c.register),{descendants:c,index:e,enabledIndex:c.enabledIndexOf(g.current),register:(0,C.lq)(h,g)}}],Df=Cf[0],Ef=Cf[1],Ff=Cf[2],Gf=Cf[3],Hf=(0,C.kr)({strict:!1,name:"MenuContext"}),If=Hf[0],Jf=Hf[1];function Kf(a){var b;return(0,B.Re)(a)&&!!(null!=(b=a.getAttribute("role"))&&b.startsWith("menuitem"))}function Lf(a,b){void 0===a&&(a={}),void 0===b&&(b=null);var c=a,d=c.onMouseEnter,e=c.onMouseMove,f=c.onMouseLeave,g=c.onClick,h=c.isDisabled,i=c.isFocusable,j=c.closeOnSelect,k=xf(c,zf),l=Jf(),m=l.setFocusedIndex,n=l.focusedIndex,o=l.closeOnSelect,p=l.onClose,q=l.menuRef,r=l.isOpen,s=l.menuId,t=y.useRef(null),u=s+"-menuitem-"+(0,D.Me)(),v=Gf({disabled:h&&!i}),w=v.index,x=v.register,z=y.useCallback(function(a){null==d||d(a),h||m(w)},[m,w,h,d]),A=y.useCallback(function(a){null==e||e(a),t.current&&!(0,B.H9)(t.current)&&z(a)},[z,e]),E=y.useCallback(function(a){null==f||f(a),h||m(-1)},[m,h,f]),F=y.useCallback(function(a){null==g||g(a),!!Kf(a.currentTarget)&&(null!=j?j:o)&&p()},[p,g,o,j]),G=w===n,H=h&&!i;(0,D.rf)(function(){r&&(G&&!H&&t.current?(0,B.T_)(t.current,{nextTick:!0,selectTextIfInput:!1,preventScroll:!1}):q.current&&!(0,B.H9)(q.current)&&(0,B.T_)(q.current,{preventScroll:!1}))},[G,H,q,r]);var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta=(J=(I={onClick:F,onMouseEnter:z,onMouseMove:A,onMouseLeave:E,ref:(0,C.lq)(x,t,b),isDisabled:h,isFocusable:i}).ref,K=I.isDisabled,L=I.isFocusable,M=I.clickOnEnter,N=void 0===M||M,O=I.clickOnSpace,P=void 0===O||O,Q=I.onMouseDown,R=I.onMouseUp,S=I.onClick,T=I.onKeyDown,U=I.onKeyUp,V=I.tabIndex,W=I.onMouseOver,X=I.onMouseLeave,Y=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(I,Nd),Z=y.useState(!0),$=Z[0],_=Z[1],aa=y.useState(!1),ba=aa[0],ca=aa[1],ea=(da=y.useRef(new Map())).current,fa=y.useCallback(function(a,b,c,d){da.current.set(c,{type:b,el:a,options:d}),a.addEventListener(b,c,d)},[]),ga=y.useCallback(function(a,b,c,d){a.removeEventListener(b,c,d),da.current.delete(c)},[]),y.useEffect(function(){return function(){ea.forEach(function(a,b){ga(a.el,a.type,b,a.options)})}},[ga,ea]),ha={add:fa,remove:ga},ia=K&&!L,ja=y.useCallback(function(a){if(K){a.stopPropagation(),a.preventDefault();return}a.currentTarget.focus(),null==S||S(a)},[K,S]),ka=y.useCallback(function(a){ba&&Od(a)&&(a.preventDefault(),a.stopPropagation(),ca(!1),ha.remove(document,"keyup",ka,!1))},[ba,ha]),la=y.useCallback(function(a){if(null==T||T(a),!K&&!a.defaultPrevented&&!a.metaKey&&Od(a.nativeEvent)&&!$){var b=N&&"Enter"===a.key;P&&" "===a.key&&(a.preventDefault(),ca(!0)),b&&(a.preventDefault(),a.currentTarget.click()),ha.add(document,"keyup",ka,!1)}},[K,$,T,N,P,ha,ka]),ma=y.useCallback(function(a){null==U||U(a),K||a.defaultPrevented||a.metaKey||Od(a.nativeEvent)&&!$&&P&&" "===a.key&&(a.preventDefault(),ca(!1),a.currentTarget.click())},[P,$,K,U]),na=y.useCallback(function(a){0===a.button&&(ca(!1),ha.remove(document,"mouseup",na,!1))},[ha]),oa=y.useCallback(function(a){if(!(0,B.n_)(a)){if(K){a.stopPropagation(),a.preventDefault();return}$||ca(!0),a.currentTarget.focus({preventScroll:!0}),ha.add(document,"mouseup",na,!1),null==Q||Q(a)}},[K,$,Q,ha,na]),pa=y.useCallback(function(a){(0,B.n_)(a)||($||ca(!1),null==R||R(a))},[R,$]),qa=y.useCallback(function(a){if(K){a.preventDefault();return}null==W||W(a)},[K,W]),ra=y.useCallback(function(a){ba&&(a.preventDefault(),ca(!1)),null==X||X(a)},[ba,X]),sa=(0,C.lq)(J,function(a){a&&"BUTTON"!==a.tagName&&_(!1)}),$?Md({},Y,{ref:sa,type:"button","aria-disabled":ia?void 0:K,disabled:ia,onClick:ja,onMouseDown:Q,onMouseUp:R,onKeyUp:U,onKeyDown:T,onMouseOver:W,onMouseLeave:X}):Md({},Y,{ref:sa,role:"button","data-active":(0,B.PB)(ba),"aria-disabled":K?"true":void 0,tabIndex:ia?void 0:$?V:V||0,onClick:ja,onMouseDown:oa,onMouseUp:pa,onKeyUp:ma,onKeyDown:la,onMouseOver:qa,onMouseLeave:ra}));return wf({},k,ta,{id:u,role:"menuitem",tabIndex:G?0:-1})}var Mf=["descendants"],Nf=["children","as"],Of=["rootProps"],Pf=["type"],Qf=["icon","iconSpacing","command","commandSpacing","children"],Rf=["icon","iconSpacing"],Sf=["className","title"],Tf=["title","children","className"],Uf=["className","children"],Vf=["className"],Wf=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,z,A,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka=a.children,La=(0,U.jC)("Menu",a),Ma=(0,U.Lr)(a),Na=(0,U.Fg)(),Oa=Na.direction,Pa=(void 0===(b=wf({},Ma,{direction:Oa}))&&(b={}),d=(c=b).id,e=c.closeOnSelect,f=c.closeOnBlur,g=void 0===f||f,h=c.autoSelect,i=void 0===h||h,j=c.isLazy,k=c.isOpen,l=c.defaultIsOpen,m=c.onClose,n=c.onOpen,o=c.placement,p=c.lazyBehavior,q=c.direction,r=c.computePositionOnMount,s=xf(c,yf),t=y.useRef(null),u=y.useRef(null),v=Ff(),w=y.useCallback(function(){(0,B.T_)(t.current,{nextTick:!0,selectTextIfInput:!1})},[]),x=y.useCallback(function(){var a=setTimeout(function(){var a=v.firstEnabled();a&&Aa(a.index)});Ga.current.add(a)},[v]),z=y.useCallback(function(){var a=setTimeout(function(){var a=v.lastEnabled();a&&Aa(a.index)});Ga.current.add(a)},[v]),A=y.useCallback(function(){null==n||n(),i?x():w()},[i,x,w,n]),F=(0,D.qY)({isOpen:k,defaultIsOpen:l,onClose:m,onOpen:A}),G=F.isOpen,H=F.onOpen,I=F.onClose,J=F.onToggle,(0,D.O3)({enabled:G&&g,ref:t,handler:function(a){var b;null!=(b=u.current)&&b.contains(a.target)||I()}}),void 0===(K=wf({},s,{enabled:G|| void 0!==r&&r,placement:void 0===o?"bottom-start":o,direction:q}))&&(K={}),N=void 0===(M=(L=K).enabled)||M,O=L.modifiers,P=L.placement,Q=L.strategy,R=void 0===Q?"absolute":Q,S=L.arrowPadding,T=void 0===S?8:S,V=L.eventListeners,W=void 0===V||V,X=L.offset,Y=L.gutter,Z=void 0===Y?8:Y,$=L.flip,_=void 0===$||$,aa=L.boundary,ba=void 0===aa?"clippingParents":aa,ca=L.preventOverflow,da=void 0===ca||ca,ea=L.matchWidth,fa=L.direction,ga=(0,y.useRef)(null),ha=(0,y.useRef)(null),ia=(0,y.useRef)(null),ja=void 0===P?"bottom":P,void 0===(ka=void 0===fa?"ltr":fa)&&(ka="ltr"),na=(null==(la=tf[ja])?void 0:la[ka])||ja,oa="ltr"===ka?na:null!=(ma=uf[ja])?ma:na,pa=(0,y.useRef)(function(){}),qa=(0,y.useCallback)(function(){if(N&&ga.current&&ha.current){var a;null==pa.current||pa.current(),ia.current=ef(ga.current,ha.current,{placement:oa,modifiers:[rf,of,mf,ff({},lf,{enabled:!!ea}),ff({name:"eventListeners"},"object"==typeof(a=W)?{enabled:!0,options:ff({},kf,a)}:{enabled:a,options:kf}),{name:"arrow",options:{padding:T}},{name:"offset",options:{offset:null!=X?X:[0,Z]}},{name:"flip",enabled:!!_,options:{padding:8}},{name:"preventOverflow",enabled:!!da,options:{boundary:ba}}].concat(null!=O?O:[]),strategy:R}),ia.current.forceUpdate(),pa.current=ia.current.destroy}},[oa,N,O,ea,W,T,X,Z,_,da,ba,R]),(0,y.useEffect)(function(){return function(){if(!ga.current&&!ha.current){var a;null==(a=ia.current)||a.destroy(),ia.current=null}}},[]),ra=(0,y.useCallback)(function(a){ga.current=a,qa()},[qa]),sa=(0,y.useCallback)(function(a,b){return void 0===a&&(a={}),void 0===b&&(b=null),ff({},a,{ref:(0,C.lq)(ra,b)})},[ra]),ta=(0,y.useCallback)(function(a){ha.current=a,qa()},[qa]),ua=(0,y.useCallback)(function(a,b){return void 0===a&&(a={}),void 0===b&&(b=null),ff({},a,{ref:(0,C.lq)(ta,b),style:ff({},a.style,{position:R,minWidth:"max-content",inset:"0 auto auto 0"})})},[R,ta]),va=(0,y.useCallback)(function(a,b){void 0===a&&(a={}),void 0===b&&(b=null);var c,d,e,f,g,h=a;return h.size,h.shadowColor,h.bg,h.style,ff({},function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(h,vf),{ref:b,"data-popper-arrow":"",style:(d=(c=a).size,e=c.shadowColor,f=c.bg,g=ff({},c.style,{position:"absolute"}),d&&(g["--popper-arrow-size"]=d),e&&(g["--popper-arrow-shadow-color"]=e),f&&(g["--popper-arrow-bg"]=f),g)})},[]),wa=(0,y.useCallback)(function(a,b){return void 0===a&&(a={}),void 0===b&&(b=null),ff({},a,{ref:b,"data-popper-arrow-inner":""})},[]),xa={update:function(){var a;null==(a=ia.current)||a.update()},forceUpdate:function(){var a;null==(a=ia.current)||a.forceUpdate()},transformOrigin:hf.transformOrigin.varRef,referenceRef:ra,popperRef:ta,getPopperProps:ua,getArrowProps:va,getArrowInnerProps:wa,getReferenceProps:sa},ya=y.useState(-1),za=ya[0],Aa=ya[1],(0,D.rf)(function(){G||Aa(-1)},[G]),(0,D.Ck)(t,{focusRef:u,visible:G,shouldFocus:!0}),Ba=(0,E.c)({isOpen:G,ref:t}),Ca=(0,D.ZS)(d,"menu-button","menu-list"),Da=Ca[0],Ea=Ca[1],Fa=y.useCallback(function(){H(),w()},[H,w]),Ga=y.useRef(new Set([])),(0,D.zq)(function(){Ga.current.forEach(function(a){return clearTimeout(a)}),Ga.current.clear()}),Ha=y.useCallback(function(){H(),x()},[x,H]),Ia=y.useCallback(function(){H(),z()},[H,z]),Ja=y.useCallback(function(){var a,b,c=(0,B.lZ)(t.current),d=null==(a=t.current)?void 0:a.contains(c.activeElement);if(G&&!d){var e=null==(b=v.item(za))?void 0:b.node;e&&(0,B.T_)(e,{selectTextIfInput:!1,preventScroll:!1})}},[G,za,v]),{openAndFocusMenu:Fa,openAndFocusFirstItem:Ha,openAndFocusLastItem:Ia,onTransitionEnd:Ja,unstable__animationState:Ba,descendants:v,popper:xa,buttonId:Da,menuId:Ea,forceUpdate:xa.forceUpdate,orientation:"vertical",isOpen:G,onToggle:J,onOpen:H,onClose:I,menuRef:t,buttonRef:u,focusedIndex:za,closeOnSelect:void 0===e||e,closeOnBlur:g,autoSelect:i,setFocusedIndex:Aa,isLazy:j,lazyBehavior:void 0===p?"unmount":p}),Qa=Pa.descendants,Ra=xf(Pa,Mf),Sa=y.useMemo(function(){return Ra},[Ra]),Ta=Sa.isOpen,Ua=Sa.onClose,Va=Sa.forceUpdate;return y.createElement(Df,{value:Qa},y.createElement(If,{value:Sa},y.createElement(U.Fo,{value:La},(0,B.Pu)(Ka,{isOpen:Ta,onClose:Ua,forceUpdate:Va}))))};B.Ts&&(Wf.displayName="Menu");var Xf=(0,U.Gp)(function(a,b){var c=(0,U.yK)();return y.createElement(U.m$.button,wf({ref:b},a,{__css:wf({display:"inline-flex",appearance:"none",alignItems:"center",outline:0},c.button)}))}),Yf=(0,U.Gp)(function(a,b){a.children;var c,d,e,f,g,h,i,j,k=a.as,l=xf(a,Nf),m=(void 0===(c=l)&&(c={}),void 0===(d=b)&&(d=null),f=(e=Jf()).onToggle,g=e.popper,h=e.openAndFocusFirstItem,i=e.openAndFocusLastItem,j=y.useCallback(function(a){var b={Enter:h,ArrowDown:h,ArrowUp:i}[(0,B.uh)(a)];b&&(a.preventDefault(),a.stopPropagation(),b(a))},[h,i]),wf({},c,{ref:(0,C.lq)(e.buttonRef,d,g.referenceRef),id:e.buttonId,"data-active":(0,B.PB)(e.isOpen),"aria-expanded":e.isOpen,"aria-haspopup":"menu","aria-controls":e.menuId,onClick:(0,B.v0)(c.onClick,f),onKeyDown:(0,B.v0)(c.onKeyDown,j)}));return y.createElement(k||Xf,wf({},m,{className:(0,B.cx)("chakra-menu__menu-button",a.className)}),y.createElement(U.m$.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0}},a.children))});B.Ts&&(Yf.displayName="MenuButton");var Zf={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},$f="custom"in Ld.E?Ld.E.custom(U.m$.div):(0,Ld.E)(U.m$.div),_f=(0,U.Gp)(function(a,b){var c,d,e,f,g,h,i=a.rootProps,j=xf(a,Of),k=Jf(),l=k.isOpen,m=k.onTransitionEnd,n=k.unstable__animationState,o=function(a,b){void 0===a&&(a={}),void 0===b&&(b=null);var c=Jf();if(!c)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");var d=c.focusedIndex,e=c.setFocusedIndex,f=c.menuRef,g=c.isOpen,h=c.onClose,i=c.menuId,j=c.isLazy,k=c.lazyBehavior,l=c.unstable__animationState,m=Ef(),n=(0,D.bx)({preventDefault:function(a){return" "!==a.key&&Kf(a.target)}}),o=y.useCallback(function(a){var b={Tab:function(a){return a.preventDefault()},Escape:h,ArrowDown:function(){var a=m.nextEnabled(d);a&&e(a.index)},ArrowUp:function(){var a=m.prevEnabled(d);a&&e(a.index)}}[(0,B.uh)(a)];if(b){a.preventDefault(),b(a);return}var c=n(function(a){var b=(0,B.LP)(m.values(),a,function(a){var b,c;return null!=(b=null==a?void 0:null==(c=a.node)?void 0:c.textContent)?b:""},m.item(d));b&&e(m.indexOf(b.node))});Kf(a.target)&&c(a)},[m,d,n,h,e]),p=y.useRef(!1);g&&(p.current=!0);var q=(0,B.VI)({hasBeenSelected:p.current,isLazy:j,lazyBehavior:k,isSelected:l.present});return wf({},a,{ref:(0,C.lq)(f,b),children:q?a.children:null,tabIndex:-1,role:"menu",id:i,style:wf({},a.style,{transformOrigin:"var(--popper-transform-origin)"}),"aria-orientation":"vertical",onKeyDown:(0,B.v0)(a.onKeyDown,o)})}(j,b),p=(void 0===(e=i)&&(e={}),g=(f=Jf()).popper,h=f.isOpen,g.getPopperProps(wf({},e,{style:wf({visibility:h?"visible":"hidden"},e.style)}))),q=(0,U.yK)();return y.createElement(U.m$.div,wf({},p,{__css:{zIndex:null!=(c=a.zIndex)?c:null==(d=q.list)?void 0:d.zIndex}}),y.createElement($f,wf({},o,{onUpdate:m,onAnimationComplete:(0,B.PP)(n.onComplete,o.onAnimationComplete),className:(0,B.cx)("chakra-menu__menu-list",o.className),variants:Zf,initial:!1,animate:l?"enter":"exit",__css:wf({outline:0},q.list)})))});B.Ts&&(_f.displayName="MenuList");var ag=(0,U.Gp)(function(a,b){var c=a.type,d=xf(a,Pf),e=(0,U.yK)(),f=d.as?null!=c?c:void 0:"button",g=wf({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0},e.item);return y.createElement(U.m$.button,wf({ref:b,type:f},d,{__css:g}))}),bg=(0,U.Gp)(function(a,b){var c=a.icon,d=a.iconSpacing,e=a.command,f=a.commandSpacing,g=a.children,h=Lf(xf(a,Qf),b),i=c||e?y.createElement("span",{style:{pointerEvents:"none",flex:1}},g):g;return y.createElement(ag,wf({},h,{className:(0,B.cx)("chakra-menu__menuitem",h.className)}),c&&y.createElement(hg,{fontSize:"0.8em",marginEnd:void 0===d?"0.75rem":d},c),i,e&&y.createElement(gg,{marginStart:void 0===f?"0.75rem":f},e))});B.Ts&&(bg.displayName="MenuItem");var cg=function(a){return y.createElement("svg",wf({viewBox:"0 0 14 14",width:"1em",height:"1em"},a),y.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},dg=(0,U.Gp)(function(a,b){var c,d,e,f,g,h,i,j=a.icon,k=a.iconSpacing,l=xf(a,Rf),m=(void 0===(c=l)&&(c={}),void 0===(d=b)&&(d=null),f=(e=c).type,g=e.isChecked,h=xf(e,Af),i=Lf(h,d),wf({},i,{role:"menuitem"+(void 0===f?"radio":f),"aria-checked":g}));return y.createElement(ag,wf({},m,{className:(0,B.cx)("chakra-menu__menuitem-option",l.className)}),y.createElement(hg,{fontSize:"0.8em",marginEnd:void 0===k?"0.75rem":k,opacity:a.isChecked?1:0},j||y.createElement(cg,null)),y.createElement("span",{style:{flex:1}},m.children))});dg.id="MenuItemOption",B.Ts&&(dg.displayName="MenuItemOption");var eg=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=a.className,p=a.title,q=xf(a,Sf),r=(void 0===(b=q)&&(b={}),d=(c=b).children,e=c.type,f=void 0===e?"radio":e,g=c.value,h=c.defaultValue,i=c.onChange,j=xf(c,Bf),k=(0,D.Tx)({defaultValue:null!=h?h:"radio"===f?"":[],value:g,onChange:i}),l=k[0],m=k[1],n=y.useCallback(function(a){"radio"===f&&(0,B.HD)(l)&&m(a),"checkbox"===f&&(0,B.kJ)(l)&&m(l.includes(a)?(0,B.cl)(l,a):(0,B.jX)(l,a))},[l,m,f]),wf({},j,{children:(0,C.WR)(d).map(function(a){if("MenuItemOption"!==a.type.id)return a;var b=function(b){n(a.props.value),null==a.props.onClick||a.props.onClick(b)},c="radio"===f?a.props.value===l:l.includes(a.props.value);return y.cloneElement(a,{type:f,onClick:b,isChecked:c})})}));return y.createElement(fg,wf({title:p,className:(0,B.cx)("chakra-menu__option-group",o)},r))};B.Ts&&(eg.displayName="MenuOptionGroup");var fg=(0,U.Gp)(function(a,b){var c=a.title,d=a.children,e=a.className,f=xf(a,Tf),g=(0,B.cx)("chakra-menu__group__title",e),h=(0,U.yK)();return y.createElement("div",{ref:b,className:"chakra-menu__group",role:"group"},c&&y.createElement(U.m$.p,wf({className:g},f,{__css:h.groupTitle}),c),d)});B.Ts&&(fg.displayName="MenuGroup");var gg=(0,U.Gp)(function(a,b){var c=(0,U.yK)();return y.createElement(U.m$.span,wf({ref:b},a,{__css:c.command,className:"chakra-menu__command"}))});B.Ts&&(gg.displayName="MenuCommand");var hg=function(a){var b=a.className,c=a.children,d=xf(a,Uf),e=y.Children.only(c),f=y.isValidElement(e)?y.cloneElement(e,{focusable:"false","aria-hidden":!0,className:(0,B.cx)("chakra-menu__icon",e.props.className)}):null,g=(0,B.cx)("chakra-menu__icon-wrapper",b);return y.createElement(U.m$.span,wf({className:g},d,{__css:{flexShrink:0}}),f)};B.Ts&&(hg.displayName="MenuIcon");var ig=function(a){var b=a.className,c=xf(a,Vf),d=(0,U.yK)();return y.createElement(U.m$.hr,wf({role:"separator","aria-orientation":"horizontal",className:(0,B.cx)("chakra-menu__divider",b)},c,{__css:d.divider}))};B.Ts&&(ig.displayName="MenuDivider");var jg=c(5193),kg=c(9876),lg=function(){var a=(0,V.If)().toggleColorMode;return(0,x.jsx)(jg.hU,{"aria-label":"Toggle theme",colorScheme:(0,V.ff)("purple","orange"),icon:(0,V.ff)((0,x.jsx)(kg.kL,{}),(0,x.jsx)(kg.NW,{})),onClick:a})};function mg(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var ng=function(a){var b=a.href,c=a.path,d=a.children,e=c===b,f=(0,V.ff)("gray200","whiteAlpha.900");return(0,x.jsx)(Fd.default,{href:b,children:(0,x.jsx)(Gd.rU,{p:2,bg:e?"grassTeal":void 0,color:e?"#202023":f,children:d})})},og=function(a){var b=a.path;return(0,x.jsx)(Gd.xu,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){mg(a,b,c[b])})}return a}({position:"fixed",as:"nav",w:"100%",bg:(0,V.ff)("#ffffff40","#20202390"),style:{backdropFilter:"blur(10px)"},zIndex:1},a,{children:(0,x.jsxs)(Gd.W2,{display:"flex",p:2,maxW:"container.md",wrap:"wrap",align:"center",justify:"space-between",children:[(0,x.jsx)(Gd.kC,{align:"center",mr:5,children:(0,x.jsx)(Gd.X6,{as:"h1",size:"20px",letterSpacing:"tighter",children:(0,x.jsx)(Kd,{})})}),(0,x.jsxs)(Gd.Kq,{direction:{base:"column",md:"row"},display:{base:"none",md:"flex"},width:{base:"full",md:"auto"},alignItems:"center",flexFlow:1,mt:{base:4,nmd:0},children:[(0,x.jsx)(ng,{href:"/works",path:b,children:"Projetos"}),(0,x.jsx)(ng,{href:"/about",path:b,children:"Sobre"})]}),(0,x.jsxs)(Gd.xu,{flex:1,align:"right",children:[(0,x.jsx)(lg,{}),(0,x.jsx)(Gd.xu,{ml:2,display:{base:"inline-block",md:"none"},children:(0,x.jsxs)(Wf,{children:[(0,x.jsx)(Yf,{as:jg.hU,icon:(0,x.jsx)(kg.Uq,{}),variant:"outline","aria-label":"Options"}),(0,x.jsxs)(_f,{children:[(0,x.jsx)(Fd.default,{href:"/works",passHref:!0,children:(0,x.jsx)(bg,{as:Gd.rU,children:"Projetos"})}),(0,x.jsx)(Fd.default,{href:"/about",passHref:!0,children:(0,x.jsx)(bg,{as:Gd.rU,children:"Sobre"})})]})]})})]})]})}))},pg=c(9238);const qg=1,rg="300 es";class sg{addEventListener(tg,ug){void 0===this._listeners&&(this._listeners={});const vg=this._listeners;void 0===vg[tg]&&(vg[tg]=[]),-1===vg[tg].indexOf(ug)&&vg[tg].push(ug)}hasEventListener(wg,xg){if(void 0===this._listeners)return!1;const yg=this._listeners;return void 0!==yg[wg]&& -1!==yg[wg].indexOf(xg)}removeEventListener(zg,Ag){if(void 0===this._listeners)return;const Bg=this._listeners,Cg=Bg[zg];if(void 0!==Cg){const Dg=Cg.indexOf(Ag);-1!==Dg&&Cg.splice(Dg,1)}}dispatchEvent(Eg){if(void 0===this._listeners)return;const Fg=this._listeners,Gg=Fg[Eg.type];if(void 0!==Gg){Eg.target=this;const Hg=Gg.slice(0);for(let Ig=0,Jg=Hg.length;Ig<Jg;Ig++)Hg[Ig].call(this,Eg);Eg.target=null}}}const Kg=[];for(let Lg=0;Lg<256;Lg++)Kg[Lg]=(Lg<16?"0":"")+Lg.toString(16);let Mg=1234567;const Ng=Math.PI/180,Og=180/Math.PI;function Pg(){const a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=Kg[255&a]+Kg[a>>8&255]+Kg[a>>16&255]+Kg[a>>24&255]+"-"+Kg[255&b]+Kg[b>>8&255]+"-"+Kg[b>>16&15|64]+Kg[b>>24&255]+"-"+Kg[63&c|128]+Kg[c>>8&255]+"-"+Kg[c>>16&255]+Kg[c>>24&255]+Kg[255&d]+Kg[d>>8&255]+Kg[d>>16&255]+Kg[d>>24&255];return e.toUpperCase()}function Qg(a,b,c){return Math.max(b,Math.min(c,a))}function Rg(a,b){return(a%b+b)%b}function Sg(a,b,c){return(1-c)*a+c*b}function Tg(a){return(a&a-1)==0&&0!==a}function Ug(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Vg(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}var Wg=Object.freeze({__proto__:null,DEG2RAD:Ng,RAD2DEG:Og,generateUUID:Pg,clamp:Qg,euclideanModulo:Rg,mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},inverseLerp:function(a,b,c){return a!==b?(c-a)/(b-a):0},lerp:Sg,damp:function(a,b,c,d){return Sg(a,b,1-Math.exp(-c*d))},pingpong:function(a,b=1){return b-Math.abs(Rg(a,2*b)-b)},smoothstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*(3-2*a)},smootherstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){return void 0!==a&&(Mg=a%2147483647),((Mg=16807*Mg%2147483647)-1)/2147483646},degToRad:function(a){return a*Ng},radToDeg:function(a){return a*Og},isPowerOfTwo:Tg,ceilPowerOfTwo:Ug,floorPowerOfTwo:Vg,setQuaternionFromProperEuler:function(a,b,c,d,e){const f=Math.cos,g=Math.sin,h=f(c/2),i=g(c/2),j=f((b+d)/2),k=g((b+d)/2),l=f((b-d)/2),m=g((b-d)/2),n=f((d-b)/2),o=g((d-b)/2);switch(e){case"XYX":a.set(h*k,i*l,i*m,h*j);break;case"YZY":a.set(i*m,h*k,i*l,h*j);break;case"ZXZ":a.set(i*l,i*m,h*k,h*j);break;case"XZX":a.set(h*k,i*o,i*n,h*j);break;case"YXY":a.set(i*n,h*k,i*o,h*j);break;case"ZYZ":a.set(i*o,i*n,h*k,h*j);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}});class Xg{constructor(Yg=0,Zg=0){this.x=Yg,this.y=Zg}get width(){return this.x}set width($g){this.x=$g}get height(){return this.y}set height(_g){this.y=_g}set(ah,bh){return this.x=ah,this.y=bh,this}setScalar(ch){return this.x=ch,this.y=ch,this}setX(dh){return this.x=dh,this}setY(eh){return this.y=eh,this}setComponent(fh,gh){switch(fh){case 0:this.x=gh;break;case 1:this.y=gh;break;default:throw new Error("index is out of range: "+fh)}return this}getComponent(hh){switch(hh){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+hh)}}clone(){return new this.constructor(this.x,this.y)}copy(ih){return this.x=ih.x,this.y=ih.y,this}add(jh,kh){return void 0!==kh?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(jh,kh)):(this.x+=jh.x,this.y+=jh.y,this)}addScalar(lh){return this.x+=lh,this.y+=lh,this}addVectors(mh,nh){return this.x=mh.x+nh.x,this.y=mh.y+nh.y,this}addScaledVector(oh,ph){return this.x+=oh.x*ph,this.y+=oh.y*ph,this}sub(qh,rh){return void 0!==rh?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(qh,rh)):(this.x-=qh.x,this.y-=qh.y,this)}subScalar(sh){return this.x-=sh,this.y-=sh,this}subVectors(th,uh){return this.x=th.x-uh.x,this.y=th.y-uh.y,this}multiply(vh){return this.x*=vh.x,this.y*=vh.y,this}multiplyScalar(wh){return this.x*=wh,this.y*=wh,this}divide(xh){return this.x/=xh.x,this.y/=xh.y,this}divideScalar(yh){return this.multiplyScalar(1/yh)}applyMatrix3(zh){const Ah=this.x,Bh=this.y,Ch=zh.elements;return this.x=Ch[0]*Ah+Ch[3]*Bh+Ch[6],this.y=Ch[1]*Ah+Ch[4]*Bh+Ch[7],this}min(Dh){return this.x=Math.min(this.x,Dh.x),this.y=Math.min(this.y,Dh.y),this}max(Eh){return this.x=Math.max(this.x,Eh.x),this.y=Math.max(this.y,Eh.y),this}clamp(Fh,Gh){return this.x=Math.max(Fh.x,Math.min(Gh.x,this.x)),this.y=Math.max(Fh.y,Math.min(Gh.y,this.y)),this}clampScalar(Hh,Ih){return this.x=Math.max(Hh,Math.min(Ih,this.x)),this.y=Math.max(Hh,Math.min(Ih,this.y)),this}clampLength(Jh,Kh){const Lh=this.length();return this.divideScalar(Lh||1).multiplyScalar(Math.max(Jh,Math.min(Kh,Lh)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(Mh){return this.x*Mh.x+this.y*Mh.y}cross(Nh){return this.x*Nh.y-this.y*Nh.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const Oh=Math.atan2(-this.y,-this.x)+Math.PI;return Oh}distanceTo(Ph){return Math.sqrt(this.distanceToSquared(Ph))}distanceToSquared(Qh){const Rh=this.x-Qh.x,Sh=this.y-Qh.y;return Rh*Rh+Sh*Sh}manhattanDistanceTo(Th){return Math.abs(this.x-Th.x)+Math.abs(this.y-Th.y)}setLength(Uh){return this.normalize().multiplyScalar(Uh)}lerp(Vh,Wh){return this.x+=(Vh.x-this.x)*Wh,this.y+=(Vh.y-this.y)*Wh,this}lerpVectors(Xh,Yh,Zh){return this.x=Xh.x+(Yh.x-Xh.x)*Zh,this.y=Xh.y+(Yh.y-Xh.y)*Zh,this}equals($h){return $h.x===this.x&&$h.y===this.y}fromArray(_h,ai=0){return this.x=_h[ai],this.y=_h[ai+1],this}toArray(bi=[],ci=0){return bi[ci]=this.x,bi[ci+1]=this.y,bi}fromBufferAttribute(di,ei,fi){return void 0!==fi&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=di.getX(ei),this.y=di.getY(ei),this}rotateAround(gi,hi){const ii=Math.cos(hi),ji=Math.sin(hi),ki=this.x-gi.x,li=this.y-gi.y;return this.x=ki*ii-li*ji+gi.x,this.y=ki*ji+li*ii+gi.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Xg.prototype.isVector2=!0;class mi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(ni,oi,pi,qi,ri,si,ti,ui,vi){const wi=this.elements;return wi[0]=ni,wi[1]=qi,wi[2]=ti,wi[3]=oi,wi[4]=ri,wi[5]=ui,wi[6]=pi,wi[7]=si,wi[8]=vi,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(xi){const yi=this.elements,zi=xi.elements;return yi[0]=zi[0],yi[1]=zi[1],yi[2]=zi[2],yi[3]=zi[3],yi[4]=zi[4],yi[5]=zi[5],yi[6]=zi[6],yi[7]=zi[7],yi[8]=zi[8],this}extractBasis(Ai,Bi,Ci){return Ai.setFromMatrix3Column(this,0),Bi.setFromMatrix3Column(this,1),Ci.setFromMatrix3Column(this,2),this}setFromMatrix4(Di){const Ei=Di.elements;return this.set(Ei[0],Ei[4],Ei[8],Ei[1],Ei[5],Ei[9],Ei[2],Ei[6],Ei[10]),this}multiply(Fi){return this.multiplyMatrices(this,Fi)}premultiply(Gi){return this.multiplyMatrices(Gi,this)}multiplyMatrices(Hi,Ii){const Ji=Hi.elements,Ki=Ii.elements,Li=this.elements,Mi=Ji[0],Ni=Ji[3],Oi=Ji[6],Pi=Ji[1],Qi=Ji[4],Ri=Ji[7],Si=Ji[2],Ti=Ji[5],Ui=Ji[8],Vi=Ki[0],Wi=Ki[3],Xi=Ki[6],Yi=Ki[1],Zi=Ki[4],$i=Ki[7],_i=Ki[2],aj=Ki[5],bj=Ki[8];return Li[0]=Mi*Vi+Ni*Yi+Oi*_i,Li[3]=Mi*Wi+Ni*Zi+Oi*aj,Li[6]=Mi*Xi+Ni*$i+Oi*bj,Li[1]=Pi*Vi+Qi*Yi+Ri*_i,Li[4]=Pi*Wi+Qi*Zi+Ri*aj,Li[7]=Pi*Xi+Qi*$i+Ri*bj,Li[2]=Si*Vi+Ti*Yi+Ui*_i,Li[5]=Si*Wi+Ti*Zi+Ui*aj,Li[8]=Si*Xi+Ti*$i+Ui*bj,this}multiplyScalar(cj){const dj=this.elements;return dj[0]*=cj,dj[3]*=cj,dj[6]*=cj,dj[1]*=cj,dj[4]*=cj,dj[7]*=cj,dj[2]*=cj,dj[5]*=cj,dj[8]*=cj,this}determinant(){const ej=this.elements,fj=ej[0],gj=ej[1],hj=ej[2],ij=ej[3],jj=ej[4],kj=ej[5],lj=ej[6],mj=ej[7],nj=ej[8];return fj*jj*nj-fj*kj*mj-gj*ij*nj+gj*kj*lj+hj*ij*mj-hj*jj*lj}invert(){const oj=this.elements,pj=oj[0],qj=oj[1],rj=oj[2],sj=oj[3],tj=oj[4],uj=oj[5],vj=oj[6],wj=oj[7],xj=oj[8],yj=xj*tj-uj*wj,zj=uj*vj-xj*sj,Aj=wj*sj-tj*vj,Bj=pj*yj+qj*zj+rj*Aj;if(0===Bj)return this.set(0,0,0,0,0,0,0,0,0);const Cj=1/Bj;return oj[0]=yj*Cj,oj[1]=(rj*wj-xj*qj)*Cj,oj[2]=(uj*qj-rj*tj)*Cj,oj[3]=zj*Cj,oj[4]=(xj*pj-rj*vj)*Cj,oj[5]=(rj*sj-uj*pj)*Cj,oj[6]=Aj*Cj,oj[7]=(qj*vj-wj*pj)*Cj,oj[8]=(tj*pj-qj*sj)*Cj,this}transpose(){let Dj;const Ej=this.elements;return Dj=Ej[1],Ej[1]=Ej[3],Ej[3]=Dj,Dj=Ej[2],Ej[2]=Ej[6],Ej[6]=Dj,Dj=Ej[5],Ej[5]=Ej[7],Ej[7]=Dj,this}getNormalMatrix(Fj){return this.setFromMatrix4(Fj).invert().transpose()}transposeIntoArray(Gj){const Hj=this.elements;return Gj[0]=Hj[0],Gj[1]=Hj[3],Gj[2]=Hj[6],Gj[3]=Hj[1],Gj[4]=Hj[4],Gj[5]=Hj[7],Gj[6]=Hj[2],Gj[7]=Hj[5],Gj[8]=Hj[8],this}setUvTransform(Ij,Jj,Kj,Lj,Mj,Nj,Oj){const Pj=Math.cos(Mj),Qj=Math.sin(Mj);return this.set(Kj*Pj,Kj*Qj,-Kj*(Pj*Nj+Qj*Oj)+Nj+Ij,-Lj*Qj,Lj*Pj,-Lj*(-Qj*Nj+Pj*Oj)+Oj+Jj,0,0,1),this}scale(Rj,Sj){const Tj=this.elements;return Tj[0]*=Rj,Tj[3]*=Rj,Tj[6]*=Rj,Tj[1]*=Sj,Tj[4]*=Sj,Tj[7]*=Sj,this}rotate(Uj){const Vj=Math.cos(Uj),Wj=Math.sin(Uj),Xj=this.elements,Yj=Xj[0],Zj=Xj[3],$j=Xj[6],_j=Xj[1],ak=Xj[4],bk=Xj[7];return Xj[0]=Vj*Yj+Wj*_j,Xj[3]=Vj*Zj+Wj*ak,Xj[6]=Vj*$j+Wj*bk,Xj[1]=-Wj*Yj+Vj*_j,Xj[4]=-Wj*Zj+Vj*ak,Xj[7]=-Wj*$j+Vj*bk,this}translate(ck,dk){const ek=this.elements;return ek[0]+=ck*ek[2],ek[3]+=ck*ek[5],ek[6]+=ck*ek[8],ek[1]+=dk*ek[2],ek[4]+=dk*ek[5],ek[7]+=dk*ek[8],this}equals(fk){const gk=this.elements,hk=fk.elements;for(let ik=0;ik<9;ik++)if(gk[ik]!==hk[ik])return!1;return!0}fromArray(jk,kk=0){for(let lk=0;lk<9;lk++)this.elements[lk]=jk[lk+kk];return this}toArray(mk=[],nk=0){const ok=this.elements;return mk[nk]=ok[0],mk[nk+1]=ok[1],mk[nk+2]=ok[2],mk[nk+3]=ok[3],mk[nk+4]=ok[4],mk[nk+5]=ok[5],mk[nk+6]=ok[6],mk[nk+7]=ok[7],mk[nk+8]=ok[8],mk}clone(){return new this.constructor().fromArray(this.elements)}}function pk(a){if(0===a.length)return-1/0;let b=a[0];for(let c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}function qk(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function rk(a,b=0){let c=3735928559^b,d=1103547991^b;for(let e=0,f;e<a.length;e++)c=Math.imul(c^(f=a.charCodeAt(e)),2654435761),d=Math.imul(d^f,1597334677);return c=Math.imul(c^c>>>16,2246822507)^Math.imul(d^d>>>13,3266489909),d=Math.imul(d^d>>>16,2246822507)^Math.imul(c^c>>>13,3266489909),4294967296*(2097151&d)+(c>>>0)}mi.prototype.isMatrix3=!0;let sk;class tk{static getDataURL(uk){if(/^data:/i.test(uk.src))return uk.src;if("undefined"==typeof HTMLCanvasElement)return uk.src;let vk;if(uk instanceof HTMLCanvasElement)vk=uk;else{void 0===sk&&(sk=qk("canvas")),sk.width=uk.width,sk.height=uk.height;const wk=sk.getContext("2d");uk instanceof ImageData?wk.putImageData(uk,0,0):wk.drawImage(uk,0,0,uk.width,uk.height),vk=sk}return vk.width>2048||vk.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",uk),vk.toDataURL("image/jpeg",.6)):vk.toDataURL("image/png")}}let xk=0;class yk extends sg{constructor(zk=yk.DEFAULT_IMAGE,Ak=yk.DEFAULT_MAPPING,Bk=1001,Ck=1001,Dk=1006,Ek=1008,Fk=1023,Gk=1009,Hk=1,Ik=3e3){super(),Object.defineProperty(this,"id",{value:xk++}),this.uuid=Pg(),this.name="",this.image=zk,this.mipmaps=[],this.mapping=Ak,this.wrapS=Bk,this.wrapT=Ck,this.magFilter=Dk,this.minFilter=Ek,this.anisotropy=Hk,this.format=Fk,this.internalFormat=null,this.type=Gk,this.offset=new Xg(0,0),this.repeat=new Xg(1,1),this.center=new Xg(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mi(),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Ik,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(Jk){return this.name=Jk.name,this.image=Jk.image,this.mipmaps=Jk.mipmaps.slice(0),this.mapping=Jk.mapping,this.wrapS=Jk.wrapS,this.wrapT=Jk.wrapT,this.magFilter=Jk.magFilter,this.minFilter=Jk.minFilter,this.anisotropy=Jk.anisotropy,this.format=Jk.format,this.internalFormat=Jk.internalFormat,this.type=Jk.type,this.offset.copy(Jk.offset),this.repeat.copy(Jk.repeat),this.center.copy(Jk.center),this.rotation=Jk.rotation,this.matrixAutoUpdate=Jk.matrixAutoUpdate,this.matrix.copy(Jk.matrix),this.generateMipmaps=Jk.generateMipmaps,this.premultiplyAlpha=Jk.premultiplyAlpha,this.flipY=Jk.flipY,this.unpackAlignment=Jk.unpackAlignment,this.encoding=Jk.encoding,this.userData=JSON.parse(JSON.stringify(Jk.userData)),this}toJSON(Kk){const Lk=void 0===Kk||"string"==typeof Kk;if(!Lk&& void 0!==Kk.textures[this.uuid])return Kk.textures[this.uuid];const Mk={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const Nk=this.image;if(void 0===Nk.uuid&&(Nk.uuid=Pg()),!Lk&& void 0===Kk.images[Nk.uuid]){let Ok;if(Array.isArray(Nk)){Ok=[];for(let Pk=0,Qk=Nk.length;Pk<Qk;Pk++)Nk[Pk].isDataTexture?Ok.push(Tk(Nk[Pk].image)):Ok.push(Tk(Nk[Pk]))}else Ok=Tk(Nk);Kk.images[Nk.uuid]={uuid:Nk.uuid,url:Ok}}Mk.image=Nk.uuid}return"{}"!==JSON.stringify(this.userData)&&(Mk.userData=this.userData),Lk||(Kk.textures[this.uuid]=Mk),Mk}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(Rk){if(300!==this.mapping)return Rk;if(Rk.applyMatrix3(this.matrix),Rk.x<0||Rk.x>1)switch(this.wrapS){case 1e3:Rk.x=Rk.x-Math.floor(Rk.x);break;case 1001:Rk.x=Rk.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(Rk.x)%2)?Rk.x=Math.ceil(Rk.x)-Rk.x:Rk.x=Rk.x-Math.floor(Rk.x);break}if(Rk.y<0||Rk.y>1)switch(this.wrapT){case 1e3:Rk.y=Rk.y-Math.floor(Rk.y);break;case 1001:Rk.y=Rk.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(Rk.y)%2)?Rk.y=Math.ceil(Rk.y)-Rk.y:Rk.y=Rk.y-Math.floor(Rk.y);break}return this.flipY&&(Rk.y=1-Rk.y),Rk}set needsUpdate(Sk){!0===Sk&&this.version++}}function Tk(a){return"undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap?tk.getDataURL(a):a.data?{data:Array.prototype.slice.call(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}yk.DEFAULT_IMAGE=void 0,yk.DEFAULT_MAPPING=300,yk.prototype.isTexture=!0;class Uk{constructor(Vk=0,Wk=0,Xk=0,Yk=1){this.x=Vk,this.y=Wk,this.z=Xk,this.w=Yk}get width(){return this.z}set width(Zk){this.z=Zk}get height(){return this.w}set height($k){this.w=$k}set(_k,al,bl,cl){return this.x=_k,this.y=al,this.z=bl,this.w=cl,this}setScalar(dl){return this.x=dl,this.y=dl,this.z=dl,this.w=dl,this}setX(el){return this.x=el,this}setY(fl){return this.y=fl,this}setZ(gl){return this.z=gl,this}setW(hl){return this.w=hl,this}setComponent(il,jl){switch(il){case 0:this.x=jl;break;case 1:this.y=jl;break;case 2:this.z=jl;break;case 3:this.w=jl;break;default:throw new Error("index is out of range: "+il)}return this}getComponent(kl){switch(kl){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+kl)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(ll){return this.x=ll.x,this.y=ll.y,this.z=ll.z,this.w=void 0!==ll.w?ll.w:1,this}add(ml,nl){return void 0!==nl?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(ml,nl)):(this.x+=ml.x,this.y+=ml.y,this.z+=ml.z,this.w+=ml.w,this)}addScalar(ol){return this.x+=ol,this.y+=ol,this.z+=ol,this.w+=ol,this}addVectors(pl,ql){return this.x=pl.x+ql.x,this.y=pl.y+ql.y,this.z=pl.z+ql.z,this.w=pl.w+ql.w,this}addScaledVector(rl,sl){return this.x+=rl.x*sl,this.y+=rl.y*sl,this.z+=rl.z*sl,this.w+=rl.w*sl,this}sub(tl,ul){return void 0!==ul?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(tl,ul)):(this.x-=tl.x,this.y-=tl.y,this.z-=tl.z,this.w-=tl.w,this)}subScalar(vl){return this.x-=vl,this.y-=vl,this.z-=vl,this.w-=vl,this}subVectors(wl,xl){return this.x=wl.x-xl.x,this.y=wl.y-xl.y,this.z=wl.z-xl.z,this.w=wl.w-xl.w,this}multiply(yl){return this.x*=yl.x,this.y*=yl.y,this.z*=yl.z,this.w*=yl.w,this}multiplyScalar(zl){return this.x*=zl,this.y*=zl,this.z*=zl,this.w*=zl,this}applyMatrix4(Al){const Bl=this.x,Cl=this.y,Dl=this.z,El=this.w,Fl=Al.elements;return this.x=Fl[0]*Bl+Fl[4]*Cl+Fl[8]*Dl+Fl[12]*El,this.y=Fl[1]*Bl+Fl[5]*Cl+Fl[9]*Dl+Fl[13]*El,this.z=Fl[2]*Bl+Fl[6]*Cl+Fl[10]*Dl+Fl[14]*El,this.w=Fl[3]*Bl+Fl[7]*Cl+Fl[11]*Dl+Fl[15]*El,this}divideScalar(Gl){return this.multiplyScalar(1/Gl)}setAxisAngleFromQuaternion(Hl){this.w=2*Math.acos(Hl.w);const Il=Math.sqrt(1-Hl.w*Hl.w);return Il<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=Hl.x/Il,this.y=Hl.y/Il,this.z=Hl.z/Il),this}setAxisAngleFromRotationMatrix(Jl){let Kl,Ll,Ml,Nl;const Ol=Jl.elements,Pl=Ol[0],Ql=Ol[4],Rl=Ol[8],Sl=Ol[1],Tl=Ol[5],Ul=Ol[9],Vl=Ol[2],Wl=Ol[6],Xl=Ol[10];if(.01>Math.abs(Ql-Sl)&&.01>Math.abs(Rl-Vl)&&.01>Math.abs(Ul-Wl)){if(.1>Math.abs(Ql+Sl)&&.1>Math.abs(Rl+Vl)&&.1>Math.abs(Ul+Wl)&&.1>Math.abs(Pl+Tl+Xl-3))return this.set(1,0,0,0),this;Kl=Math.PI;const Yl=(Pl+1)/2,Zl=(Tl+1)/2,$l=(Xl+1)/2,_l=(Ql+Sl)/4,am=(Rl+Vl)/4,bm=(Ul+Wl)/4;return Yl>Zl&&Yl>$l?Yl<.01?(Ll=0,Ml=.707106781,Nl=.707106781):(Ml=_l/(Ll=Math.sqrt(Yl)),Nl=am/Ll):Zl>$l?Zl<.01?(Ll=.707106781,Ml=0,Nl=.707106781):(Ll=_l/(Ml=Math.sqrt(Zl)),Nl=bm/Ml):$l<.01?(Ll=.707106781,Ml=.707106781,Nl=0):(Ll=am/(Nl=Math.sqrt($l)),Ml=bm/Nl),this.set(Ll,Ml,Nl,Kl),this}let cm=Math.sqrt((Wl-Ul)*(Wl-Ul)+(Rl-Vl)*(Rl-Vl)+(Sl-Ql)*(Sl-Ql));return .001>Math.abs(cm)&&(cm=1),this.x=(Wl-Ul)/cm,this.y=(Rl-Vl)/cm,this.z=(Sl-Ql)/cm,this.w=Math.acos((Pl+Tl+Xl-1)/2),this}min(dm){return this.x=Math.min(this.x,dm.x),this.y=Math.min(this.y,dm.y),this.z=Math.min(this.z,dm.z),this.w=Math.min(this.w,dm.w),this}max(em){return this.x=Math.max(this.x,em.x),this.y=Math.max(this.y,em.y),this.z=Math.max(this.z,em.z),this.w=Math.max(this.w,em.w),this}clamp(fm,gm){return this.x=Math.max(fm.x,Math.min(gm.x,this.x)),this.y=Math.max(fm.y,Math.min(gm.y,this.y)),this.z=Math.max(fm.z,Math.min(gm.z,this.z)),this.w=Math.max(fm.w,Math.min(gm.w,this.w)),this}clampScalar(hm,im){return this.x=Math.max(hm,Math.min(im,this.x)),this.y=Math.max(hm,Math.min(im,this.y)),this.z=Math.max(hm,Math.min(im,this.z)),this.w=Math.max(hm,Math.min(im,this.w)),this}clampLength(jm,km){const lm=this.length();return this.divideScalar(lm||1).multiplyScalar(Math.max(jm,Math.min(km,lm)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(mm){return this.x*mm.x+this.y*mm.y+this.z*mm.z+this.w*mm.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(nm){return this.normalize().multiplyScalar(nm)}lerp(om,pm){return this.x+=(om.x-this.x)*pm,this.y+=(om.y-this.y)*pm,this.z+=(om.z-this.z)*pm,this.w+=(om.w-this.w)*pm,this}lerpVectors(qm,rm,sm){return this.x=qm.x+(rm.x-qm.x)*sm,this.y=qm.y+(rm.y-qm.y)*sm,this.z=qm.z+(rm.z-qm.z)*sm,this.w=qm.w+(rm.w-qm.w)*sm,this}equals(tm){return tm.x===this.x&&tm.y===this.y&&tm.z===this.z&&tm.w===this.w}fromArray(um,vm=0){return this.x=um[vm],this.y=um[vm+1],this.z=um[vm+2],this.w=um[vm+3],this}toArray(wm=[],xm=0){return wm[xm]=this.x,wm[xm+1]=this.y,wm[xm+2]=this.z,wm[xm+3]=this.w,wm}fromBufferAttribute(ym,zm,Am){return void 0!==Am&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=ym.getX(zm),this.y=ym.getY(zm),this.z=ym.getZ(zm),this.w=ym.getW(zm),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Uk.prototype.isVector4=!0;class Bm extends sg{constructor(Cm,Dm,Em={}){super(),this.width=Cm,this.height=Dm,this.depth=1,this.scissor=new Uk(0,0,Cm,Dm),this.scissorTest=!1,this.viewport=new Uk(0,0,Cm,Dm),this.texture=new yk(void 0,Em.mapping,Em.wrapS,Em.wrapT,Em.magFilter,Em.minFilter,Em.format,Em.type,Em.anisotropy,Em.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:Cm,height:Dm,depth:1},this.texture.generateMipmaps=void 0!==Em.generateMipmaps&&Em.generateMipmaps,this.texture.internalFormat=void 0!==Em.internalFormat?Em.internalFormat:null,this.texture.minFilter=void 0!==Em.minFilter?Em.minFilter:1006,this.depthBuffer=void 0===Em.depthBuffer||Em.depthBuffer,this.stencilBuffer=void 0!==Em.stencilBuffer&&Em.stencilBuffer,this.depthTexture=void 0!==Em.depthTexture?Em.depthTexture:null}setTexture(Fm){Fm.image={width:this.width,height:this.height,depth:this.depth},this.texture=Fm}setSize(Gm,Hm,Im=1){(this.width!==Gm||this.height!==Hm||this.depth!==Im)&&(this.width=Gm,this.height=Hm,this.depth=Im,this.texture.image.width=Gm,this.texture.image.height=Hm,this.texture.image.depth=Im,this.dispose()),this.viewport.set(0,0,Gm,Hm),this.scissor.set(0,0,Gm,Hm)}clone(){return new this.constructor().copy(this)}copy(Jm){return this.width=Jm.width,this.height=Jm.height,this.depth=Jm.depth,this.viewport.copy(Jm.viewport),this.texture=Jm.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=Jm.depthBuffer,this.stencilBuffer=Jm.stencilBuffer,this.depthTexture=Jm.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Bm.prototype.isWebGLRenderTarget=!0,(class extends Bm{constructor(Km,Lm,Mm){super(Km,Lm);const Nm=this.texture;this.texture=[];for(let Om=0;Om<Mm;Om++)this.texture[Om]=Nm.clone()}setSize(Pm,Qm,Rm=1){if(this.width!==Pm||this.height!==Qm||this.depth!==Rm){this.width=Pm,this.height=Qm,this.depth=Rm;for(let Sm=0,Tm=this.texture.length;Sm<Tm;Sm++)this.texture[Sm].image.width=Pm,this.texture[Sm].image.height=Qm,this.texture[Sm].image.depth=Rm;this.dispose()}return this.viewport.set(0,0,Pm,Qm),this.scissor.set(0,0,Pm,Qm),this}copy(Um){this.dispose(),this.width=Um.width,this.height=Um.height,this.depth=Um.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=Um.depthBuffer,this.stencilBuffer=Um.stencilBuffer,this.depthTexture=Um.depthTexture,this.texture.length=0;for(let Vm=0,Wm=Um.texture.length;Vm<Wm;Vm++)this.texture[Vm]=Um.texture[Vm].clone();return this}}).prototype.isWebGLMultipleRenderTargets=!0;class Xm extends Bm{constructor(Ym,Zm,$m={}){super(Ym,Zm,$m),this.samples=4,this.ignoreDepthForMultisampleCopy=void 0===$m.ignoreDepth||$m.ignoreDepth,this.useRenderToTexture=void 0!==$m.useRenderToTexture&&$m.useRenderToTexture,this.useRenderbuffer=!1===this.useRenderToTexture}copy(_m){return super.copy.call(this,_m),this.samples=_m.samples,this.useRenderToTexture=_m.useRenderToTexture,this.useRenderbuffer=_m.useRenderbuffer,this}}Xm.prototype.isWebGLMultisampleRenderTarget=!0;class an{constructor(bn=0,cn=0,dn=0,en=1){this._x=bn,this._y=cn,this._z=dn,this._w=en}static slerp(fn,gn,hn,jn){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),hn.slerpQuaternions(fn,gn,jn)}static slerpFlat(kn,ln,mn,nn,on,pn,qn){let rn=mn[nn+0],sn=mn[nn+1],tn=mn[nn+2],un=mn[nn+3];const vn=on[pn+0],wn=on[pn+1],xn=on[pn+2],yn=on[pn+3];if(0===qn){kn[ln+0]=rn,kn[ln+1]=sn,kn[ln+2]=tn,kn[ln+3]=un;return}if(1===qn){kn[ln+0]=vn,kn[ln+1]=wn,kn[ln+2]=xn,kn[ln+3]=yn;return}if(un!==yn||rn!==vn||sn!==wn||tn!==xn){let zn=1-qn;const An=rn*vn+sn*wn+tn*xn+un*yn,Bn=An>=0?1:-1,Cn=1-An*An;if(Cn>Number.EPSILON){const Dn=Math.sqrt(Cn),En=Math.atan2(Dn,An*Bn);zn=Math.sin(zn*En)/Dn,qn=Math.sin(qn*En)/Dn}const Fn=qn*Bn;if(rn=rn*zn+vn*Fn,sn=sn*zn+wn*Fn,tn=tn*zn+xn*Fn,un=un*zn+yn*Fn,zn===1-qn){const Gn=1/Math.sqrt(rn*rn+sn*sn+tn*tn+un*un);rn*=Gn,sn*=Gn,tn*=Gn,un*=Gn}}kn[ln]=rn,kn[ln+1]=sn,kn[ln+2]=tn,kn[ln+3]=un}static multiplyQuaternionsFlat(Hn,In,Jn,Kn,Ln,Mn){const Nn=Jn[Kn],On=Jn[Kn+1],Pn=Jn[Kn+2],Qn=Jn[Kn+3],Rn=Ln[Mn],Sn=Ln[Mn+1],Tn=Ln[Mn+2],Un=Ln[Mn+3];return Hn[In]=Nn*Un+Qn*Rn+On*Tn-Pn*Sn,Hn[In+1]=On*Un+Qn*Sn+Pn*Rn-Nn*Tn,Hn[In+2]=Pn*Un+Qn*Tn+Nn*Sn-On*Rn,Hn[In+3]=Qn*Un-Nn*Rn-On*Sn-Pn*Tn,Hn}get x(){return this._x}set x(Vn){this._x=Vn,this._onChangeCallback()}get y(){return this._y}set y(Wn){this._y=Wn,this._onChangeCallback()}get z(){return this._z}set z(Xn){this._z=Xn,this._onChangeCallback()}get w(){return this._w}set w(Yn){this._w=Yn,this._onChangeCallback()}set(Zn,$n,_n,ao){return this._x=Zn,this._y=$n,this._z=_n,this._w=ao,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(bo){return this._x=bo.x,this._y=bo.y,this._z=bo.z,this._w=bo.w,this._onChangeCallback(),this}setFromEuler(co,eo){if(!(co&&co.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const fo=co._x,go=co._y,ho=co._z,io=co._order,jo=Math.cos,ko=Math.sin,lo=jo(fo/2),mo=jo(go/2),no=jo(ho/2),oo=ko(fo/2),po=ko(go/2),qo=ko(ho/2);switch(io){case"XYZ":this._x=oo*mo*no+lo*po*qo,this._y=lo*po*no-oo*mo*qo,this._z=lo*mo*qo+oo*po*no,this._w=lo*mo*no-oo*po*qo;break;case"YXZ":this._x=oo*mo*no+lo*po*qo,this._y=lo*po*no-oo*mo*qo,this._z=lo*mo*qo-oo*po*no,this._w=lo*mo*no+oo*po*qo;break;case"ZXY":this._x=oo*mo*no-lo*po*qo,this._y=lo*po*no+oo*mo*qo,this._z=lo*mo*qo+oo*po*no,this._w=lo*mo*no-oo*po*qo;break;case"ZYX":this._x=oo*mo*no-lo*po*qo,this._y=lo*po*no+oo*mo*qo,this._z=lo*mo*qo-oo*po*no,this._w=lo*mo*no+oo*po*qo;break;case"YZX":this._x=oo*mo*no+lo*po*qo,this._y=lo*po*no+oo*mo*qo,this._z=lo*mo*qo-oo*po*no,this._w=lo*mo*no-oo*po*qo;break;case"XZY":this._x=oo*mo*no-lo*po*qo,this._y=lo*po*no-oo*mo*qo,this._z=lo*mo*qo+oo*po*no,this._w=lo*mo*no+oo*po*qo;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+io)}return!1!==eo&&this._onChangeCallback(),this}setFromAxisAngle(ro,so){const to=so/2,uo=Math.sin(to);return this._x=ro.x*uo,this._y=ro.y*uo,this._z=ro.z*uo,this._w=Math.cos(to),this._onChangeCallback(),this}setFromRotationMatrix(vo){const wo=vo.elements,xo=wo[0],yo=wo[4],zo=wo[8],Ao=wo[1],Bo=wo[5],Co=wo[9],Do=wo[2],Eo=wo[6],Fo=wo[10],Go=xo+Bo+Fo;if(Go>0){const Ho=.5/Math.sqrt(Go+1);this._w=.25/Ho,this._x=(Eo-Co)*Ho,this._y=(zo-Do)*Ho,this._z=(Ao-yo)*Ho}else if(xo>Bo&&xo>Fo){const Io=2*Math.sqrt(1+xo-Bo-Fo);this._w=(Eo-Co)/Io,this._x=.25*Io,this._y=(yo+Ao)/Io,this._z=(zo+Do)/Io}else if(Bo>Fo){const Jo=2*Math.sqrt(1+Bo-xo-Fo);this._w=(zo-Do)/Jo,this._x=(yo+Ao)/Jo,this._y=.25*Jo,this._z=(Co+Eo)/Jo}else{const Ko=2*Math.sqrt(1+Fo-xo-Bo);this._w=(Ao-yo)/Ko,this._x=(zo+Do)/Ko,this._y=(Co+Eo)/Ko,this._z=.25*Ko}return this._onChangeCallback(),this}setFromUnitVectors(Lo,Mo){let No=Lo.dot(Mo)+1;return No<Number.EPSILON?(No=0,Math.abs(Lo.x)>Math.abs(Lo.z)?(this._x=-Lo.y,this._y=Lo.x,this._z=0,this._w=No):(this._x=0,this._y=-Lo.z,this._z=Lo.y,this._w=No)):(this._x=Lo.y*Mo.z-Lo.z*Mo.y,this._y=Lo.z*Mo.x-Lo.x*Mo.z,this._z=Lo.x*Mo.y-Lo.y*Mo.x,this._w=No),this.normalize()}angleTo(Oo){return 2*Math.acos(Math.abs(Qg(this.dot(Oo),-1,1)))}rotateTowards(Po,Qo){const Ro=this.angleTo(Po);if(0===Ro)return this;const So=Math.min(1,Qo/Ro);return this.slerp(Po,So),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(To){return this._x*To._x+this._y*To._y+this._z*To._z+this._w*To._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let Uo=this.length();return 0===Uo?(this._x=0,this._y=0,this._z=0,this._w=1):(Uo=1/Uo,this._x=this._x*Uo,this._y=this._y*Uo,this._z=this._z*Uo,this._w=this._w*Uo),this._onChangeCallback(),this}multiply(Vo,Wo){return void 0!==Wo?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(Vo,Wo)):this.multiplyQuaternions(this,Vo)}premultiply(Xo){return this.multiplyQuaternions(Xo,this)}multiplyQuaternions(Yo,Zo){const $o=Yo._x,_o=Yo._y,ap=Yo._z,bp=Yo._w,cp=Zo._x,dp=Zo._y,ep=Zo._z,fp=Zo._w;return this._x=$o*fp+bp*cp+_o*ep-ap*dp,this._y=_o*fp+bp*dp+ap*cp-$o*ep,this._z=ap*fp+bp*ep+$o*dp-_o*cp,this._w=bp*fp-$o*cp-_o*dp-ap*ep,this._onChangeCallback(),this}slerp(gp,hp){if(0===hp)return this;if(1===hp)return this.copy(gp);const ip=this._x,jp=this._y,kp=this._z,lp=this._w;let mp=lp*gp._w+ip*gp._x+jp*gp._y+kp*gp._z;if(mp<0?(this._w=-gp._w,this._x=-gp._x,this._y=-gp._y,this._z=-gp._z,mp=-mp):this.copy(gp),mp>=1)return this._w=lp,this._x=ip,this._y=jp,this._z=kp,this;const np=1-mp*mp;if(np<=Number.EPSILON){const op=1-hp;return this._w=op*lp+hp*this._w,this._x=op*ip+hp*this._x,this._y=op*jp+hp*this._y,this._z=op*kp+hp*this._z,this.normalize(),this._onChangeCallback(),this}const pp=Math.sqrt(np),qp=Math.atan2(pp,mp),rp=Math.sin((1-hp)*qp)/pp,sp=Math.sin(hp*qp)/pp;return this._w=lp*rp+this._w*sp,this._x=ip*rp+this._x*sp,this._y=jp*rp+this._y*sp,this._z=kp*rp+this._z*sp,this._onChangeCallback(),this}slerpQuaternions(tp,up,vp){this.copy(tp).slerp(up,vp)}random(){const wp=Math.random(),xp=Math.sqrt(1-wp),yp=Math.sqrt(wp),zp=2*Math.PI*Math.random(),Ap=2*Math.PI*Math.random();return this.set(xp*Math.cos(zp),yp*Math.sin(Ap),yp*Math.cos(Ap),xp*Math.sin(zp))}equals(Bp){return Bp._x===this._x&&Bp._y===this._y&&Bp._z===this._z&&Bp._w===this._w}fromArray(Cp,Dp=0){return this._x=Cp[Dp],this._y=Cp[Dp+1],this._z=Cp[Dp+2],this._w=Cp[Dp+3],this._onChangeCallback(),this}toArray(Ep=[],Fp=0){return Ep[Fp]=this._x,Ep[Fp+1]=this._y,Ep[Fp+2]=this._z,Ep[Fp+3]=this._w,Ep}fromBufferAttribute(Gp,Hp){return this._x=Gp.getX(Hp),this._y=Gp.getY(Hp),this._z=Gp.getZ(Hp),this._w=Gp.getW(Hp),this}_onChange(Ip){return this._onChangeCallback=Ip,this}_onChangeCallback(){}}an.prototype.isQuaternion=!0;class Jp{constructor(Kp=0,Lp=0,Mp=0){this.x=Kp,this.y=Lp,this.z=Mp}set(Np,Op,Pp){return void 0===Pp&&(Pp=this.z),this.x=Np,this.y=Op,this.z=Pp,this}setScalar(Qp){return this.x=Qp,this.y=Qp,this.z=Qp,this}setX(Rp){return this.x=Rp,this}setY(Sp){return this.y=Sp,this}setZ(Tp){return this.z=Tp,this}setComponent(Up,Vp){switch(Up){case 0:this.x=Vp;break;case 1:this.y=Vp;break;case 2:this.z=Vp;break;default:throw new Error("index is out of range: "+Up)}return this}getComponent(Wp){switch(Wp){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+Wp)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(Xp){return this.x=Xp.x,this.y=Xp.y,this.z=Xp.z,this}add(Yp,Zp){return void 0!==Zp?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(Yp,Zp)):(this.x+=Yp.x,this.y+=Yp.y,this.z+=Yp.z,this)}addScalar($p){return this.x+=$p,this.y+=$p,this.z+=$p,this}addVectors(_p,aq){return this.x=_p.x+aq.x,this.y=_p.y+aq.y,this.z=_p.z+aq.z,this}addScaledVector(bq,cq){return this.x+=bq.x*cq,this.y+=bq.y*cq,this.z+=bq.z*cq,this}sub(dq,eq){return void 0!==eq?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(dq,eq)):(this.x-=dq.x,this.y-=dq.y,this.z-=dq.z,this)}subScalar(fq){return this.x-=fq,this.y-=fq,this.z-=fq,this}subVectors(gq,hq){return this.x=gq.x-hq.x,this.y=gq.y-hq.y,this.z=gq.z-hq.z,this}multiply(iq,jq){return void 0!==jq?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(iq,jq)):(this.x*=iq.x,this.y*=iq.y,this.z*=iq.z,this)}multiplyScalar(kq){return this.x*=kq,this.y*=kq,this.z*=kq,this}multiplyVectors(lq,mq){return this.x=lq.x*mq.x,this.y=lq.y*mq.y,this.z=lq.z*mq.z,this}applyEuler(nq){return nq&&nq.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ms.setFromEuler(nq))}applyAxisAngle(oq,pq){return this.applyQuaternion(ms.setFromAxisAngle(oq,pq))}applyMatrix3(qq){const rq=this.x,sq=this.y,tq=this.z,uq=qq.elements;return this.x=uq[0]*rq+uq[3]*sq+uq[6]*tq,this.y=uq[1]*rq+uq[4]*sq+uq[7]*tq,this.z=uq[2]*rq+uq[5]*sq+uq[8]*tq,this}applyNormalMatrix(vq){return this.applyMatrix3(vq).normalize()}applyMatrix4(wq){const xq=this.x,yq=this.y,zq=this.z,Aq=wq.elements,Bq=1/(Aq[3]*xq+Aq[7]*yq+Aq[11]*zq+Aq[15]);return this.x=(Aq[0]*xq+Aq[4]*yq+Aq[8]*zq+Aq[12])*Bq,this.y=(Aq[1]*xq+Aq[5]*yq+Aq[9]*zq+Aq[13])*Bq,this.z=(Aq[2]*xq+Aq[6]*yq+Aq[10]*zq+Aq[14])*Bq,this}applyQuaternion(Cq){const Dq=this.x,Eq=this.y,Fq=this.z,Gq=Cq.x,Hq=Cq.y,Iq=Cq.z,Jq=Cq.w,Kq=Jq*Dq+Hq*Fq-Iq*Eq,Lq=Jq*Eq+Iq*Dq-Gq*Fq,Mq=Jq*Fq+Gq*Eq-Hq*Dq,Nq=-Gq*Dq-Hq*Eq-Iq*Fq;return this.x=Kq*Jq+ -(Nq*Gq)+ -(Lq*Iq)- -(Mq*Hq),this.y=Lq*Jq+ -(Nq*Hq)+ -(Mq*Gq)- -(Kq*Iq),this.z=Mq*Jq+ -(Nq*Iq)+ -(Kq*Hq)- -(Lq*Gq),this}project(Oq){return this.applyMatrix4(Oq.matrixWorldInverse).applyMatrix4(Oq.projectionMatrix)}unproject(Pq){return this.applyMatrix4(Pq.projectionMatrixInverse).applyMatrix4(Pq.matrixWorld)}transformDirection(Qq){const Rq=this.x,Sq=this.y,Tq=this.z,Uq=Qq.elements;return this.x=Uq[0]*Rq+Uq[4]*Sq+Uq[8]*Tq,this.y=Uq[1]*Rq+Uq[5]*Sq+Uq[9]*Tq,this.z=Uq[2]*Rq+Uq[6]*Sq+Uq[10]*Tq,this.normalize()}divide(Vq){return this.x/=Vq.x,this.y/=Vq.y,this.z/=Vq.z,this}divideScalar(Wq){return this.multiplyScalar(1/Wq)}min(Xq){return this.x=Math.min(this.x,Xq.x),this.y=Math.min(this.y,Xq.y),this.z=Math.min(this.z,Xq.z),this}max(Yq){return this.x=Math.max(this.x,Yq.x),this.y=Math.max(this.y,Yq.y),this.z=Math.max(this.z,Yq.z),this}clamp(Zq,$q){return this.x=Math.max(Zq.x,Math.min($q.x,this.x)),this.y=Math.max(Zq.y,Math.min($q.y,this.y)),this.z=Math.max(Zq.z,Math.min($q.z,this.z)),this}clampScalar(_q,ar){return this.x=Math.max(_q,Math.min(ar,this.x)),this.y=Math.max(_q,Math.min(ar,this.y)),this.z=Math.max(_q,Math.min(ar,this.z)),this}clampLength(br,cr){const dr=this.length();return this.divideScalar(dr||1).multiplyScalar(Math.max(br,Math.min(cr,dr)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(er){return this.x*er.x+this.y*er.y+this.z*er.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(fr){return this.normalize().multiplyScalar(fr)}lerp(gr,hr){return this.x+=(gr.x-this.x)*hr,this.y+=(gr.y-this.y)*hr,this.z+=(gr.z-this.z)*hr,this}lerpVectors(ir,jr,kr){return this.x=ir.x+(jr.x-ir.x)*kr,this.y=ir.y+(jr.y-ir.y)*kr,this.z=ir.z+(jr.z-ir.z)*kr,this}cross(lr,mr){return void 0!==mr?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(lr,mr)):this.crossVectors(this,lr)}crossVectors(nr,or){const pr=nr.x,qr=nr.y,rr=nr.z,sr=or.x,tr=or.y,ur=or.z;return this.x=qr*ur-rr*tr,this.y=rr*sr-pr*ur,this.z=pr*tr-qr*sr,this}projectOnVector(vr){const wr=vr.lengthSq();if(0===wr)return this.set(0,0,0);const xr=vr.dot(this)/wr;return this.copy(vr).multiplyScalar(xr)}projectOnPlane(yr){return ls.copy(this).projectOnVector(yr),this.sub(ls)}reflect(zr){return this.sub(ls.copy(zr).multiplyScalar(2*this.dot(zr)))}angleTo(Ar){const Br=Math.sqrt(this.lengthSq()*Ar.lengthSq());if(0===Br)return Math.PI/2;const Cr=this.dot(Ar)/Br;return Math.acos(Qg(Cr,-1,1))}distanceTo(Dr){return Math.sqrt(this.distanceToSquared(Dr))}distanceToSquared(Er){const Fr=this.x-Er.x,Gr=this.y-Er.y,Hr=this.z-Er.z;return Fr*Fr+Gr*Gr+Hr*Hr}manhattanDistanceTo(Ir){return Math.abs(this.x-Ir.x)+Math.abs(this.y-Ir.y)+Math.abs(this.z-Ir.z)}setFromSpherical(Jr){return this.setFromSphericalCoords(Jr.radius,Jr.phi,Jr.theta)}setFromSphericalCoords(Kr,Lr,Mr){const Nr=Math.sin(Lr)*Kr;return this.x=Nr*Math.sin(Mr),this.y=Math.cos(Lr)*Kr,this.z=Nr*Math.cos(Mr),this}setFromCylindrical(Or){return this.setFromCylindricalCoords(Or.radius,Or.theta,Or.y)}setFromCylindricalCoords(Pr,Qr,Rr){return this.x=Pr*Math.sin(Qr),this.y=Rr,this.z=Pr*Math.cos(Qr),this}setFromMatrixPosition(Sr){const Tr=Sr.elements;return this.x=Tr[12],this.y=Tr[13],this.z=Tr[14],this}setFromMatrixScale(Ur){const Vr=this.setFromMatrixColumn(Ur,0).length(),Wr=this.setFromMatrixColumn(Ur,1).length(),Xr=this.setFromMatrixColumn(Ur,2).length();return this.x=Vr,this.y=Wr,this.z=Xr,this}setFromMatrixColumn(Yr,Zr){return this.fromArray(Yr.elements,4*Zr)}setFromMatrix3Column($r,_r){return this.fromArray($r.elements,3*_r)}equals(as){return as.x===this.x&&as.y===this.y&&as.z===this.z}fromArray(bs,cs=0){return this.x=bs[cs],this.y=bs[cs+1],this.z=bs[cs+2],this}toArray(ds=[],es=0){return ds[es]=this.x,ds[es+1]=this.y,ds[es+2]=this.z,ds}fromBufferAttribute(fs,gs,hs){return void 0!==hs&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=fs.getX(gs),this.y=fs.getY(gs),this.z=fs.getZ(gs),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const is=(Math.random()-.5)*2,js=Math.random()*Math.PI*2,ks=Math.sqrt(1-is**2);return this.x=ks*Math.cos(js),this.y=ks*Math.sin(js),this.z=is,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Jp.prototype.isVector3=!0;const ls=new Jp(),ms=new an();class ns{constructor(os=new Jp(Infinity,Infinity,Infinity),ps=new Jp(-1/0,-1/0,-1/0)){this.min=os,this.max=ps}set(qs,rs){return this.min.copy(qs),this.max.copy(rs),this}setFromArray(ss){let ts=Infinity,us=Infinity,vs=Infinity,ws=-1/0,xs=-1/0,ys=-1/0;for(let zs=0,As=ss.length;zs<As;zs+=3){const Bs=ss[zs],Cs=ss[zs+1],Ds=ss[zs+2];Bs<ts&&(ts=Bs),Cs<us&&(us=Cs),Ds<vs&&(vs=Ds),Bs>ws&&(ws=Bs),Cs>xs&&(xs=Cs),Ds>ys&&(ys=Ds)}return this.min.set(ts,us,vs),this.max.set(ws,xs,ys),this}setFromBufferAttribute(Es){let Fs=Infinity,Gs=Infinity,Hs=Infinity,Is=-1/0,Js=-1/0,Ks=-1/0;for(let Ls=0,Ms=Es.count;Ls<Ms;Ls++){const Ns=Es.getX(Ls),Os=Es.getY(Ls),Ps=Es.getZ(Ls);Ns<Fs&&(Fs=Ns),Os<Gs&&(Gs=Os),Ps<Hs&&(Hs=Ps),Ns>Is&&(Is=Ns),Os>Js&&(Js=Os),Ps>Ks&&(Ks=Ps)}return this.min.set(Fs,Gs,Hs),this.max.set(Is,Js,Ks),this}setFromPoints(Qs){this.makeEmpty();for(let Rs=0,Ss=Qs.length;Rs<Ss;Rs++)this.expandByPoint(Qs[Rs]);return this}setFromCenterAndSize(Ts,Us){const Vs=Ct.copy(Us).multiplyScalar(.5);return this.min.copy(Ts).sub(Vs),this.max.copy(Ts).add(Vs),this}setFromObject(Ws){return this.makeEmpty(),this.expandByObject(Ws)}clone(){return new this.constructor().copy(this)}copy(Xs){return this.min.copy(Xs.min),this.max.copy(Xs.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(Ys){return this.isEmpty()?Ys.set(0,0,0):Ys.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(Zs){return this.isEmpty()?Zs.set(0,0,0):Zs.subVectors(this.max,this.min)}expandByPoint($s){return this.min.min($s),this.max.max($s),this}expandByVector(_s){return this.min.sub(_s),this.max.add(_s),this}expandByScalar(at){return this.min.addScalar(-at),this.max.addScalar(at),this}expandByObject(bt){bt.updateWorldMatrix(!1,!1);const ct=bt.geometry;void 0!==ct&&(null===ct.boundingBox&&ct.computeBoundingBox(),Dt.copy(ct.boundingBox),Dt.applyMatrix4(bt.matrixWorld),this.union(Dt));const dt=bt.children;for(let et=0,ft=dt.length;et<ft;et++)this.expandByObject(dt[et]);return this}containsPoint(gt){return!(gt.x<this.min.x)&&!(gt.x>this.max.x)&&!(gt.y<this.min.y)&&!(gt.y>this.max.y)&&!(gt.z<this.min.z)&&!(gt.z>this.max.z)}containsBox(ht){return this.min.x<=ht.min.x&&ht.max.x<=this.max.x&&this.min.y<=ht.min.y&&ht.max.y<=this.max.y&&this.min.z<=ht.min.z&&ht.max.z<=this.max.z}getParameter(it,jt){return jt.set((it.x-this.min.x)/(this.max.x-this.min.x),(it.y-this.min.y)/(this.max.y-this.min.y),(it.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(kt){return!(kt.max.x<this.min.x)&&!(kt.min.x>this.max.x)&&!(kt.max.y<this.min.y)&&!(kt.min.y>this.max.y)&&!(kt.max.z<this.min.z)&&!(kt.min.z>this.max.z)}intersectsSphere(lt){return this.clampPoint(lt.center,Ct),Ct.distanceToSquared(lt.center)<=lt.radius*lt.radius}intersectsPlane(mt){let nt,ot;return mt.normal.x>0?(nt=mt.normal.x*this.min.x,ot=mt.normal.x*this.max.x):(nt=mt.normal.x*this.max.x,ot=mt.normal.x*this.min.x),mt.normal.y>0?(nt+=mt.normal.y*this.min.y,ot+=mt.normal.y*this.max.y):(nt+=mt.normal.y*this.max.y,ot+=mt.normal.y*this.min.y),mt.normal.z>0?(nt+=mt.normal.z*this.min.z,ot+=mt.normal.z*this.max.z):(nt+=mt.normal.z*this.max.z,ot+=mt.normal.z*this.min.z),nt<= -mt.constant&&ot>= -mt.constant}intersectsTriangle(pt){if(this.isEmpty())return!1;this.getCenter(Kt),Lt.subVectors(this.max,Kt),Et.subVectors(pt.a,Kt),Ft.subVectors(pt.b,Kt),Gt.subVectors(pt.c,Kt),Ht.subVectors(Ft,Et),It.subVectors(Gt,Ft),Jt.subVectors(Et,Gt);let qt=[0,-Ht.z,Ht.y,0,-It.z,It.y,0,-Jt.z,Jt.y,Ht.z,0,-Ht.x,It.z,0,-It.x,Jt.z,0,-Jt.x,-Ht.y,Ht.x,0,-It.y,It.x,0,-Jt.y,Jt.x,0];return!!Ot(qt,Et,Ft,Gt,Lt)&& !!Ot(qt=[1,0,0,0,1,0,0,0,1],Et,Ft,Gt,Lt)&&(Mt.crossVectors(Ht,It),Ot(qt=[Mt.x,Mt.y,Mt.z],Et,Ft,Gt,Lt))}clampPoint(rt,st){return st.copy(rt).clamp(this.min,this.max)}distanceToPoint(tt){const ut=Ct.copy(tt).clamp(this.min,this.max);return ut.sub(tt).length()}getBoundingSphere(vt){return this.getCenter(vt.center),vt.radius=.5*this.getSize(Ct).length(),vt}intersect(wt){return this.min.max(wt.min),this.max.min(wt.max),this.isEmpty()&&this.makeEmpty(),this}union(xt){return this.min.min(xt.min),this.max.max(xt.max),this}applyMatrix4(yt){return this.isEmpty()||(Bt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(yt),Bt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(yt),Bt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(yt),Bt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(yt),Bt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(yt),Bt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(yt),Bt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(yt),Bt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(yt),this.setFromPoints(Bt)),this}translate(zt){return this.min.add(zt),this.max.add(zt),this}equals(At){return At.min.equals(this.min)&&At.max.equals(this.max)}}ns.prototype.isBox3=!0;const Bt=[new Jp(),new Jp(),new Jp(),new Jp(),new Jp(),new Jp(),new Jp(),new Jp()],Ct=new Jp(),Dt=new ns(),Et=new Jp(),Ft=new Jp(),Gt=new Jp(),Ht=new Jp(),It=new Jp(),Jt=new Jp(),Kt=new Jp(),Lt=new Jp(),Mt=new Jp(),Nt=new Jp();function Ot(a,b,c,d,e){for(let f=0,g=a.length-3;f<=g;f+=3){Nt.fromArray(a,f);const h=e.x*Math.abs(Nt.x)+e.y*Math.abs(Nt.y)+e.z*Math.abs(Nt.z),i=b.dot(Nt),j=c.dot(Nt),k=d.dot(Nt);if(Math.max(-Math.max(i,j,k),Math.min(i,j,k))>h)return!1}return!0}const Pt=new ns(),Qt=new Jp(),Rt=new Jp(),St=new Jp();class Tt{constructor(Ut=new Jp(),Vt=-1){this.center=Ut,this.radius=Vt}set(Wt,Xt){return this.center.copy(Wt),this.radius=Xt,this}setFromPoints(Yt,Zt){const $t=this.center;void 0!==Zt?$t.copy(Zt):Pt.setFromPoints(Yt).getCenter($t);let _t=0;for(let au=0,bu=Yt.length;au<bu;au++)_t=Math.max(_t,$t.distanceToSquared(Yt[au]));return this.radius=Math.sqrt(_t),this}copy(cu){return this.center.copy(cu.center),this.radius=cu.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(du){return du.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(eu){return eu.distanceTo(this.center)-this.radius}intersectsSphere(fu){const gu=this.radius+fu.radius;return fu.center.distanceToSquared(this.center)<=gu*gu}intersectsBox(hu){return hu.intersectsSphere(this)}intersectsPlane(iu){return Math.abs(iu.distanceToPoint(this.center))<=this.radius}clampPoint(ju,ku){const lu=this.center.distanceToSquared(ju);return ku.copy(ju),lu>this.radius*this.radius&&(ku.sub(this.center).normalize(),ku.multiplyScalar(this.radius).add(this.center)),ku}getBoundingBox(mu){return this.isEmpty()?(mu.makeEmpty(),mu):(mu.set(this.center,this.center),mu.expandByScalar(this.radius),mu)}applyMatrix4(nu){return this.center.applyMatrix4(nu),this.radius=this.radius*nu.getMaxScaleOnAxis(),this}translate(ou){return this.center.add(ou),this}expandByPoint(pu){St.subVectors(pu,this.center);const qu=St.lengthSq();if(qu>this.radius*this.radius){const ru=Math.sqrt(qu),su=(ru-this.radius)*.5;this.center.add(St.multiplyScalar(su/ru)),this.radius+=su}return this}union(tu){return Rt.subVectors(tu.center,this.center).normalize().multiplyScalar(tu.radius),this.expandByPoint(Qt.copy(tu.center).add(Rt)),this.expandByPoint(Qt.copy(tu.center).sub(Rt)),this}equals(uu){return uu.center.equals(this.center)&&uu.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vu=new Jp(),wu=new Jp(),xu=new Jp(),yu=new Jp(),zu=new Jp(),Au=new Jp(),Bu=new Jp();class Cu{constructor(Du=new Jp(),Eu=new Jp(0,0,-1)){this.origin=Du,this.direction=Eu}set(Fu,Gu){return this.origin.copy(Fu),this.direction.copy(Gu),this}copy(Hu){return this.origin.copy(Hu.origin),this.direction.copy(Hu.direction),this}at(Iu,Ju){return Ju.copy(this.direction).multiplyScalar(Iu).add(this.origin)}lookAt(Ku){return this.direction.copy(Ku).sub(this.origin).normalize(),this}recast(Lu){return this.origin.copy(this.at(Lu,vu)),this}closestPointToPoint(Mu,Nu){Nu.subVectors(Mu,this.origin);const Ou=Nu.dot(this.direction);return Ou<0?Nu.copy(this.origin):Nu.copy(this.direction).multiplyScalar(Ou).add(this.origin)}distanceToPoint(Pu){return Math.sqrt(this.distanceSqToPoint(Pu))}distanceSqToPoint(Qu){const Ru=vu.subVectors(Qu,this.origin).dot(this.direction);return Ru<0?this.origin.distanceToSquared(Qu):(vu.copy(this.direction).multiplyScalar(Ru).add(this.origin),vu.distanceToSquared(Qu))}distanceSqToSegment(Su,Tu,Uu,Vu){wu.copy(Su).add(Tu).multiplyScalar(.5),xu.copy(Tu).sub(Su).normalize(),yu.copy(this.origin).sub(wu);const Wu=.5*Su.distanceTo(Tu),Xu=-this.direction.dot(xu),Yu=yu.dot(this.direction),Zu=-yu.dot(xu),$u=yu.lengthSq(),_u=Math.abs(1-Xu*Xu);let av,bv,cv,dv;if(_u>0)if(av=Xu*Zu-Yu,bv=Xu*Yu-Zu,dv=Wu*_u,av>=0)if(bv>= -dv)if(bv<=dv){const ev=1/_u;av*=ev,bv*=ev,cv=av*(av+Xu*bv+2*Yu)+bv*(Xu*av+bv+2*Zu)+$u}else cv=-(av=Math.max(0,-(Xu*(bv=Wu)+Yu)))*av+bv*(bv+2*Zu)+$u;else cv=-(av=Math.max(0,-(Xu*(bv=-Wu)+Yu)))*av+bv*(bv+2*Zu)+$u;else bv<= -dv?(bv=(av=Math.max(0,-(-Xu*Wu+Yu)))>0?-Wu:Math.min(Math.max(-Wu,-Zu),Wu),cv=-av*av+bv*(bv+2*Zu)+$u):bv<=dv?(av=0,cv=(bv=Math.min(Math.max(-Wu,-Zu),Wu))*(bv+2*Zu)+$u):(bv=(av=Math.max(0,-(Xu*Wu+Yu)))>0?Wu:Math.min(Math.max(-Wu,-Zu),Wu),cv=-av*av+bv*(bv+2*Zu)+$u);else bv=Xu>0?-Wu:Wu,av=Math.max(0,-(Xu*bv+Yu)),cv=-av*av+bv*(bv+2*Zu)+$u;return Uu&&Uu.copy(this.direction).multiplyScalar(av).add(this.origin),Vu&&Vu.copy(xu).multiplyScalar(bv).add(wu),cv}intersectSphere(fv,gv){vu.subVectors(fv.center,this.origin);const hv=vu.dot(this.direction),iv=vu.dot(vu)-hv*hv,jv=fv.radius*fv.radius;if(iv>jv)return null;const kv=Math.sqrt(jv-iv),lv=hv-kv,mv=hv+kv;return lv<0&&mv<0?null:lv<0?this.at(mv,gv):this.at(lv,gv)}intersectsSphere(nv){return this.distanceSqToPoint(nv.center)<=nv.radius*nv.radius}distanceToPlane(ov){const pv=ov.normal.dot(this.direction);if(0===pv)return 0===ov.distanceToPoint(this.origin)?0:null;const qv=-(this.origin.dot(ov.normal)+ov.constant)/pv;return qv>=0?qv:null}intersectPlane(rv,sv){const tv=this.distanceToPlane(rv);return null===tv?null:this.at(tv,sv)}intersectsPlane(uv){const vv=uv.distanceToPoint(this.origin);if(0===vv)return!0;const wv=uv.normal.dot(this.direction);return wv*vv<0}intersectBox(xv,yv){let zv,Av,Bv,Cv,Dv,Ev;const Fv=1/this.direction.x,Gv=1/this.direction.y,Hv=1/this.direction.z,Iv=this.origin;return(Fv>=0?(zv=(xv.min.x-Iv.x)*Fv,Av=(xv.max.x-Iv.x)*Fv):(zv=(xv.max.x-Iv.x)*Fv,Av=(xv.min.x-Iv.x)*Fv),Gv>=0?(Bv=(xv.min.y-Iv.y)*Gv,Cv=(xv.max.y-Iv.y)*Gv):(Bv=(xv.max.y-Iv.y)*Gv,Cv=(xv.min.y-Iv.y)*Gv),zv>Cv||Bv>Av)?null:((Bv>zv||zv!=zv)&&(zv=Bv),(Cv<Av||Av!=Av)&&(Av=Cv),Hv>=0?(Dv=(xv.min.z-Iv.z)*Hv,Ev=(xv.max.z-Iv.z)*Hv):(Dv=(xv.max.z-Iv.z)*Hv,Ev=(xv.min.z-Iv.z)*Hv),zv>Ev||Dv>Av)?null:((Dv>zv||zv!=zv)&&(zv=Dv),(Ev<Av||Av!=Av)&&(Av=Ev),Av<0)?null:this.at(zv>=0?zv:Av,yv)}intersectsBox(Jv){return null!==this.intersectBox(Jv,vu)}intersectTriangle(Kv,Lv,Mv,Nv,Ov){zu.subVectors(Lv,Kv),Au.subVectors(Mv,Kv),Bu.crossVectors(zu,Au);let Pv=this.direction.dot(Bu),Qv;if(Pv>0){if(Nv)return null;Qv=1}else{if(!(Pv<0))return null;Qv=-1,Pv=-Pv}yu.subVectors(this.origin,Kv);const Rv=Qv*this.direction.dot(Au.crossVectors(yu,Au));if(Rv<0)return null;const Sv=Qv*this.direction.dot(zu.cross(yu));if(Sv<0)return null;if(Rv+Sv>Pv)return null;const Tv=-Qv*yu.dot(Bu);return Tv<0?null:this.at(Tv/Pv,Ov)}applyMatrix4(Uv){return this.origin.applyMatrix4(Uv),this.direction.transformDirection(Uv),this}equals(Vv){return Vv.origin.equals(this.origin)&&Vv.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wv{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(Xv,Yv,Zv,$v,_v,aw,bw,cw,dw,ew,fw,gw,hw,iw,jw,kw){const lw=this.elements;return lw[0]=Xv,lw[4]=Yv,lw[8]=Zv,lw[12]=$v,lw[1]=_v,lw[5]=aw,lw[9]=bw,lw[13]=cw,lw[2]=dw,lw[6]=ew,lw[10]=fw,lw[14]=gw,lw[3]=hw,lw[7]=iw,lw[11]=jw,lw[15]=kw,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wv().fromArray(this.elements)}copy(mw){const nw=this.elements,ow=mw.elements;return nw[0]=ow[0],nw[1]=ow[1],nw[2]=ow[2],nw[3]=ow[3],nw[4]=ow[4],nw[5]=ow[5],nw[6]=ow[6],nw[7]=ow[7],nw[8]=ow[8],nw[9]=ow[9],nw[10]=ow[10],nw[11]=ow[11],nw[12]=ow[12],nw[13]=ow[13],nw[14]=ow[14],nw[15]=ow[15],this}copyPosition(pw){const qw=this.elements,rw=pw.elements;return qw[12]=rw[12],qw[13]=rw[13],qw[14]=rw[14],this}setFromMatrix3(sw){const tw=sw.elements;return this.set(tw[0],tw[3],tw[6],0,tw[1],tw[4],tw[7],0,tw[2],tw[5],tw[8],0,0,0,0,1),this}extractBasis(uw,vw,ww){return uw.setFromMatrixColumn(this,0),vw.setFromMatrixColumn(this,1),ww.setFromMatrixColumn(this,2),this}makeBasis(xw,yw,zw){return this.set(xw.x,yw.x,zw.x,0,xw.y,yw.y,zw.y,0,xw.z,yw.z,zw.z,0,0,0,0,1),this}extractRotation(Aw){const Bw=this.elements,Cw=Aw.elements,Dw=1/TA.setFromMatrixColumn(Aw,0).length(),Ew=1/TA.setFromMatrixColumn(Aw,1).length(),Fw=1/TA.setFromMatrixColumn(Aw,2).length();return Bw[0]=Cw[0]*Dw,Bw[1]=Cw[1]*Dw,Bw[2]=Cw[2]*Dw,Bw[3]=0,Bw[4]=Cw[4]*Ew,Bw[5]=Cw[5]*Ew,Bw[6]=Cw[6]*Ew,Bw[7]=0,Bw[8]=Cw[8]*Fw,Bw[9]=Cw[9]*Fw,Bw[10]=Cw[10]*Fw,Bw[11]=0,Bw[12]=0,Bw[13]=0,Bw[14]=0,Bw[15]=1,this}makeRotationFromEuler(Gw){Gw&&Gw.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const Hw=this.elements,Iw=Gw.x,Jw=Gw.y,Kw=Gw.z,Lw=Math.cos(Iw),Mw=Math.sin(Iw),Nw=Math.cos(Jw),Ow=Math.sin(Jw),Pw=Math.cos(Kw),Qw=Math.sin(Kw);if("XYZ"===Gw.order){const Rw=Lw*Pw,Sw=Lw*Qw,Tw=Mw*Pw,Uw=Mw*Qw;Hw[0]=Nw*Pw,Hw[4]=-Nw*Qw,Hw[8]=Ow,Hw[1]=Sw+Tw*Ow,Hw[5]=Rw-Uw*Ow,Hw[9]=-Mw*Nw,Hw[2]=Uw-Rw*Ow,Hw[6]=Tw+Sw*Ow,Hw[10]=Lw*Nw}else if("YXZ"===Gw.order){const Vw=Nw*Pw,Ww=Nw*Qw,Xw=Ow*Pw,Yw=Ow*Qw;Hw[0]=Vw+Yw*Mw,Hw[4]=Xw*Mw-Ww,Hw[8]=Lw*Ow,Hw[1]=Lw*Qw,Hw[5]=Lw*Pw,Hw[9]=-Mw,Hw[2]=Ww*Mw-Xw,Hw[6]=Yw+Vw*Mw,Hw[10]=Lw*Nw}else if("ZXY"===Gw.order){const Zw=Nw*Pw,$w=Nw*Qw,_w=Ow*Pw,ax=Ow*Qw;Hw[0]=Zw-ax*Mw,Hw[4]=-Lw*Qw,Hw[8]=_w+$w*Mw,Hw[1]=$w+_w*Mw,Hw[5]=Lw*Pw,Hw[9]=ax-Zw*Mw,Hw[2]=-Lw*Ow,Hw[6]=Mw,Hw[10]=Lw*Nw}else if("ZYX"===Gw.order){const bx=Lw*Pw,cx=Lw*Qw,dx=Mw*Pw,ex=Mw*Qw;Hw[0]=Nw*Pw,Hw[4]=dx*Ow-cx,Hw[8]=bx*Ow+ex,Hw[1]=Nw*Qw,Hw[5]=ex*Ow+bx,Hw[9]=cx*Ow-dx,Hw[2]=-Ow,Hw[6]=Mw*Nw,Hw[10]=Lw*Nw}else if("YZX"===Gw.order){const fx=Lw*Nw,gx=Lw*Ow,hx=Mw*Nw,ix=Mw*Ow;Hw[0]=Nw*Pw,Hw[4]=ix-fx*Qw,Hw[8]=hx*Qw+gx,Hw[1]=Qw,Hw[5]=Lw*Pw,Hw[9]=-Mw*Pw,Hw[2]=-Ow*Pw,Hw[6]=gx*Qw+hx,Hw[10]=fx-ix*Qw}else if("XZY"===Gw.order){const jx=Lw*Nw,kx=Lw*Ow,lx=Mw*Nw,mx=Mw*Ow;Hw[0]=Nw*Pw,Hw[4]=-Qw,Hw[8]=Ow*Pw,Hw[1]=jx*Qw+mx,Hw[5]=Lw*Pw,Hw[9]=kx*Qw-lx,Hw[2]=lx*Qw-kx,Hw[6]=Mw*Pw,Hw[10]=mx*Qw+jx}return Hw[3]=0,Hw[7]=0,Hw[11]=0,Hw[12]=0,Hw[13]=0,Hw[14]=0,Hw[15]=1,this}makeRotationFromQuaternion(nx){return this.compose(VA,nx,WA)}lookAt(ox,px,qx){const rx=this.elements;return ZA.subVectors(ox,px),0===ZA.lengthSq()&&(ZA.z=1),ZA.normalize(),XA.crossVectors(qx,ZA),0===XA.lengthSq()&&(1===Math.abs(qx.z)?ZA.x+=1e-4:ZA.z+=1e-4,ZA.normalize(),XA.crossVectors(qx,ZA)),XA.normalize(),YA.crossVectors(ZA,XA),rx[0]=XA.x,rx[4]=YA.x,rx[8]=ZA.x,rx[1]=XA.y,rx[5]=YA.y,rx[9]=ZA.y,rx[2]=XA.z,rx[6]=YA.z,rx[10]=ZA.z,this}multiply(sx,tx){return void 0!==tx?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(sx,tx)):this.multiplyMatrices(this,sx)}premultiply(ux){return this.multiplyMatrices(ux,this)}multiplyMatrices(vx,wx){const xx=vx.elements,yx=wx.elements,zx=this.elements,Ax=xx[0],Bx=xx[4],Cx=xx[8],Dx=xx[12],Ex=xx[1],Fx=xx[5],Gx=xx[9],Hx=xx[13],Ix=xx[2],Jx=xx[6],Kx=xx[10],Lx=xx[14],Mx=xx[3],Nx=xx[7],Ox=xx[11],Px=xx[15],Qx=yx[0],Rx=yx[4],Sx=yx[8],Tx=yx[12],Ux=yx[1],Vx=yx[5],Wx=yx[9],Xx=yx[13],Yx=yx[2],Zx=yx[6],$x=yx[10],_x=yx[14],ay=yx[3],by=yx[7],cy=yx[11],dy=yx[15];return zx[0]=Ax*Qx+Bx*Ux+Cx*Yx+Dx*ay,zx[4]=Ax*Rx+Bx*Vx+Cx*Zx+Dx*by,zx[8]=Ax*Sx+Bx*Wx+Cx*$x+Dx*cy,zx[12]=Ax*Tx+Bx*Xx+Cx*_x+Dx*dy,zx[1]=Ex*Qx+Fx*Ux+Gx*Yx+Hx*ay,zx[5]=Ex*Rx+Fx*Vx+Gx*Zx+Hx*by,zx[9]=Ex*Sx+Fx*Wx+Gx*$x+Hx*cy,zx[13]=Ex*Tx+Fx*Xx+Gx*_x+Hx*dy,zx[2]=Ix*Qx+Jx*Ux+Kx*Yx+Lx*ay,zx[6]=Ix*Rx+Jx*Vx+Kx*Zx+Lx*by,zx[10]=Ix*Sx+Jx*Wx+Kx*$x+Lx*cy,zx[14]=Ix*Tx+Jx*Xx+Kx*_x+Lx*dy,zx[3]=Mx*Qx+Nx*Ux+Ox*Yx+Px*ay,zx[7]=Mx*Rx+Nx*Vx+Ox*Zx+Px*by,zx[11]=Mx*Sx+Nx*Wx+Ox*$x+Px*cy,zx[15]=Mx*Tx+Nx*Xx+Ox*_x+Px*dy,this}multiplyScalar(ey){const fy=this.elements;return fy[0]*=ey,fy[4]*=ey,fy[8]*=ey,fy[12]*=ey,fy[1]*=ey,fy[5]*=ey,fy[9]*=ey,fy[13]*=ey,fy[2]*=ey,fy[6]*=ey,fy[10]*=ey,fy[14]*=ey,fy[3]*=ey,fy[7]*=ey,fy[11]*=ey,fy[15]*=ey,this}determinant(){const gy=this.elements,hy=gy[0],iy=gy[4],jy=gy[8],ky=gy[12],ly=gy[1],my=gy[5],ny=gy[9],oy=gy[13],py=gy[2],qy=gy[6],ry=gy[10],sy=gy[14],ty=gy[3],uy=gy[7],vy=gy[11],wy=gy[15];return ty*(+ky*ny*qy-jy*oy*qy-ky*my*ry+iy*oy*ry+jy*my*sy-iy*ny*sy)+uy*(+hy*ny*sy-hy*oy*ry+ky*ly*ry-jy*ly*sy+jy*oy*py-ky*ny*py)+vy*(+hy*oy*qy-hy*my*sy-ky*ly*qy+iy*ly*sy+ky*my*py-iy*oy*py)+wy*(-jy*my*py-hy*ny*qy+hy*my*ry+jy*ly*qy-iy*ly*ry+iy*ny*py)}transpose(){const xy=this.elements;let yy;return yy=xy[1],xy[1]=xy[4],xy[4]=yy,yy=xy[2],xy[2]=xy[8],xy[8]=yy,yy=xy[6],xy[6]=xy[9],xy[9]=yy,yy=xy[3],xy[3]=xy[12],xy[12]=yy,yy=xy[7],xy[7]=xy[13],xy[13]=yy,yy=xy[11],xy[11]=xy[14],xy[14]=yy,this}setPosition(zy,Ay,By){const Cy=this.elements;return zy.isVector3?(Cy[12]=zy.x,Cy[13]=zy.y,Cy[14]=zy.z):(Cy[12]=zy,Cy[13]=Ay,Cy[14]=By),this}invert(){const Dy=this.elements,Ey=Dy[0],Fy=Dy[1],Gy=Dy[2],Hy=Dy[3],Iy=Dy[4],Jy=Dy[5],Ky=Dy[6],Ly=Dy[7],My=Dy[8],Ny=Dy[9],Oy=Dy[10],Py=Dy[11],Qy=Dy[12],Ry=Dy[13],Sy=Dy[14],Ty=Dy[15],Uy=Ny*Sy*Ly-Ry*Oy*Ly+Ry*Ky*Py-Jy*Sy*Py-Ny*Ky*Ty+Jy*Oy*Ty,Vy=Qy*Oy*Ly-My*Sy*Ly-Qy*Ky*Py+Iy*Sy*Py+My*Ky*Ty-Iy*Oy*Ty,Wy=My*Ry*Ly-Qy*Ny*Ly+Qy*Jy*Py-Iy*Ry*Py-My*Jy*Ty+Iy*Ny*Ty,Xy=Qy*Ny*Ky-My*Ry*Ky-Qy*Jy*Oy+Iy*Ry*Oy+My*Jy*Sy-Iy*Ny*Sy,Yy=Ey*Uy+Fy*Vy+Gy*Wy+Hy*Xy;if(0===Yy)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Zy=1/Yy;return Dy[0]=Uy*Zy,Dy[1]=(Ry*Oy*Hy-Ny*Sy*Hy-Ry*Gy*Py+Fy*Sy*Py+Ny*Gy*Ty-Fy*Oy*Ty)*Zy,Dy[2]=(Jy*Sy*Hy-Ry*Ky*Hy+Ry*Gy*Ly-Fy*Sy*Ly-Jy*Gy*Ty+Fy*Ky*Ty)*Zy,Dy[3]=(Ny*Ky*Hy-Jy*Oy*Hy-Ny*Gy*Ly+Fy*Oy*Ly+Jy*Gy*Py-Fy*Ky*Py)*Zy,Dy[4]=Vy*Zy,Dy[5]=(My*Sy*Hy-Qy*Oy*Hy+Qy*Gy*Py-Ey*Sy*Py-My*Gy*Ty+Ey*Oy*Ty)*Zy,Dy[6]=(Qy*Ky*Hy-Iy*Sy*Hy-Qy*Gy*Ly+Ey*Sy*Ly+Iy*Gy*Ty-Ey*Ky*Ty)*Zy,Dy[7]=(Iy*Oy*Hy-My*Ky*Hy+My*Gy*Ly-Ey*Oy*Ly-Iy*Gy*Py+Ey*Ky*Py)*Zy,Dy[8]=Wy*Zy,Dy[9]=(Qy*Ny*Hy-My*Ry*Hy-Qy*Fy*Py+Ey*Ry*Py+My*Fy*Ty-Ey*Ny*Ty)*Zy,Dy[10]=(Iy*Ry*Hy-Qy*Jy*Hy+Qy*Fy*Ly-Ey*Ry*Ly-Iy*Fy*Ty+Ey*Jy*Ty)*Zy,Dy[11]=(My*Jy*Hy-Iy*Ny*Hy-My*Fy*Ly+Ey*Ny*Ly+Iy*Fy*Py-Ey*Jy*Py)*Zy,Dy[12]=Xy*Zy,Dy[13]=(My*Ry*Gy-Qy*Ny*Gy+Qy*Fy*Oy-Ey*Ry*Oy-My*Fy*Sy+Ey*Ny*Sy)*Zy,Dy[14]=(Qy*Jy*Gy-Iy*Ry*Gy-Qy*Fy*Ky+Ey*Ry*Ky+Iy*Fy*Sy-Ey*Jy*Sy)*Zy,Dy[15]=(Iy*Ny*Gy-My*Jy*Gy+My*Fy*Ky-Ey*Ny*Ky-Iy*Fy*Oy+Ey*Jy*Oy)*Zy,this}scale($y){const _y=this.elements,az=$y.x,bz=$y.y,cz=$y.z;return _y[0]*=az,_y[4]*=bz,_y[8]*=cz,_y[1]*=az,_y[5]*=bz,_y[9]*=cz,_y[2]*=az,_y[6]*=bz,_y[10]*=cz,_y[3]*=az,_y[7]*=bz,_y[11]*=cz,this}getMaxScaleOnAxis(){const dz=this.elements,ez=dz[0]*dz[0]+dz[1]*dz[1]+dz[2]*dz[2],fz=dz[4]*dz[4]+dz[5]*dz[5]+dz[6]*dz[6],gz=dz[8]*dz[8]+dz[9]*dz[9]+dz[10]*dz[10];return Math.sqrt(Math.max(ez,fz,gz))}makeTranslation(hz,iz,jz){return this.set(1,0,0,hz,0,1,0,iz,0,0,1,jz,0,0,0,1),this}makeRotationX(kz){const lz=Math.cos(kz),mz=Math.sin(kz);return this.set(1,0,0,0,0,lz,-mz,0,0,mz,lz,0,0,0,0,1),this}makeRotationY(nz){const oz=Math.cos(nz),pz=Math.sin(nz);return this.set(oz,0,pz,0,0,1,0,0,-pz,0,oz,0,0,0,0,1),this}makeRotationZ(qz){const rz=Math.cos(qz),sz=Math.sin(qz);return this.set(rz,-sz,0,0,sz,rz,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(tz,uz){const vz=Math.cos(uz),wz=Math.sin(uz),xz=1-vz,yz=tz.x,zz=tz.y,Az=tz.z,Bz=xz*yz,Cz=xz*zz;return this.set(Bz*yz+vz,Bz*zz-wz*Az,Bz*Az+wz*zz,0,Bz*zz+wz*Az,Cz*zz+vz,Cz*Az-wz*yz,0,Bz*Az-wz*zz,Cz*Az+wz*yz,xz*Az*Az+vz,0,0,0,0,1),this}makeScale(Dz,Ez,Fz){return this.set(Dz,0,0,0,0,Ez,0,0,0,0,Fz,0,0,0,0,1),this}makeShear(Gz,Hz,Iz,Jz,Kz,Lz){return this.set(1,Iz,Kz,0,Gz,1,Lz,0,Hz,Jz,1,0,0,0,0,1),this}compose(Mz,Nz,Oz){const Pz=this.elements,Qz=Nz._x,Rz=Nz._y,Sz=Nz._z,Tz=Nz._w,Uz=Qz+Qz,Vz=Rz+Rz,Wz=Sz+Sz,Xz=Qz*Uz,Yz=Qz*Vz,Zz=Qz*Wz,$z=Rz*Vz,_z=Rz*Wz,aA=Sz*Wz,bA=Tz*Uz,cA=Tz*Vz,dA=Tz*Wz,eA=Oz.x,fA=Oz.y,gA=Oz.z;return Pz[0]=(1-($z+aA))*eA,Pz[1]=(Yz+dA)*eA,Pz[2]=(Zz-cA)*eA,Pz[3]=0,Pz[4]=(Yz-dA)*fA,Pz[5]=(1-(Xz+aA))*fA,Pz[6]=(_z+bA)*fA,Pz[7]=0,Pz[8]=(Zz+cA)*gA,Pz[9]=(_z-bA)*gA,Pz[10]=(1-(Xz+$z))*gA,Pz[11]=0,Pz[12]=Mz.x,Pz[13]=Mz.y,Pz[14]=Mz.z,Pz[15]=1,this}decompose(hA,iA,jA){const kA=this.elements;let lA=TA.set(kA[0],kA[1],kA[2]).length();const mA=TA.set(kA[4],kA[5],kA[6]).length(),nA=TA.set(kA[8],kA[9],kA[10]).length(),oA=this.determinant();oA<0&&(lA=-lA),hA.x=kA[12],hA.y=kA[13],hA.z=kA[14],UA.copy(this);const pA=1/lA,qA=1/mA,rA=1/nA;return UA.elements[0]*=pA,UA.elements[1]*=pA,UA.elements[2]*=pA,UA.elements[4]*=qA,UA.elements[5]*=qA,UA.elements[6]*=qA,UA.elements[8]*=rA,UA.elements[9]*=rA,UA.elements[10]*=rA,iA.setFromRotationMatrix(UA),jA.x=lA,jA.y=mA,jA.z=nA,this}makePerspective(sA,tA,uA,vA,wA,xA){void 0===xA&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const yA=this.elements;return yA[0]=2*wA/(tA-sA),yA[4]=0,yA[8]=(tA+sA)/(tA-sA),yA[12]=0,yA[1]=0,yA[5]=2*wA/(uA-vA),yA[9]=(uA+vA)/(uA-vA),yA[13]=0,yA[2]=0,yA[6]=0,yA[10]=-(xA+wA)/(xA-wA),yA[14]=-2*xA*wA/(xA-wA),yA[3]=0,yA[7]=0,yA[11]=-1,yA[15]=0,this}makeOrthographic(zA,AA,BA,CA,DA,EA){const FA=this.elements,GA=1/(AA-zA),HA=1/(BA-CA),IA=1/(EA-DA);return FA[0]=2*GA,FA[4]=0,FA[8]=0,FA[12]=-((AA+zA)*GA),FA[1]=0,FA[5]=2*HA,FA[9]=0,FA[13]=-((BA+CA)*HA),FA[2]=0,FA[6]=0,FA[10]=-2*IA,FA[14]=-((EA+DA)*IA),FA[3]=0,FA[7]=0,FA[11]=0,FA[15]=1,this}equals(JA){const KA=this.elements,LA=JA.elements;for(let MA=0;MA<16;MA++)if(KA[MA]!==LA[MA])return!1;return!0}fromArray(NA,OA=0){for(let PA=0;PA<16;PA++)this.elements[PA]=NA[PA+OA];return this}toArray(QA=[],RA=0){const SA=this.elements;return QA[RA]=SA[0],QA[RA+1]=SA[1],QA[RA+2]=SA[2],QA[RA+3]=SA[3],QA[RA+4]=SA[4],QA[RA+5]=SA[5],QA[RA+6]=SA[6],QA[RA+7]=SA[7],QA[RA+8]=SA[8],QA[RA+9]=SA[9],QA[RA+10]=SA[10],QA[RA+11]=SA[11],QA[RA+12]=SA[12],QA[RA+13]=SA[13],QA[RA+14]=SA[14],QA[RA+15]=SA[15],QA}}Wv.prototype.isMatrix4=!0;const TA=new Jp(),UA=new Wv(),VA=new Jp(0,0,0),WA=new Jp(1,1,1),XA=new Jp(),YA=new Jp(),ZA=new Jp(),$A=new Wv(),_A=new an();class aB{constructor(bB=0,cB=0,dB=0,eB=aB.DefaultOrder){this._x=bB,this._y=cB,this._z=dB,this._order=eB}get x(){return this._x}set x(fB){this._x=fB,this._onChangeCallback()}get y(){return this._y}set y(gB){this._y=gB,this._onChangeCallback()}get z(){return this._z}set z(hB){this._z=hB,this._onChangeCallback()}get order(){return this._order}set order(iB){this._order=iB,this._onChangeCallback()}set(jB,kB,lB,mB=this._order){return this._x=jB,this._y=kB,this._z=lB,this._order=mB,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(nB){return this._x=nB._x,this._y=nB._y,this._z=nB._z,this._order=nB._order,this._onChangeCallback(),this}setFromRotationMatrix(oB,pB=this._order,qB=!0){const rB=oB.elements,sB=rB[0],tB=rB[4],uB=rB[8],vB=rB[1],wB=rB[5],xB=rB[9],yB=rB[2],zB=rB[6],AB=rB[10];switch(pB){case"XYZ":this._y=Math.asin(Qg(uB,-1,1)),.9999999>Math.abs(uB)?(this._x=Math.atan2(-xB,AB),this._z=Math.atan2(-tB,sB)):(this._x=Math.atan2(zB,wB),this._z=0);break;case"YXZ":this._x=Math.asin(-Qg(xB,-1,1)),.9999999>Math.abs(xB)?(this._y=Math.atan2(uB,AB),this._z=Math.atan2(vB,wB)):(this._y=Math.atan2(-yB,sB),this._z=0);break;case"ZXY":this._x=Math.asin(Qg(zB,-1,1)),.9999999>Math.abs(zB)?(this._y=Math.atan2(-yB,AB),this._z=Math.atan2(-tB,wB)):(this._y=0,this._z=Math.atan2(vB,sB));break;case"ZYX":this._y=Math.asin(-Qg(yB,-1,1)),.9999999>Math.abs(yB)?(this._x=Math.atan2(zB,AB),this._z=Math.atan2(vB,sB)):(this._x=0,this._z=Math.atan2(-tB,wB));break;case"YZX":this._z=Math.asin(Qg(vB,-1,1)),.9999999>Math.abs(vB)?(this._x=Math.atan2(-xB,wB),this._y=Math.atan2(-yB,sB)):(this._x=0,this._y=Math.atan2(uB,AB));break;case"XZY":this._z=Math.asin(-Qg(tB,-1,1)),.9999999>Math.abs(tB)?(this._x=Math.atan2(zB,wB),this._y=Math.atan2(uB,sB)):(this._x=Math.atan2(-xB,AB),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+pB)}return this._order=pB,!0===qB&&this._onChangeCallback(),this}setFromQuaternion(BB,CB,DB){return $A.makeRotationFromQuaternion(BB),this.setFromRotationMatrix($A,CB,DB)}setFromVector3(EB,FB=this._order){return this.set(EB.x,EB.y,EB.z,FB)}reorder(GB){return _A.setFromEuler(this),this.setFromQuaternion(_A,GB)}equals(HB){return HB._x===this._x&&HB._y===this._y&&HB._z===this._z&&HB._order===this._order}fromArray(IB){return this._x=IB[0],this._y=IB[1],this._z=IB[2],void 0!==IB[3]&&(this._order=IB[3]),this._onChangeCallback(),this}toArray(JB=[],KB=0){return JB[KB]=this._x,JB[KB+1]=this._y,JB[KB+2]=this._z,JB[KB+3]=this._order,JB}toVector3(LB){return LB?LB.set(this._x,this._y,this._z):new Jp(this._x,this._y,this._z)}_onChange(MB){return this._onChangeCallback=MB,this}_onChangeCallback(){}}aB.prototype.isEuler=!0,aB.DefaultOrder="XYZ",aB.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let NB=0;const OB=new Jp(),PB=new an(),QB=new Wv(),RB=new Jp(),SB=new Jp(),TB=new Jp(),UB=new an(),VB=new Jp(1,0,0),WB=new Jp(0,1,0),XB=new Jp(0,0,1),YB={type:"added"},ZB={type:"removed"};class $B extends sg{constructor(){super(),Object.defineProperty(this,"id",{value:NB++}),this.uuid=Pg(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$B.DefaultUp.clone();const _B=new Jp(),aC=new aB(),bC=new an(),cC=new Jp(1,1,1);aC._onChange(function(){bC.setFromEuler(aC,!1)}),bC._onChange(function(){aC.setFromQuaternion(bC,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_B},rotation:{configurable:!0,enumerable:!0,value:aC},quaternion:{configurable:!0,enumerable:!0,value:bC},scale:{configurable:!0,enumerable:!0,value:cC},modelViewMatrix:{value:new Wv()},normalMatrix:{value:new mi()}}),this.matrix=new Wv(),this.matrixWorld=new Wv(),this.matrixAutoUpdate=$B.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new class{constructor(){this.mask=1}set(dC){this.mask=(1<<dC|0)>>>0}enable(eC){this.mask|=1<<eC|0}enableAll(){this.mask=-1}toggle(fC){this.mask^=1<<fC|0}disable(gC){this.mask&=~(1<<gC|0)}disableAll(){this.mask=0}test(hC){return(this.mask&hC.mask)!=0}isEnabled(iC){return(this.mask&(1<<iC|0))!=0}}(),this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(jC){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(jC),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(kC){return this.quaternion.premultiply(kC),this}setRotationFromAxisAngle(lC,mC){this.quaternion.setFromAxisAngle(lC,mC)}setRotationFromEuler(nC){this.quaternion.setFromEuler(nC,!0)}setRotationFromMatrix(oC){this.quaternion.setFromRotationMatrix(oC)}setRotationFromQuaternion(pC){this.quaternion.copy(pC)}rotateOnAxis(qC,rC){return PB.setFromAxisAngle(qC,rC),this.quaternion.multiply(PB),this}rotateOnWorldAxis(sC,tC){return PB.setFromAxisAngle(sC,tC),this.quaternion.premultiply(PB),this}rotateX(uC){return this.rotateOnAxis(VB,uC)}rotateY(vC){return this.rotateOnAxis(WB,vC)}rotateZ(wC){return this.rotateOnAxis(XB,wC)}translateOnAxis(xC,yC){return OB.copy(xC).applyQuaternion(this.quaternion),this.position.add(OB.multiplyScalar(yC)),this}translateX(zC){return this.translateOnAxis(VB,zC)}translateY(AC){return this.translateOnAxis(WB,AC)}translateZ(BC){return this.translateOnAxis(XB,BC)}localToWorld(CC){return CC.applyMatrix4(this.matrixWorld)}worldToLocal(DC){return DC.applyMatrix4(QB.copy(this.matrixWorld).invert())}lookAt(EC,FC,GC){EC.isVector3?RB.copy(EC):RB.set(EC,FC,GC);const HC=this.parent;this.updateWorldMatrix(!0,!1),SB.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?QB.lookAt(SB,RB,this.up):QB.lookAt(RB,SB,this.up),this.quaternion.setFromRotationMatrix(QB),HC&&(QB.extractRotation(HC.matrixWorld),PB.setFromRotationMatrix(QB),this.quaternion.premultiply(PB.invert()))}add(IC){if(arguments.length>1){for(let JC=0;JC<arguments.length;JC++)this.add(arguments[JC]);return this}return IC===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",IC),this):(IC&&IC.isObject3D?(null!==IC.parent&&IC.parent.remove(IC),IC.parent=this,this.children.push(IC),IC.dispatchEvent(YB)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",IC),this)}remove(KC){if(arguments.length>1){for(let LC=0;LC<arguments.length;LC++)this.remove(arguments[LC]);return this}const MC=this.children.indexOf(KC);return -1!==MC&&(KC.parent=null,this.children.splice(MC,1),KC.dispatchEvent(ZB)),this}removeFromParent(){const NC=this.parent;return null!==NC&&NC.remove(this),this}clear(){for(let OC=0;OC<this.children.length;OC++){const PC=this.children[OC];PC.parent=null,PC.dispatchEvent(ZB)}return this.children.length=0,this}attach(QC){return this.updateWorldMatrix(!0,!1),QB.copy(this.matrixWorld).invert(),null!==QC.parent&&(QC.parent.updateWorldMatrix(!0,!1),QB.multiply(QC.parent.matrixWorld)),QC.applyMatrix4(QB),this.add(QC),QC.updateWorldMatrix(!1,!0),this}getObjectById(RC){return this.getObjectByProperty("id",RC)}getObjectByName(SC){return this.getObjectByProperty("name",SC)}getObjectByProperty(TC,UC){if(this[TC]===UC)return this;for(let VC=0,WC=this.children.length;VC<WC;VC++){const XC=this.children[VC],YC=XC.getObjectByProperty(TC,UC);if(void 0!==YC)return YC}}getWorldPosition(ZC){return this.updateWorldMatrix(!0,!1),ZC.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion($C){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(SB,$C,TB),$C}getWorldScale(_C){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(SB,UB,_C),_C}getWorldDirection(aD){this.updateWorldMatrix(!0,!1);const bD=this.matrixWorld.elements;return aD.set(bD[8],bD[9],bD[10]).normalize()}raycast(){}traverse(cD){cD(this);const dD=this.children;for(let eD=0,fD=dD.length;eD<fD;eD++)dD[eD].traverse(cD)}traverseVisible(gD){if(!1===this.visible)return;gD(this);const hD=this.children;for(let iD=0,jD=hD.length;iD<jD;iD++)hD[iD].traverseVisible(gD)}traverseAncestors(kD){const lD=this.parent;null!==lD&&(kD(lD),lD.traverseAncestors(kD))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(mD){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||mD)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,mD=!0);const nD=this.children;for(let oD=0,pD=nD.length;oD<pD;oD++)nD[oD].updateMatrixWorld(mD)}updateWorldMatrix(qD,rD){const sD=this.parent;if(!0===qD&&null!==sD&&sD.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===rD){const tD=this.children;for(let uD=0,vD=tD.length;uD<vD;uD++)tD[uD].updateWorldMatrix(!1,!0)}}toJSON(wD){const xD=void 0===wD||"string"==typeof wD,yD={};xD&&(wD={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},yD.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const zD={};function AD(a,b){return void 0===a[b.uuid]&&(a[b.uuid]=b.toJSON(wD)),b.uuid}if(zD.uuid=this.uuid,zD.type=this.type,""!==this.name&&(zD.name=this.name),!0===this.castShadow&&(zD.castShadow=!0),!0===this.receiveShadow&&(zD.receiveShadow=!0),!1===this.visible&&(zD.visible=!1),!1===this.frustumCulled&&(zD.frustumCulled=!1),0!==this.renderOrder&&(zD.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(zD.userData=this.userData),zD.layers=this.layers.mask,zD.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(zD.matrixAutoUpdate=!1),this.isInstancedMesh&&(zD.type="InstancedMesh",zD.count=this.count,zD.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(zD.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?zD.background=this.background.toJSON():this.background.isTexture&&(zD.background=this.background.toJSON(wD).uuid)),this.environment&&this.environment.isTexture&&(zD.environment=this.environment.toJSON(wD).uuid);else if(this.isMesh||this.isLine||this.isPoints){zD.geometry=AD(wD.geometries,this.geometry);const BD=this.geometry.parameters;if(void 0!==BD&& void 0!==BD.shapes){const CD=BD.shapes;if(Array.isArray(CD))for(let DD=0,ED=CD.length;DD<ED;DD++){const FD=CD[DD];AD(wD.shapes,FD)}else AD(wD.shapes,CD)}}if(this.isSkinnedMesh&&(zD.bindMode=this.bindMode,zD.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(AD(wD.skeletons,this.skeleton),zD.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const GD=[];for(let HD=0,ID=this.material.length;HD<ID;HD++)GD.push(AD(wD.materials,this.material[HD]));zD.material=GD}else zD.material=AD(wD.materials,this.material);if(this.children.length>0){zD.children=[];for(let JD=0;JD<this.children.length;JD++)zD.children.push(this.children[JD].toJSON(wD).object)}if(this.animations.length>0){zD.animations=[];for(let KD=0;KD<this.animations.length;KD++){const LD=this.animations[KD];zD.animations.push(AD(wD.animations,LD))}}if(xD){const MD=TD(wD.geometries),ND=TD(wD.materials),OD=TD(wD.textures),PD=TD(wD.images),QD=TD(wD.shapes),RD=TD(wD.skeletons),SD=TD(wD.animations);MD.length>0&&(yD.geometries=MD),ND.length>0&&(yD.materials=ND),OD.length>0&&(yD.textures=OD),PD.length>0&&(yD.images=PD),QD.length>0&&(yD.shapes=QD),RD.length>0&&(yD.skeletons=RD),SD.length>0&&(yD.animations=SD)}return yD.object=zD,yD;function TD(a){const b=[];for(const c in a){const d=a[c];delete d.metadata,b.push(d)}return b}}clone(UD){return new this.constructor().copy(this,UD)}copy(VD,WD=!0){if(this.name=VD.name,this.up.copy(VD.up),this.position.copy(VD.position),this.rotation.order=VD.rotation.order,this.quaternion.copy(VD.quaternion),this.scale.copy(VD.scale),this.matrix.copy(VD.matrix),this.matrixWorld.copy(VD.matrixWorld),this.matrixAutoUpdate=VD.matrixAutoUpdate,this.matrixWorldNeedsUpdate=VD.matrixWorldNeedsUpdate,this.layers.mask=VD.layers.mask,this.visible=VD.visible,this.castShadow=VD.castShadow,this.receiveShadow=VD.receiveShadow,this.frustumCulled=VD.frustumCulled,this.renderOrder=VD.renderOrder,this.userData=JSON.parse(JSON.stringify(VD.userData)),!0===WD)for(let XD=0;XD<VD.children.length;XD++){const YD=VD.children[XD];this.add(YD.clone())}return this}}$B.DefaultUp=new Jp(0,1,0),$B.DefaultMatrixAutoUpdate=!0,$B.prototype.isObject3D=!0;const ZD=new Jp(),$D=new Jp(),_D=new Jp(),aE=new Jp(),bE=new Jp(),cE=new Jp(),dE=new Jp(),eE=new Jp(),fE=new Jp(),gE=new Jp();class hE{constructor(iE=new Jp(),jE=new Jp(),kE=new Jp()){this.a=iE,this.b=jE,this.c=kE}static getNormal(lE,mE,nE,oE){oE.subVectors(nE,mE),ZD.subVectors(lE,mE),oE.cross(ZD);const pE=oE.lengthSq();return pE>0?oE.multiplyScalar(1/Math.sqrt(pE)):oE.set(0,0,0)}static getBarycoord(qE,rE,sE,tE,uE){ZD.subVectors(tE,rE),$D.subVectors(sE,rE),_D.subVectors(qE,rE);const vE=ZD.dot(ZD),wE=ZD.dot($D),xE=ZD.dot(_D),yE=$D.dot($D),zE=$D.dot(_D),AE=vE*yE-wE*wE;if(0===AE)return uE.set(-2,-1,-1);const BE=1/AE,CE=(yE*xE-wE*zE)*BE,DE=(vE*zE-wE*xE)*BE;return uE.set(1-CE-DE,DE,CE)}static containsPoint(EE,FE,GE,HE){return this.getBarycoord(EE,FE,GE,HE,aE),aE.x>=0&&aE.y>=0&&aE.x+aE.y<=1}static getUV(IE,JE,KE,LE,ME,NE,OE,PE){return this.getBarycoord(IE,JE,KE,LE,aE),PE.set(0,0),PE.addScaledVector(ME,aE.x),PE.addScaledVector(NE,aE.y),PE.addScaledVector(OE,aE.z),PE}static isFrontFacing(QE,RE,SE,TE){return ZD.subVectors(SE,RE),$D.subVectors(QE,RE),0>ZD.cross($D).dot(TE)}set(UE,VE,WE){return this.a.copy(UE),this.b.copy(VE),this.c.copy(WE),this}setFromPointsAndIndices(XE,YE,ZE,$E){return this.a.copy(XE[YE]),this.b.copy(XE[ZE]),this.c.copy(XE[$E]),this}setFromAttributeAndIndices(_E,aF,bF,cF){return this.a.fromBufferAttribute(_E,aF),this.b.fromBufferAttribute(_E,bF),this.c.fromBufferAttribute(_E,cF),this}clone(){return new this.constructor().copy(this)}copy(dF){return this.a.copy(dF.a),this.b.copy(dF.b),this.c.copy(dF.c),this}getArea(){return ZD.subVectors(this.c,this.b),$D.subVectors(this.a,this.b),.5*ZD.cross($D).length()}getMidpoint(eF){return eF.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(fF){return hE.getNormal(this.a,this.b,this.c,fF)}getPlane(gF){return gF.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(hF,iF){return hE.getBarycoord(hF,this.a,this.b,this.c,iF)}getUV(jF,kF,lF,mF,nF){return hE.getUV(jF,this.a,this.b,this.c,kF,lF,mF,nF)}containsPoint(oF){return hE.containsPoint(oF,this.a,this.b,this.c)}isFrontFacing(pF){return hE.isFrontFacing(this.a,this.b,this.c,pF)}intersectsBox(qF){return qF.intersectsTriangle(this)}closestPointToPoint(rF,sF){const tF=this.a,uF=this.b,vF=this.c;let wF,xF;bE.subVectors(uF,tF),cE.subVectors(vF,tF),eE.subVectors(rF,tF);const yF=bE.dot(eE),zF=cE.dot(eE);if(yF<=0&&zF<=0)return sF.copy(tF);fE.subVectors(rF,uF);const AF=bE.dot(fE),BF=cE.dot(fE);if(AF>=0&&BF<=AF)return sF.copy(uF);const CF=yF*BF-AF*zF;if(CF<=0&&yF>=0&&AF<=0)return wF=yF/(yF-AF),sF.copy(tF).addScaledVector(bE,wF);gE.subVectors(rF,vF);const DF=bE.dot(gE),EF=cE.dot(gE);if(EF>=0&&DF<=EF)return sF.copy(vF);const FF=DF*zF-yF*EF;if(FF<=0&&zF>=0&&EF<=0)return xF=zF/(zF-EF),sF.copy(tF).addScaledVector(cE,xF);const GF=AF*EF-DF*BF;if(GF<=0&&BF-AF>=0&&DF-EF>=0)return dE.subVectors(vF,uF),xF=(BF-AF)/(BF-AF+(DF-EF)),sF.copy(uF).addScaledVector(dE,xF);const HF=1/(GF+FF+CF);return wF=FF*HF,xF=CF*HF,sF.copy(tF).addScaledVector(bE,wF).addScaledVector(cE,xF)}equals(IF){return IF.a.equals(this.a)&&IF.b.equals(this.b)&&IF.c.equals(this.c)}}let JF=0;class KF extends sg{constructor(){super(),Object.defineProperty(this,"id",{value:JF++}),this.uuid=Pg(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=1023,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(LF){this._alphaTest>0!=LF>0&&this.version++,this._alphaTest=LF}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(MF){if(void 0!==MF)for(const NF in MF){const OF=MF[NF];if(void 0===OF){console.warn("THREE.Material: '"+NF+"' parameter is undefined.");continue}if("shading"===NF){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===OF;continue}const PF=this[NF];if(void 0===PF){console.warn("THREE."+this.type+": '"+NF+"' is not a property of this material.");continue}PF&&PF.isColor?PF.set(OF):PF&&PF.isVector3&&OF&&OF.isVector3?PF.copy(OF):this[NF]=OF}}toJSON(QF){const RF=void 0===QF||"string"==typeof QF;RF&&(QF={textures:{},images:{}});const SF={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function TF(a){const b=[];for(const c in a){const d=a[c];delete d.metadata,b.push(d)}return b}if(SF.uuid=this.uuid,SF.type=this.type,""!==this.name&&(SF.name=this.name),this.color&&this.color.isColor&&(SF.color=this.color.getHex()),void 0!==this.roughness&&(SF.roughness=this.roughness),void 0!==this.metalness&&(SF.metalness=this.metalness),void 0!==this.sheen&&(SF.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(SF.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(SF.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(SF.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(SF.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(SF.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(SF.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(SF.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(SF.shininess=this.shininess),void 0!==this.clearcoat&&(SF.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(SF.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(SF.clearcoatMap=this.clearcoatMap.toJSON(QF).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(SF.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(QF).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(SF.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(QF).uuid,SF.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(SF.map=this.map.toJSON(QF).uuid),this.matcap&&this.matcap.isTexture&&(SF.matcap=this.matcap.toJSON(QF).uuid),this.alphaMap&&this.alphaMap.isTexture&&(SF.alphaMap=this.alphaMap.toJSON(QF).uuid),this.lightMap&&this.lightMap.isTexture&&(SF.lightMap=this.lightMap.toJSON(QF).uuid,SF.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(SF.aoMap=this.aoMap.toJSON(QF).uuid,SF.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(SF.bumpMap=this.bumpMap.toJSON(QF).uuid,SF.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(SF.normalMap=this.normalMap.toJSON(QF).uuid,SF.normalMapType=this.normalMapType,SF.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(SF.displacementMap=this.displacementMap.toJSON(QF).uuid,SF.displacementScale=this.displacementScale,SF.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(SF.roughnessMap=this.roughnessMap.toJSON(QF).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(SF.metalnessMap=this.metalnessMap.toJSON(QF).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(SF.emissiveMap=this.emissiveMap.toJSON(QF).uuid),this.specularMap&&this.specularMap.isTexture&&(SF.specularMap=this.specularMap.toJSON(QF).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(SF.specularIntensityMap=this.specularIntensityMap.toJSON(QF).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(SF.specularColorMap=this.specularColorMap.toJSON(QF).uuid),this.envMap&&this.envMap.isTexture&&(SF.envMap=this.envMap.toJSON(QF).uuid,void 0!==this.combine&&(SF.combine=this.combine)),void 0!==this.envMapIntensity&&(SF.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(SF.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(SF.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(SF.gradientMap=this.gradientMap.toJSON(QF).uuid),void 0!==this.transmission&&(SF.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(SF.transmissionMap=this.transmissionMap.toJSON(QF).uuid),void 0!==this.thickness&&(SF.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(SF.thicknessMap=this.thicknessMap.toJSON(QF).uuid),void 0!==this.attenuationDistance&&(SF.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(SF.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(SF.size=this.size),null!==this.shadowSide&&(SF.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(SF.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(SF.blending=this.blending),0!==this.side&&(SF.side=this.side),this.vertexColors&&(SF.vertexColors=!0),this.opacity<1&&(SF.opacity=this.opacity),1023!==this.format&&(SF.format=this.format),!0===this.transparent&&(SF.transparent=this.transparent),SF.depthFunc=this.depthFunc,SF.depthTest=this.depthTest,SF.depthWrite=this.depthWrite,SF.colorWrite=this.colorWrite,SF.stencilWrite=this.stencilWrite,SF.stencilWriteMask=this.stencilWriteMask,SF.stencilFunc=this.stencilFunc,SF.stencilRef=this.stencilRef,SF.stencilFuncMask=this.stencilFuncMask,SF.stencilFail=this.stencilFail,SF.stencilZFail=this.stencilZFail,SF.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(SF.rotation=this.rotation),!0===this.polygonOffset&&(SF.polygonOffset=!0),0!==this.polygonOffsetFactor&&(SF.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(SF.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(SF.linewidth=this.linewidth),void 0!==this.dashSize&&(SF.dashSize=this.dashSize),void 0!==this.gapSize&&(SF.gapSize=this.gapSize),void 0!==this.scale&&(SF.scale=this.scale),!0===this.dithering&&(SF.dithering=!0),this.alphaTest>0&&(SF.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(SF.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(SF.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(SF.wireframe=this.wireframe),this.wireframeLinewidth>1&&(SF.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(SF.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(SF.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(SF.flatShading=this.flatShading),!1===this.visible&&(SF.visible=!1),!1===this.toneMapped&&(SF.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(SF.userData=this.userData),RF){const UF=TF(QF.textures),VF=TF(QF.images);UF.length>0&&(SF.textures=UF),VF.length>0&&(SF.images=VF)}return SF}clone(){return new this.constructor().copy(this)}copy(WF){this.name=WF.name,this.fog=WF.fog,this.blending=WF.blending,this.side=WF.side,this.vertexColors=WF.vertexColors,this.opacity=WF.opacity,this.format=WF.format,this.transparent=WF.transparent,this.blendSrc=WF.blendSrc,this.blendDst=WF.blendDst,this.blendEquation=WF.blendEquation,this.blendSrcAlpha=WF.blendSrcAlpha,this.blendDstAlpha=WF.blendDstAlpha,this.blendEquationAlpha=WF.blendEquationAlpha,this.depthFunc=WF.depthFunc,this.depthTest=WF.depthTest,this.depthWrite=WF.depthWrite,this.stencilWriteMask=WF.stencilWriteMask,this.stencilFunc=WF.stencilFunc,this.stencilRef=WF.stencilRef,this.stencilFuncMask=WF.stencilFuncMask,this.stencilFail=WF.stencilFail,this.stencilZFail=WF.stencilZFail,this.stencilZPass=WF.stencilZPass,this.stencilWrite=WF.stencilWrite;const XF=WF.clippingPlanes;let YF=null;if(null!==XF){const ZF=XF.length;YF=new Array(ZF);for(let $F=0;$F!==ZF;++$F)YF[$F]=XF[$F].clone()}return this.clippingPlanes=YF,this.clipIntersection=WF.clipIntersection,this.clipShadows=WF.clipShadows,this.shadowSide=WF.shadowSide,this.colorWrite=WF.colorWrite,this.precision=WF.precision,this.polygonOffset=WF.polygonOffset,this.polygonOffsetFactor=WF.polygonOffsetFactor,this.polygonOffsetUnits=WF.polygonOffsetUnits,this.dithering=WF.dithering,this.alphaTest=WF.alphaTest,this.alphaToCoverage=WF.alphaToCoverage,this.premultipliedAlpha=WF.premultipliedAlpha,this.visible=WF.visible,this.toneMapped=WF.toneMapped,this.userData=JSON.parse(JSON.stringify(WF.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_F){!0===_F&&this.version++}}KF.prototype.isMaterial=!0;const aG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bG={h:0,s:0,l:0},cG={h:0,s:0,l:0};function dG(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*6*(2/3-c):a}function eG(a){return a<.04045?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function fG(a){return a<.0031308?12.92*a:1.055*Math.pow(a,.41666)-.055}class gG{constructor(hG,iG,jG){if(void 0===iG&& void 0===jG)return this.set(hG);return this.setRGB(hG,iG,jG)}set(kG){return kG&&kG.isColor?this.copy(kG):"number"==typeof kG?this.setHex(kG):"string"==typeof kG&&this.setStyle(kG),this}setScalar(lG){return this.r=lG,this.g=lG,this.b=lG,this}setHex(mG){return mG=Math.floor(mG),this.r=(mG>>16&255)/255,this.g=(mG>>8&255)/255,this.b=(255&mG)/255,this}setRGB(nG,oG,pG){return this.r=nG,this.g=oG,this.b=pG,this}setHSL(qG,rG,sG){if(qG=Rg(qG,1),rG=Qg(rG,0,1),sG=Qg(sG,0,1),0===rG)this.r=this.g=this.b=sG;else{const tG=sG<=.5?sG*(1+rG):sG+rG-sG*rG,uG=2*sG-tG;this.r=dG(uG,tG,qG+1/3),this.g=dG(uG,tG,qG),this.b=dG(uG,tG,qG-1/3)}return this}setStyle(vG){function wG(a){void 0!==a&&1>parseFloat(a)&&console.warn("THREE.Color: Alpha component of "+vG+" will be ignored.")}let xG;if(xG=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(vG)){let yG;const zG=xG[1],AG=xG[2];switch(zG){case"rgb":case"rgba":if(yG=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(AG))return this.r=Math.min(255,parseInt(yG[1],10))/255,this.g=Math.min(255,parseInt(yG[2],10))/255,this.b=Math.min(255,parseInt(yG[3],10))/255,wG(yG[4]),this;if(yG=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(AG))return this.r=Math.min(100,parseInt(yG[1],10))/100,this.g=Math.min(100,parseInt(yG[2],10))/100,this.b=Math.min(100,parseInt(yG[3],10))/100,wG(yG[4]),this;break;case"hsl":case"hsla":if(yG=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(AG)){const BG=parseFloat(yG[1])/360,CG=parseInt(yG[2],10)/100,DG=parseInt(yG[3],10)/100;return wG(yG[4]),this.setHSL(BG,CG,DG)}break}}else if(xG=/^\#([A-Fa-f\d]+)$/.exec(vG)){const EG=xG[1],FG=EG.length;if(3===FG)return this.r=parseInt(EG.charAt(0)+EG.charAt(0),16)/255,this.g=parseInt(EG.charAt(1)+EG.charAt(1),16)/255,this.b=parseInt(EG.charAt(2)+EG.charAt(2),16)/255,this;if(6===FG)return this.r=parseInt(EG.charAt(0)+EG.charAt(1),16)/255,this.g=parseInt(EG.charAt(2)+EG.charAt(3),16)/255,this.b=parseInt(EG.charAt(4)+EG.charAt(5),16)/255,this}return vG&&vG.length>0?this.setColorName(vG):this}setColorName(GG){const HG=aG[GG.toLowerCase()];return void 0!==HG?this.setHex(HG):console.warn("THREE.Color: Unknown color "+GG),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(IG){return this.r=IG.r,this.g=IG.g,this.b=IG.b,this}copyGammaToLinear(JG,KG=2){return this.r=Math.pow(JG.r,KG),this.g=Math.pow(JG.g,KG),this.b=Math.pow(JG.b,KG),this}copyLinearToGamma(LG,MG=2){const NG=MG>0?1/MG:1;return this.r=Math.pow(LG.r,NG),this.g=Math.pow(LG.g,NG),this.b=Math.pow(LG.b,NG),this}convertGammaToLinear(OG){return this.copyGammaToLinear(this,OG),this}convertLinearToGamma(PG){return this.copyLinearToGamma(this,PG),this}copySRGBToLinear(QG){return this.r=eG(QG.r),this.g=eG(QG.g),this.b=eG(QG.b),this}copyLinearToSRGB(RG){return this.r=fG(RG.r),this.g=fG(RG.g),this.b=fG(RG.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(SG){const TG=this.r,UG=this.g,VG=this.b,WG=Math.max(TG,UG,VG),XG=Math.min(TG,UG,VG);let YG,ZG;const $G=(XG+WG)/2;if(XG===WG)YG=0,ZG=0;else{const _G=WG-XG;switch(ZG=$G<=.5?_G/(WG+XG):_G/(2-WG-XG),WG){case TG:YG=(UG-VG)/_G+(UG<VG?6:0);break;case UG:YG=(VG-TG)/_G+2;break;case VG:YG=(TG-UG)/_G+4;break}YG/=6}return SG.h=YG,SG.s=ZG,SG.l=$G,SG}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(aH,bH,cH){return this.getHSL(bG),bG.h+=aH,bG.s+=bH,bG.l+=cH,this.setHSL(bG.h,bG.s,bG.l),this}add(dH){return this.r+=dH.r,this.g+=dH.g,this.b+=dH.b,this}addColors(eH,fH){return this.r=eH.r+fH.r,this.g=eH.g+fH.g,this.b=eH.b+fH.b,this}addScalar(gH){return this.r+=gH,this.g+=gH,this.b+=gH,this}sub(hH){return this.r=Math.max(0,this.r-hH.r),this.g=Math.max(0,this.g-hH.g),this.b=Math.max(0,this.b-hH.b),this}multiply(iH){return this.r*=iH.r,this.g*=iH.g,this.b*=iH.b,this}multiplyScalar(jH){return this.r*=jH,this.g*=jH,this.b*=jH,this}lerp(kH,lH){return this.r+=(kH.r-this.r)*lH,this.g+=(kH.g-this.g)*lH,this.b+=(kH.b-this.b)*lH,this}lerpColors(mH,nH,oH){return this.r=mH.r+(nH.r-mH.r)*oH,this.g=mH.g+(nH.g-mH.g)*oH,this.b=mH.b+(nH.b-mH.b)*oH,this}lerpHSL(pH,qH){this.getHSL(bG),pH.getHSL(cG);const rH=Sg(bG.h,cG.h,qH),sH=Sg(bG.s,cG.s,qH),tH=Sg(bG.l,cG.l,qH);return this.setHSL(rH,sH,tH),this}equals(uH){return uH.r===this.r&&uH.g===this.g&&uH.b===this.b}fromArray(vH,wH=0){return this.r=vH[wH],this.g=vH[wH+1],this.b=vH[wH+2],this}toArray(xH=[],yH=0){return xH[yH]=this.r,xH[yH+1]=this.g,xH[yH+2]=this.b,xH}fromBufferAttribute(zH,AH){return this.r=zH.getX(AH),this.g=zH.getY(AH),this.b=zH.getZ(AH),!0===zH.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}gG.NAMES=aG,gG.prototype.isColor=!0,gG.prototype.r=1,gG.prototype.g=1,gG.prototype.b=1;class BH extends KF{constructor(CH){super(),this.type="MeshBasicMaterial",this.color=new gG(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(CH)}copy(DH){return super.copy(DH),this.color.copy(DH.color),this.map=DH.map,this.lightMap=DH.lightMap,this.lightMapIntensity=DH.lightMapIntensity,this.aoMap=DH.aoMap,this.aoMapIntensity=DH.aoMapIntensity,this.specularMap=DH.specularMap,this.alphaMap=DH.alphaMap,this.envMap=DH.envMap,this.combine=DH.combine,this.reflectivity=DH.reflectivity,this.refractionRatio=DH.refractionRatio,this.wireframe=DH.wireframe,this.wireframeLinewidth=DH.wireframeLinewidth,this.wireframeLinecap=DH.wireframeLinecap,this.wireframeLinejoin=DH.wireframeLinejoin,this}}BH.prototype.isMeshBasicMaterial=!0;const EH=new Jp(),FH=new Xg();class GH{constructor(HH,IH,JH){if(Array.isArray(HH))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=HH,this.itemSize=IH,this.count=void 0!==HH?HH.length/IH:0,this.normalized=!0===JH,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(KH){!0===KH&&this.version++}setUsage(LH){return this.usage=LH,this}copy(MH){return this.name=MH.name,this.array=new MH.array.constructor(MH.array),this.itemSize=MH.itemSize,this.count=MH.count,this.normalized=MH.normalized,this.usage=MH.usage,this}copyAt(NH,OH,PH){NH*=this.itemSize,PH*=OH.itemSize;for(let QH=0,RH=this.itemSize;QH<RH;QH++)this.array[NH+QH]=OH.array[PH+QH];return this}copyArray(SH){return this.array.set(SH),this}copyColorsArray(TH){const UH=this.array;let VH=0;for(let WH=0,XH=TH.length;WH<XH;WH++){let YH=TH[WH];void 0===YH&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",WH),YH=new gG()),UH[VH++]=YH.r,UH[VH++]=YH.g,UH[VH++]=YH.b}return this}copyVector2sArray(ZH){const $H=this.array;let _H=0;for(let aI=0,bI=ZH.length;aI<bI;aI++){let cI=ZH[aI];void 0===cI&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",aI),cI=new Xg()),$H[_H++]=cI.x,$H[_H++]=cI.y}return this}copyVector3sArray(dI){const eI=this.array;let fI=0;for(let gI=0,hI=dI.length;gI<hI;gI++){let iI=dI[gI];void 0===iI&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",gI),iI=new Jp()),eI[fI++]=iI.x,eI[fI++]=iI.y,eI[fI++]=iI.z}return this}copyVector4sArray(jI){const kI=this.array;let lI=0;for(let mI=0,nI=jI.length;mI<nI;mI++){let oI=jI[mI];void 0===oI&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",mI),oI=new Uk()),kI[lI++]=oI.x,kI[lI++]=oI.y,kI[lI++]=oI.z,kI[lI++]=oI.w}return this}applyMatrix3(pI){if(2===this.itemSize)for(let qI=0,rI=this.count;qI<rI;qI++)FH.fromBufferAttribute(this,qI),FH.applyMatrix3(pI),this.setXY(qI,FH.x,FH.y);else if(3===this.itemSize)for(let sI=0,tI=this.count;sI<tI;sI++)EH.fromBufferAttribute(this,sI),EH.applyMatrix3(pI),this.setXYZ(sI,EH.x,EH.y,EH.z);return this}applyMatrix4(uI){for(let vI=0,wI=this.count;vI<wI;vI++)EH.x=this.getX(vI),EH.y=this.getY(vI),EH.z=this.getZ(vI),EH.applyMatrix4(uI),this.setXYZ(vI,EH.x,EH.y,EH.z);return this}applyNormalMatrix(xI){for(let yI=0,zI=this.count;yI<zI;yI++)EH.x=this.getX(yI),EH.y=this.getY(yI),EH.z=this.getZ(yI),EH.applyNormalMatrix(xI),this.setXYZ(yI,EH.x,EH.y,EH.z);return this}transformDirection(AI){for(let BI=0,CI=this.count;BI<CI;BI++)EH.x=this.getX(BI),EH.y=this.getY(BI),EH.z=this.getZ(BI),EH.transformDirection(AI),this.setXYZ(BI,EH.x,EH.y,EH.z);return this}set(DI,EI=0){return this.array.set(DI,EI),this}getX(FI){return this.array[FI*this.itemSize]}setX(GI,HI){return this.array[GI*this.itemSize]=HI,this}getY(II){return this.array[II*this.itemSize+1]}setY(JI,KI){return this.array[JI*this.itemSize+1]=KI,this}getZ(LI){return this.array[LI*this.itemSize+2]}setZ(MI,NI){return this.array[MI*this.itemSize+2]=NI,this}getW(OI){return this.array[OI*this.itemSize+3]}setW(PI,QI){return this.array[PI*this.itemSize+3]=QI,this}setXY(RI,SI,TI){return RI*=this.itemSize,this.array[RI+0]=SI,this.array[RI+1]=TI,this}setXYZ(UI,VI,WI,XI){return UI*=this.itemSize,this.array[UI+0]=VI,this.array[UI+1]=WI,this.array[UI+2]=XI,this}setXYZW(YI,ZI,$I,_I,aJ){return YI*=this.itemSize,this.array[YI+0]=ZI,this.array[YI+1]=$I,this.array[YI+2]=_I,this.array[YI+3]=aJ,this}onUpload(bJ){return this.onUploadCallback=bJ,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const cJ={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(cJ.name=this.name),35044!==this.usage&&(cJ.usage=this.usage),(0!==this.updateRange.offset|| -1!==this.updateRange.count)&&(cJ.updateRange=this.updateRange),cJ}}GH.prototype.isBufferAttribute=!0;class dJ extends GH{constructor(eJ,fJ,gJ){super(new Uint16Array(eJ),fJ,gJ)}}class hJ extends GH{constructor(iJ,jJ,kJ){super(new Uint32Array(iJ),jJ,kJ)}}(class extends GH{constructor(lJ,mJ,nJ){super(new Uint16Array(lJ),mJ,nJ)}}).prototype.isFloat16BufferAttribute=!0;class oJ extends GH{constructor(pJ,qJ,rJ){super(new Float32Array(pJ),qJ,rJ)}}let sJ=0;const tJ=new Wv(),uJ=new $B(),vJ=new Jp(),wJ=new ns(),xJ=new ns(),yJ=new Jp();class zJ extends sg{constructor(){super(),Object.defineProperty(this,"id",{value:sJ++}),this.uuid=Pg(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(AJ){return Array.isArray(AJ)?this.index=new(pk(AJ)>65535?hJ:dJ)(AJ,1):this.index=AJ,this}getAttribute(BJ){return this.attributes[BJ]}setAttribute(CJ,DJ){return this.attributes[CJ]=DJ,this}deleteAttribute(EJ){return delete this.attributes[EJ],this}hasAttribute(FJ){return void 0!==this.attributes[FJ]}addGroup(GJ,HJ,IJ=0){this.groups.push({start:GJ,count:HJ,materialIndex:IJ})}clearGroups(){this.groups=[]}setDrawRange(JJ,KJ){this.drawRange.start=JJ,this.drawRange.count=KJ}applyMatrix4(LJ){const MJ=this.attributes.position;void 0!==MJ&&(MJ.applyMatrix4(LJ),MJ.needsUpdate=!0);const NJ=this.attributes.normal;if(void 0!==NJ){const OJ=new mi().getNormalMatrix(LJ);NJ.applyNormalMatrix(OJ),NJ.needsUpdate=!0}const PJ=this.attributes.tangent;return void 0!==PJ&&(PJ.transformDirection(LJ),PJ.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(QJ){return tJ.makeRotationFromQuaternion(QJ),this.applyMatrix4(tJ),this}rotateX(RJ){return tJ.makeRotationX(RJ),this.applyMatrix4(tJ),this}rotateY(SJ){return tJ.makeRotationY(SJ),this.applyMatrix4(tJ),this}rotateZ(TJ){return tJ.makeRotationZ(TJ),this.applyMatrix4(tJ),this}translate(UJ,VJ,WJ){return tJ.makeTranslation(UJ,VJ,WJ),this.applyMatrix4(tJ),this}scale(XJ,YJ,ZJ){return tJ.makeScale(XJ,YJ,ZJ),this.applyMatrix4(tJ),this}lookAt($J){return uJ.lookAt($J),uJ.updateMatrix(),this.applyMatrix4(uJ.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vJ).negate(),this.translate(vJ.x,vJ.y,vJ.z),this}setFromPoints(_J){const aK=[];for(let bK=0,cK=_J.length;bK<cK;bK++){const dK=_J[bK];aK.push(dK.x,dK.y,dK.z||0)}return this.setAttribute("position",new oJ(aK,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ns());const eK=this.attributes.position,fK=this.morphAttributes.position;if(eK&&eK.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".",this),this.boundingBox.set(new Jp(-1/0,-1/0,-1/0),new Jp(Infinity,Infinity,Infinity));return}if(void 0!==eK){if(this.boundingBox.setFromBufferAttribute(eK),fK)for(let gK=0,hK=fK.length;gK<hK;gK++){const iK=fK[gK];wJ.setFromBufferAttribute(iK),this.morphTargetsRelative?(yJ.addVectors(this.boundingBox.min,wJ.min),this.boundingBox.expandByPoint(yJ),yJ.addVectors(this.boundingBox.max,wJ.max),this.boundingBox.expandByPoint(yJ)):(this.boundingBox.expandByPoint(wJ.min),this.boundingBox.expandByPoint(wJ.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.",this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Tt());const jK=this.attributes.position,kK=this.morphAttributes.position;if(jK&&jK.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".",this),this.boundingSphere.set(new Jp(),1/0);return}if(jK){const lK=this.boundingSphere.center;if(wJ.setFromBufferAttribute(jK),kK)for(let mK=0,nK=kK.length;mK<nK;mK++){const oK=kK[mK];xJ.setFromBufferAttribute(oK),this.morphTargetsRelative?(yJ.addVectors(wJ.min,xJ.min),wJ.expandByPoint(yJ),yJ.addVectors(wJ.max,xJ.max),wJ.expandByPoint(yJ)):(wJ.expandByPoint(xJ.min),wJ.expandByPoint(xJ.max))}wJ.getCenter(lK);let pK=0;for(let qK=0,rK=jK.count;qK<rK;qK++)yJ.fromBufferAttribute(jK,qK),pK=Math.max(pK,lK.distanceToSquared(yJ));if(kK)for(let sK=0,tK=kK.length;sK<tK;sK++){const uK=kK[sK],vK=this.morphTargetsRelative;for(let wK=0,xK=uK.count;wK<xK;wK++)yJ.fromBufferAttribute(uK,wK),vK&&(vJ.fromBufferAttribute(jK,wK),yJ.add(vJ)),pK=Math.max(pK,lK.distanceToSquared(yJ))}this.boundingSphere.radius=Math.sqrt(pK),isNaN(this.boundingSphere.radius)&&console.error("THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.",this)}}computeTangents(){const yK=this.index,zK=this.attributes;if(null===yK|| void 0===zK.position|| void 0===zK.normal|| void 0===zK.uv){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const AK=yK.array,BK=zK.position.array,CK=zK.normal.array,DK=zK.uv.array,EK=BK.length/3;void 0===zK.tangent&&this.setAttribute("tangent",new GH(new Float32Array(4*EK),4));const FK=zK.tangent.array,GK=[],HK=[];for(let IK=0;IK<EK;IK++)GK[IK]=new Jp(),HK[IK]=new Jp();const JK=new Jp(),KK=new Jp(),LK=new Jp(),MK=new Xg(),NK=new Xg(),OK=new Xg(),PK=new Jp(),QK=new Jp();function RK(a,b,c){JK.fromArray(BK,3*a),KK.fromArray(BK,3*b),LK.fromArray(BK,3*c),MK.fromArray(DK,2*a),NK.fromArray(DK,2*b),OK.fromArray(DK,2*c),KK.sub(JK),LK.sub(JK),NK.sub(MK),OK.sub(MK);const d=1/(NK.x*OK.y-OK.x*NK.y);isFinite(d)&&(PK.copy(KK).multiplyScalar(OK.y).addScaledVector(LK,-NK.y).multiplyScalar(d),QK.copy(LK).multiplyScalar(NK.x).addScaledVector(KK,-OK.x).multiplyScalar(d),GK[a].add(PK),GK[b].add(PK),GK[c].add(PK),HK[a].add(QK),HK[b].add(QK),HK[c].add(QK))}let SK=this.groups;0===SK.length&&(SK=[{start:0,count:AK.length}]);for(let TK=0,UK=SK.length;TK<UK;++TK){const VK=SK[TK],WK=VK.start,XK=VK.count;for(let YK=WK,ZK=WK+XK;YK<ZK;YK+=3)RK(AK[YK+0],AK[YK+1],AK[YK+2])}const $K=new Jp(),_K=new Jp(),aL=new Jp(),bL=new Jp();function cL(a){aL.fromArray(CK,3*a),bL.copy(aL);const b=GK[a];$K.copy(b),$K.sub(aL.multiplyScalar(aL.dot(b))).normalize(),_K.crossVectors(bL,b);const c=_K.dot(HK[a]);FK[4*a]=$K.x,FK[4*a+1]=$K.y,FK[4*a+2]=$K.z,FK[4*a+3]=c<0?-1:1}for(let dL=0,eL=SK.length;dL<eL;++dL){const fL=SK[dL],gL=fL.start,hL=fL.count;for(let iL=gL,jL=gL+hL;iL<jL;iL+=3)cL(AK[iL+0]),cL(AK[iL+1]),cL(AK[iL+2])}}computeVertexNormals(){const kL=this.index,lL=this.getAttribute("position");if(void 0!==lL){let mL=this.getAttribute("normal");if(void 0===mL)mL=new GH(new Float32Array(3*lL.count),3),this.setAttribute("normal",mL);else for(let nL=0,oL=mL.count;nL<oL;nL++)mL.setXYZ(nL,0,0,0);const pL=new Jp(),qL=new Jp(),rL=new Jp(),sL=new Jp(),tL=new Jp(),uL=new Jp(),vL=new Jp(),wL=new Jp();if(kL)for(let xL=0,yL=kL.count;xL<yL;xL+=3){const zL=kL.getX(xL+0),AL=kL.getX(xL+1),BL=kL.getX(xL+2);pL.fromBufferAttribute(lL,zL),qL.fromBufferAttribute(lL,AL),rL.fromBufferAttribute(lL,BL),vL.subVectors(rL,qL),wL.subVectors(pL,qL),vL.cross(wL),sL.fromBufferAttribute(mL,zL),tL.fromBufferAttribute(mL,AL),uL.fromBufferAttribute(mL,BL),sL.add(vL),tL.add(vL),uL.add(vL),mL.setXYZ(zL,sL.x,sL.y,sL.z),mL.setXYZ(AL,tL.x,tL.y,tL.z),mL.setXYZ(BL,uL.x,uL.y,uL.z)}else for(let CL=0,DL=lL.count;CL<DL;CL+=3)pL.fromBufferAttribute(lL,CL+0),qL.fromBufferAttribute(lL,CL+1),rL.fromBufferAttribute(lL,CL+2),vL.subVectors(rL,qL),wL.subVectors(pL,qL),vL.cross(wL),mL.setXYZ(CL+0,vL.x,vL.y,vL.z),mL.setXYZ(CL+1,vL.x,vL.y,vL.z),mL.setXYZ(CL+2,vL.x,vL.y,vL.z);this.normalizeNormals(),mL.needsUpdate=!0}}merge(EL,FL){if(!(EL&&EL.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",EL);return}void 0===FL&&(FL=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const GL=this.attributes;for(const HL in GL){if(void 0===EL.attributes[HL])continue;const IL=GL[HL],JL=IL.array,KL=EL.attributes[HL],LL=KL.array,ML=KL.itemSize*FL,NL=Math.min(LL.length,JL.length-ML);for(let OL=0,PL=ML;OL<NL;OL++,PL++)JL[PL]=LL[OL]}return this}normalizeNormals(){const QL=this.attributes.normal;for(let RL=0,SL=QL.count;RL<SL;RL++)yJ.fromBufferAttribute(QL,RL),yJ.normalize(),QL.setXYZ(RL,yJ.x,yJ.y,yJ.z)}toNonIndexed(){function TL(a,b){const c=a.array,d=a.itemSize,e=a.normalized,f=new c.constructor(b.length*d);let g=0,h=0;for(let i=0,j=b.length;i<j;i++){g=a.isInterleavedBufferAttribute?b[i]*a.data.stride+a.offset:b[i]*d;for(let k=0;k<d;k++)f[h++]=c[g++]}return new GH(f,d,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const UL=new zJ(),VL=this.index.array,WL=this.attributes;for(const XL in WL){const YL=WL[XL],ZL=TL(YL,VL);UL.setAttribute(XL,ZL)}const $L=this.morphAttributes;for(const _L in $L){const aM=[],bM=$L[_L];for(let cM=0,dM=bM.length;cM<dM;cM++){const eM=bM[cM],fM=TL(eM,VL);aM.push(fM)}UL.morphAttributes[_L]=aM}UL.morphTargetsRelative=this.morphTargetsRelative;const gM=this.groups;for(let hM=0,iM=gM.length;hM<iM;hM++){const jM=gM[hM];UL.addGroup(jM.start,jM.count,jM.materialIndex)}return UL}toJSON(){const kM={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(kM.uuid=this.uuid,kM.type=this.type,""!==this.name&&(kM.name=this.name),Object.keys(this.userData).length>0&&(kM.userData=this.userData),void 0!==this.parameters){const lM=this.parameters;for(const mM in lM)void 0!==lM[mM]&&(kM[mM]=lM[mM]);return kM}kM.data={attributes:{}};const nM=this.index;null!==nM&&(kM.data.index={type:nM.array.constructor.name,array:Array.prototype.slice.call(nM.array)});const oM=this.attributes;for(const pM in oM){const qM=oM[pM];kM.data.attributes[pM]=qM.toJSON(kM.data)}const rM={};let sM=!1;for(const tM in this.morphAttributes){const uM=this.morphAttributes[tM],vM=[];for(let wM=0,xM=uM.length;wM<xM;wM++){const yM=uM[wM];vM.push(yM.toJSON(kM.data))}vM.length>0&&(rM[tM]=vM,sM=!0)}sM&&(kM.data.morphAttributes=rM,kM.data.morphTargetsRelative=this.morphTargetsRelative);const zM=this.groups;zM.length>0&&(kM.data.groups=JSON.parse(JSON.stringify(zM)));const AM=this.boundingSphere;return null!==AM&&(kM.data.boundingSphere={center:AM.center.toArray(),radius:AM.radius}),kM}clone(){return new this.constructor().copy(this)}copy(BM){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const CM={};this.name=BM.name;const DM=BM.index;null!==DM&&this.setIndex(DM.clone(CM));const EM=BM.attributes;for(const FM in EM){const GM=EM[FM];this.setAttribute(FM,GM.clone(CM))}const HM=BM.morphAttributes;for(const IM in HM){const JM=[],KM=HM[IM];for(let LM=0,MM=KM.length;LM<MM;LM++)JM.push(KM[LM].clone(CM));this.morphAttributes[IM]=JM}this.morphTargetsRelative=BM.morphTargetsRelative;const NM=BM.groups;for(let OM=0,PM=NM.length;OM<PM;OM++){const QM=NM[OM];this.addGroup(QM.start,QM.count,QM.materialIndex)}const RM=BM.boundingBox;null!==RM&&(this.boundingBox=RM.clone());const SM=BM.boundingSphere;return null!==SM&&(this.boundingSphere=SM.clone()),this.drawRange.start=BM.drawRange.start,this.drawRange.count=BM.drawRange.count,this.userData=BM.userData,void 0!==BM.parameters&&(this.parameters=Object.assign({},BM.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}zJ.prototype.isBufferGeometry=!0;const TM=new Wv(),UM=new Cu(),VM=new Tt(),WM=new Jp(),XM=new Jp(),YM=new Jp(),ZM=new Jp(),$M=new Jp(),_M=new Jp(),aN=new Jp(),bN=new Jp(),cN=new Jp(),dN=new Xg(),eN=new Xg(),fN=new Xg(),gN=new Jp(),hN=new Jp();class iN extends $B{constructor(jN=new zJ(),kN=new BH()){super(),this.type="Mesh",this.geometry=jN,this.material=kN,this.updateMorphTargets()}copy(lN){return super.copy(lN),void 0!==lN.morphTargetInfluences&&(this.morphTargetInfluences=lN.morphTargetInfluences.slice()),void 0!==lN.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},lN.morphTargetDictionary)),this.material=lN.material,this.geometry=lN.geometry,this}updateMorphTargets(){const mN=this.geometry;if(mN.isBufferGeometry){const nN=mN.morphAttributes,oN=Object.keys(nN);if(oN.length>0){const pN=nN[oN[0]];if(void 0!==pN){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let qN=0,rN=pN.length;qN<rN;qN++){const sN=pN[qN].name||String(qN);this.morphTargetInfluences.push(0),this.morphTargetDictionary[sN]=qN}}}}else{const tN=mN.morphTargets;void 0!==tN&&tN.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(uN,vN){const wN=this.geometry,xN=this.material,yN=this.matrixWorld;if(void 0===xN)return;if(null===wN.boundingSphere&&wN.computeBoundingSphere(),VM.copy(wN.boundingSphere),VM.applyMatrix4(yN),!1===uN.ray.intersectsSphere(VM))return;if(TM.copy(yN).invert(),UM.copy(uN.ray).applyMatrix4(TM),null!==wN.boundingBox&& !1===UM.intersectsBox(wN.boundingBox))return;let zN;if(wN.isBufferGeometry){const AN=wN.index,BN=wN.attributes.position,CN=wN.morphAttributes.position,DN=wN.morphTargetsRelative,EN=wN.attributes.uv,FN=wN.attributes.uv2,GN=wN.groups,HN=wN.drawRange;if(null!==AN)if(Array.isArray(xN))for(let IN=0,JN=GN.length;IN<JN;IN++){const KN=GN[IN],LN=xN[KN.materialIndex],MN=Math.max(KN.start,HN.start),NN=Math.min(AN.count,Math.min(KN.start+KN.count,HN.start+HN.count));for(let ON=MN,PN=NN;ON<PN;ON+=3){const QN=AN.getX(ON),RN=AN.getX(ON+1),SN=AN.getX(ON+2);(zN=qO(this,LN,uN,UM,BN,CN,DN,EN,FN,QN,RN,SN))&&(zN.faceIndex=Math.floor(ON/3),zN.face.materialIndex=KN.materialIndex,vN.push(zN))}}else{const TN=Math.max(0,HN.start),UN=Math.min(AN.count,HN.start+HN.count);for(let VN=TN,WN=UN;VN<WN;VN+=3){const XN=AN.getX(VN),YN=AN.getX(VN+1),ZN=AN.getX(VN+2);(zN=qO(this,xN,uN,UM,BN,CN,DN,EN,FN,XN,YN,ZN))&&(zN.faceIndex=Math.floor(VN/3),vN.push(zN))}}else if(void 0!==BN)if(Array.isArray(xN))for(let $N=0,_N=GN.length;$N<_N;$N++){const aO=GN[$N],bO=xN[aO.materialIndex],cO=Math.max(aO.start,HN.start),dO=Math.min(BN.count,Math.min(aO.start+aO.count,HN.start+HN.count));for(let eO=cO,fO=dO;eO<fO;eO+=3){const gO=eO,hO=eO+1,iO=eO+2;(zN=qO(this,bO,uN,UM,BN,CN,DN,EN,FN,gO,hO,iO))&&(zN.faceIndex=Math.floor(eO/3),zN.face.materialIndex=aO.materialIndex,vN.push(zN))}}else{const jO=Math.max(0,HN.start),kO=Math.min(BN.count,HN.start+HN.count);for(let lO=jO,mO=kO;lO<mO;lO+=3){const nO=lO,oO=lO+1,pO=lO+2;(zN=qO(this,xN,uN,UM,BN,CN,DN,EN,FN,nO,oO,pO))&&(zN.faceIndex=Math.floor(lO/3),vN.push(zN))}}}else wN.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function qO(a,b,c,d,e,f,g,h,i,j,k,l){WM.fromBufferAttribute(e,j),XM.fromBufferAttribute(e,k),YM.fromBufferAttribute(e,l);const m=a.morphTargetInfluences;if(f&&m){aN.set(0,0,0),bN.set(0,0,0),cN.set(0,0,0);for(let n=0,o=f.length;n<o;n++){const p=m[n],q=f[n];0!==p&&(ZM.fromBufferAttribute(q,j),$M.fromBufferAttribute(q,k),_M.fromBufferAttribute(q,l),g?(aN.addScaledVector(ZM,p),bN.addScaledVector($M,p),cN.addScaledVector(_M,p)):(aN.addScaledVector(ZM.sub(WM),p),bN.addScaledVector($M.sub(XM),p),cN.addScaledVector(_M.sub(YM),p)))}WM.add(aN),XM.add(bN),YM.add(cN)}a.isSkinnedMesh&&(a.boneTransform(j,WM),a.boneTransform(k,XM),a.boneTransform(l,YM));const r=function(a,b,c,d,e,f,g,h){if(null===(b.side===qg?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,2!==b.side,h)))return null;hN.copy(h),hN.applyMatrix4(a.matrixWorld);const i=c.ray.origin.distanceTo(hN);return i<c.near||i>c.far?null:{distance:i,point:hN.clone(),object:a}}(a,b,c,d,WM,XM,YM,gN);if(r){h&&(dN.fromBufferAttribute(h,j),eN.fromBufferAttribute(h,k),fN.fromBufferAttribute(h,l),r.uv=hE.getUV(gN,WM,XM,YM,dN,eN,fN,new Xg())),i&&(dN.fromBufferAttribute(i,j),eN.fromBufferAttribute(i,k),fN.fromBufferAttribute(i,l),r.uv2=hE.getUV(gN,WM,XM,YM,dN,eN,fN,new Xg()));const s={a:j,b:k,c:l,normal:new Jp(),materialIndex:0};hE.getNormal(WM,XM,YM,s.normal),r.face=s}return r}iN.prototype.isMesh=!0;class rO extends zJ{constructor(sO=1,tO=1,uO=1,vO=1,wO=1,xO=1){super(),this.type="BoxGeometry",this.parameters={width:sO,height:tO,depth:uO,widthSegments:vO,heightSegments:wO,depthSegments:xO};const yO=this;vO=Math.floor(vO),wO=Math.floor(wO),xO=Math.floor(xO);const zO=[],AO=[],BO=[],CO=[];let DO=0,EO=0;function FO(a,b,c,d,e,f,g,h,i,j,k){const l=f/i,m=g/j,n=f/2,o=g/2,p=h/2,q=i+1,r=j+1;let s=0,t=0;const u=new Jp();for(let v=0;v<r;v++){const w=v*m-o;for(let x=0;x<q;x++){const y=x*l-n;u[a]=y*d,u[b]=w*e,u[c]=p,AO.push(u.x,u.y,u.z),u[a]=0,u[b]=0,u[c]=h>0?1:-1,BO.push(u.x,u.y,u.z),CO.push(x/i),CO.push(1-v/j),s+=1}}for(let z=0;z<j;z++)for(let A=0;A<i;A++){const B=DO+A+q*z,C=DO+A+q*(z+1),D=DO+(A+1)+q*(z+1),E=DO+(A+1)+q*z;zO.push(B,C,E),zO.push(C,D,E),t+=6}yO.addGroup(EO,t,k),EO+=t,DO+=s}FO("z","y","x",-1,-1,uO,tO,sO,xO,wO,0),FO("z","y","x",1,-1,uO,tO,-sO,xO,wO,1),FO("x","z","y",1,1,sO,uO,tO,vO,xO,2),FO("x","z","y",1,-1,sO,uO,-tO,vO,xO,3),FO("x","y","z",1,-1,sO,tO,uO,vO,wO,4),FO("x","y","z",-1,-1,sO,tO,-uO,vO,wO,5),this.setIndex(zO),this.setAttribute("position",new oJ(AO,3)),this.setAttribute("normal",new oJ(BO,3)),this.setAttribute("uv",new oJ(CO,2))}static fromJSON(GO){return new rO(GO.width,GO.height,GO.depth,GO.widthSegments,GO.heightSegments,GO.depthSegments)}}function HO(a){const b={};for(const c in a)for(const d in b[c]={},a[c]){const e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture||e.isQuaternion)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}return b}function IO(a){const b={};for(let c=0;c<a.length;c++){const d=HO(a[c]);for(const e in d)b[e]=d[e]}return b}const JO={clone:HO,merge:IO};class KO extends KF{constructor(LO){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==LO&&(void 0!==LO.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(LO))}copy(MO){return super.copy(MO),this.fragmentShader=MO.fragmentShader,this.vertexShader=MO.vertexShader,this.uniforms=HO(MO.uniforms),this.defines=Object.assign({},MO.defines),this.wireframe=MO.wireframe,this.wireframeLinewidth=MO.wireframeLinewidth,this.lights=MO.lights,this.clipping=MO.clipping,this.extensions=Object.assign({},MO.extensions),this.glslVersion=MO.glslVersion,this}toJSON(NO){const OO=super.toJSON(NO);for(const PO in OO.glslVersion=this.glslVersion,OO.uniforms={},this.uniforms){const QO=this.uniforms[PO],RO=QO.value;RO&&RO.isTexture?OO.uniforms[PO]={type:"t",value:RO.toJSON(NO).uuid}:RO&&RO.isColor?OO.uniforms[PO]={type:"c",value:RO.getHex()}:RO&&RO.isVector2?OO.uniforms[PO]={type:"v2",value:RO.toArray()}:RO&&RO.isVector3?OO.uniforms[PO]={type:"v3",value:RO.toArray()}:RO&&RO.isVector4?OO.uniforms[PO]={type:"v4",value:RO.toArray()}:RO&&RO.isMatrix3?OO.uniforms[PO]={type:"m3",value:RO.toArray()}:RO&&RO.isMatrix4?OO.uniforms[PO]={type:"m4",value:RO.toArray()}:OO.uniforms[PO]={value:RO}}Object.keys(this.defines).length>0&&(OO.defines=this.defines),OO.vertexShader=this.vertexShader,OO.fragmentShader=this.fragmentShader;const SO={};for(const TO in this.extensions)!0===this.extensions[TO]&&(SO[TO]=!0);return Object.keys(SO).length>0&&(OO.extensions=SO),OO}}KO.prototype.isShaderMaterial=!0;class UO extends $B{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Wv(),this.projectionMatrix=new Wv(),this.projectionMatrixInverse=new Wv()}copy(VO,WO){return super.copy(VO,WO),this.matrixWorldInverse.copy(VO.matrixWorldInverse),this.projectionMatrix.copy(VO.projectionMatrix),this.projectionMatrixInverse.copy(VO.projectionMatrixInverse),this}getWorldDirection(XO){this.updateWorldMatrix(!0,!1);const YO=this.matrixWorld.elements;return XO.set(-YO[8],-YO[9],-YO[10]).normalize()}updateMatrixWorld(ZO){super.updateMatrixWorld(ZO),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix($O,_O){super.updateWorldMatrix($O,_O),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}UO.prototype.isCamera=!0;class aP extends UO{constructor(bP=50,cP=1,dP=.1,eP=2e3){super(),this.type="PerspectiveCamera",this.fov=bP,this.zoom=1,this.near=dP,this.far=eP,this.focus=10,this.aspect=cP,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(fP,gP){return super.copy(fP,gP),this.fov=fP.fov,this.zoom=fP.zoom,this.near=fP.near,this.far=fP.far,this.focus=fP.focus,this.aspect=fP.aspect,this.view=null===fP.view?null:Object.assign({},fP.view),this.filmGauge=fP.filmGauge,this.filmOffset=fP.filmOffset,this}setFocalLength(hP){const iP=.5*this.getFilmHeight()/hP;this.fov=2*Og*Math.atan(iP),this.updateProjectionMatrix()}getFocalLength(){const jP=Math.tan(.5*Ng*this.fov);return .5*this.getFilmHeight()/jP}getEffectiveFOV(){return 2*Og*Math.atan(Math.tan(.5*Ng*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(kP,lP,mP,nP,oP,pP){this.aspect=kP/lP,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=kP,this.view.fullHeight=lP,this.view.offsetX=mP,this.view.offsetY=nP,this.view.width=oP,this.view.height=pP,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const qP=this.near;let rP=qP*Math.tan(.5*Ng*this.fov)/this.zoom,sP=2*rP,tP=this.aspect*sP,uP=-0.5*tP;const vP=this.view;if(null!==this.view&&this.view.enabled){const wP=vP.fullWidth,xP=vP.fullHeight;uP+=vP.offsetX*tP/wP,rP-=vP.offsetY*sP/xP,tP*=vP.width/wP,sP*=vP.height/xP}const yP=this.filmOffset;0!==yP&&(uP+=qP*yP/this.getFilmWidth()),this.projectionMatrix.makePerspective(uP,uP+tP,rP,rP-sP,qP,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(zP){const AP=super.toJSON(zP);return AP.object.fov=this.fov,AP.object.zoom=this.zoom,AP.object.near=this.near,AP.object.far=this.far,AP.object.focus=this.focus,AP.object.aspect=this.aspect,null!==this.view&&(AP.object.view=Object.assign({},this.view)),AP.object.filmGauge=this.filmGauge,AP.object.filmOffset=this.filmOffset,AP}}aP.prototype.isPerspectiveCamera=!0;class BP extends $B{constructor(CP,DP,EP){if(super(),this.type="CubeCamera",!0!==EP.isWebGLCubeRenderTarget){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=EP;const FP=new aP(90,1,CP,DP);FP.layers=this.layers,FP.up.set(0,-1,0),FP.lookAt(new Jp(1,0,0)),this.add(FP);const GP=new aP(90,1,CP,DP);GP.layers=this.layers,GP.up.set(0,-1,0),GP.lookAt(new Jp(-1,0,0)),this.add(GP);const HP=new aP(90,1,CP,DP);HP.layers=this.layers,HP.up.set(0,0,1),HP.lookAt(new Jp(0,1,0)),this.add(HP);const IP=new aP(90,1,CP,DP);IP.layers=this.layers,IP.up.set(0,0,-1),IP.lookAt(new Jp(0,-1,0)),this.add(IP);const JP=new aP(90,1,CP,DP);JP.layers=this.layers,JP.up.set(0,-1,0),JP.lookAt(new Jp(0,0,1)),this.add(JP);const KP=new aP(90,1,CP,DP);KP.layers=this.layers,KP.up.set(0,-1,0),KP.lookAt(new Jp(0,0,-1)),this.add(KP)}update(LP,MP){null===this.parent&&this.updateMatrixWorld();const NP=this.renderTarget,[OP,PP,QP,RP,SP,TP]=this.children,UP=LP.xr.enabled,VP=LP.getRenderTarget();LP.xr.enabled=!1;const WP=NP.texture.generateMipmaps;NP.texture.generateMipmaps=!1,LP.setRenderTarget(NP,0),LP.render(MP,OP),LP.setRenderTarget(NP,1),LP.render(MP,PP),LP.setRenderTarget(NP,2),LP.render(MP,QP),LP.setRenderTarget(NP,3),LP.render(MP,RP),LP.setRenderTarget(NP,4),LP.render(MP,SP),NP.texture.generateMipmaps=WP,LP.setRenderTarget(NP,5),LP.render(MP,TP),LP.setRenderTarget(VP),LP.xr.enabled=UP}}class XP extends yk{constructor(YP,ZP,$P,_P,aQ,bQ,cQ,dQ,eQ,fQ){super(YP=void 0!==YP?YP:[],ZP=void 0!==ZP?ZP:301,$P,_P,aQ,bQ,cQ,dQ,eQ,fQ),this.flipY=!1}get images(){return this.image}set images(gQ){this.image=gQ}}XP.prototype.isCubeTexture=!0;class hQ extends Bm{constructor(iQ,jQ,kQ){Number.isInteger(jQ)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),jQ=kQ),super(iQ,iQ,jQ),jQ=jQ||{},this.texture=new XP(void 0,jQ.mapping,jQ.wrapS,jQ.wrapT,jQ.magFilter,jQ.minFilter,jQ.format,jQ.type,jQ.anisotropy,jQ.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==jQ.generateMipmaps&&jQ.generateMipmaps,this.texture.minFilter=void 0!==jQ.minFilter?jQ.minFilter:1006,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(lQ,mQ){this.texture.type=mQ.type,this.texture.format=1023,this.texture.encoding=mQ.encoding,this.texture.generateMipmaps=mQ.generateMipmaps,this.texture.minFilter=mQ.minFilter,this.texture.magFilter=mQ.magFilter;const nQ={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},oQ=new rO(5,5,5),pQ=new KO({name:"CubemapFromEquirect",uniforms:HO(nQ.uniforms),vertexShader:nQ.vertexShader,fragmentShader:nQ.fragmentShader,side:qg,blending:0});pQ.uniforms.tEquirect.value=mQ;const qQ=new iN(oQ,pQ),rQ=mQ.minFilter;1008===mQ.minFilter&&(mQ.minFilter=1006);const sQ=new BP(1,10,this);return sQ.update(lQ,qQ),mQ.minFilter=rQ,qQ.geometry.dispose(),qQ.material.dispose(),this}clear(tQ,uQ,vQ,wQ){const xQ=tQ.getRenderTarget();for(let yQ=0;yQ<6;yQ++)tQ.setRenderTarget(this,yQ),tQ.clear(uQ,vQ,wQ);tQ.setRenderTarget(xQ)}}hQ.prototype.isWebGLCubeRenderTarget=!0;const zQ=new Jp(),AQ=new Jp(),BQ=new mi();class CQ{constructor(DQ=new Jp(1,0,0),EQ=0){this.normal=DQ,this.constant=EQ}set(FQ,GQ){return this.normal.copy(FQ),this.constant=GQ,this}setComponents(HQ,IQ,JQ,KQ){return this.normal.set(HQ,IQ,JQ),this.constant=KQ,this}setFromNormalAndCoplanarPoint(LQ,MQ){return this.normal.copy(LQ),this.constant=-MQ.dot(this.normal),this}setFromCoplanarPoints(NQ,OQ,PQ){const QQ=zQ.subVectors(PQ,OQ).cross(AQ.subVectors(NQ,OQ)).normalize();return this.setFromNormalAndCoplanarPoint(QQ,NQ),this}copy(RQ){return this.normal.copy(RQ.normal),this.constant=RQ.constant,this}normalize(){const SQ=1/this.normal.length();return this.normal.multiplyScalar(SQ),this.constant*=SQ,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(TQ){return this.normal.dot(TQ)+this.constant}distanceToSphere(UQ){return this.distanceToPoint(UQ.center)-UQ.radius}projectPoint(VQ,WQ){return WQ.copy(this.normal).multiplyScalar(-this.distanceToPoint(VQ)).add(VQ)}intersectLine(XQ,YQ){const ZQ=XQ.delta(zQ),$Q=this.normal.dot(ZQ);if(0===$Q)return 0===this.distanceToPoint(XQ.start)?YQ.copy(XQ.start):null;const _Q=-(XQ.start.dot(this.normal)+this.constant)/$Q;return _Q<0||_Q>1?null:YQ.copy(ZQ).multiplyScalar(_Q).add(XQ.start)}intersectsLine(aR){const bR=this.distanceToPoint(aR.start),cR=this.distanceToPoint(aR.end);return bR<0&&cR>0||cR<0&&bR>0}intersectsBox(dR){return dR.intersectsPlane(this)}intersectsSphere(eR){return eR.intersectsPlane(this)}coplanarPoint(fR){return fR.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(gR,hR){const iR=hR||BQ.getNormalMatrix(gR),jR=this.coplanarPoint(zQ).applyMatrix4(gR),kR=this.normal.applyMatrix3(iR).normalize();return this.constant=-jR.dot(kR),this}translate(lR){return this.constant-=lR.dot(this.normal),this}equals(mR){return mR.normal.equals(this.normal)&&mR.constant===this.constant}clone(){return new this.constructor().copy(this)}}CQ.prototype.isPlane=!0;const nR=new Tt(),oR=new Jp();class pR{constructor(qR=new CQ(),rR=new CQ(),sR=new CQ(),tR=new CQ(),uR=new CQ(),vR=new CQ()){this.planes=[qR,rR,sR,tR,uR,vR]}set(wR,xR,yR,zR,AR,BR){const CR=this.planes;return CR[0].copy(wR),CR[1].copy(xR),CR[2].copy(yR),CR[3].copy(zR),CR[4].copy(AR),CR[5].copy(BR),this}copy(DR){const ER=this.planes;for(let FR=0;FR<6;FR++)ER[FR].copy(DR.planes[FR]);return this}setFromProjectionMatrix(GR){const HR=this.planes,IR=GR.elements,JR=IR[0],KR=IR[1],LR=IR[2],MR=IR[3],NR=IR[4],OR=IR[5],PR=IR[6],QR=IR[7],RR=IR[8],SR=IR[9],TR=IR[10],UR=IR[11],VR=IR[12],WR=IR[13],XR=IR[14],YR=IR[15];return HR[0].setComponents(MR-JR,QR-NR,UR-RR,YR-VR).normalize(),HR[1].setComponents(MR+JR,QR+NR,UR+RR,YR+VR).normalize(),HR[2].setComponents(MR+KR,QR+OR,UR+SR,YR+WR).normalize(),HR[3].setComponents(MR-KR,QR-OR,UR-SR,YR-WR).normalize(),HR[4].setComponents(MR-LR,QR-PR,UR-TR,YR-XR).normalize(),HR[5].setComponents(MR+LR,QR+PR,UR+TR,YR+XR).normalize(),this}intersectsObject(ZR){const $R=ZR.geometry;return null===$R.boundingSphere&&$R.computeBoundingSphere(),nR.copy($R.boundingSphere).applyMatrix4(ZR.matrixWorld),this.intersectsSphere(nR)}intersectsSprite(_R){return nR.center.set(0,0,0),nR.radius=.7071067811865476,nR.applyMatrix4(_R.matrixWorld),this.intersectsSphere(nR)}intersectsSphere(aS){const bS=this.planes,cS=aS.center,dS=-aS.radius;for(let eS=0;eS<6;eS++){const fS=bS[eS].distanceToPoint(cS);if(fS<dS)return!1}return!0}intersectsBox(gS){const hS=this.planes;for(let iS=0;iS<6;iS++){const jS=hS[iS];if(oR.x=jS.normal.x>0?gS.max.x:gS.min.x,oR.y=jS.normal.y>0?gS.max.y:gS.min.y,oR.z=jS.normal.z>0?gS.max.z:gS.min.z,0>jS.distanceToPoint(oR))return!1}return!0}containsPoint(kS){const lS=this.planes;for(let mS=0;mS<6;mS++)if(0>lS[mS].distanceToPoint(kS))return!1;return!0}clone(){return new this.constructor().copy(this)}}function nS(){let a=null,b=!1,c=null,d=null;function e(b,f){c(b,f),d=a.requestAnimationFrame(e)}return{start:function(){!0!==b&&null!==c&&(d=a.requestAnimationFrame(e),b=!0)},stop:function(){a.cancelAnimationFrame(d),b=!1},setAnimationLoop:function(a){c=a},setContext:function(b){a=b}}}function oS(a,b){const c=b.isWebGL2,d=new WeakMap();return{get:function(a){return a.isInterleavedBufferAttribute&&(a=a.data),d.get(a)},remove:function(b){b.isInterleavedBufferAttribute&&(b=b.data);const c=d.get(b);c&&(a.deleteBuffer(c.buffer),d.delete(b))},update:function(b,e){if(b.isGLBufferAttribute){const f=d.get(b);(!f||f.version<b.version)&&d.set(b,{buffer:b.buffer,type:b.type,bytesPerElement:b.elementSize,version:b.version});return}b.isInterleavedBufferAttribute&&(b=b.data);const g=d.get(b);void 0===g?d.set(b,function(b,d){const e=b.array,f=b.usage,g=a.createBuffer();a.bindBuffer(d,g),a.bufferData(d,e,f),b.onUploadCallback();let h=5126;return e instanceof Float32Array?h=5126:e instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):e instanceof Uint16Array?b.isFloat16BufferAttribute?c?h=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):h=5123:e instanceof Int16Array?h=5122:e instanceof Uint32Array?h=5125:e instanceof Int32Array?h=5124:e instanceof Int8Array?h=5120:e instanceof Uint8Array?h=5121:e instanceof Uint8ClampedArray&&(h=5121),{buffer:g,type:h,bytesPerElement:e.BYTES_PER_ELEMENT,version:b.version}}(b,e)):g.version<b.version&&(!function(b,d,e){const f=d.array,g=d.updateRange;a.bindBuffer(e,b),-1===g.count?a.bufferSubData(e,0,f):(c?a.bufferSubData(e,g.offset*f.BYTES_PER_ELEMENT,f,g.offset,g.count):a.bufferSubData(e,g.offset*f.BYTES_PER_ELEMENT,f.subarray(g.offset,g.offset+g.count)),g.count=-1)}(g.buffer,b,e),g.version=b.version)}}}class pS extends zJ{constructor(qS=1,rS=1,sS=1,tS=1){super(),this.type="PlaneGeometry",this.parameters={width:qS,height:rS,widthSegments:sS,heightSegments:tS};const uS=qS/2,vS=rS/2,wS=Math.floor(sS),xS=Math.floor(tS),yS=wS+1,zS=xS+1,AS=qS/wS,BS=rS/xS,CS=[],DS=[],ES=[],FS=[];for(let GS=0;GS<zS;GS++){const HS=GS*BS-vS;for(let IS=0;IS<yS;IS++){const JS=IS*AS-uS;DS.push(JS,-HS,0),ES.push(0,0,1),FS.push(IS/wS),FS.push(1-GS/xS)}}for(let KS=0;KS<xS;KS++)for(let LS=0;LS<wS;LS++){const MS=LS+yS*KS,NS=LS+yS*(KS+1),OS=LS+1+yS*(KS+1),PS=LS+1+yS*KS;CS.push(MS,NS,PS),CS.push(NS,OS,PS)}this.setIndex(CS),this.setAttribute("position",new oJ(DS,3)),this.setAttribute("normal",new oJ(ES,3)),this.setAttribute("uv",new oJ(FS,2))}static fromJSON(QS){return new pS(QS.width,QS.height,QS.widthSegments,QS.heightSegments)}}const RS={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},SS={common:{diffuse:{value:new gG(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new mi()},uv2Transform:{value:new mi()},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Xg(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gG(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gG(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mi()}},sprite:{diffuse:{value:new gG(16777215)},opacity:{value:1},center:{value:new Xg(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mi()}}},TS={basic:{uniforms:IO([SS.common,SS.specularmap,SS.envmap,SS.aomap,SS.lightmap,SS.fog]),vertexShader:RS.meshbasic_vert,fragmentShader:RS.meshbasic_frag},lambert:{uniforms:IO([SS.common,SS.specularmap,SS.envmap,SS.aomap,SS.lightmap,SS.emissivemap,SS.fog,SS.lights,{emissive:{value:new gG(0)}}]),vertexShader:RS.meshlambert_vert,fragmentShader:RS.meshlambert_frag},phong:{uniforms:IO([SS.common,SS.specularmap,SS.envmap,SS.aomap,SS.lightmap,SS.emissivemap,SS.bumpmap,SS.normalmap,SS.displacementmap,SS.fog,SS.lights,{emissive:{value:new gG(0)},specular:{value:new gG(1118481)},shininess:{value:30}}]),vertexShader:RS.meshphong_vert,fragmentShader:RS.meshphong_frag},standard:{uniforms:IO([SS.common,SS.envmap,SS.aomap,SS.lightmap,SS.emissivemap,SS.bumpmap,SS.normalmap,SS.displacementmap,SS.roughnessmap,SS.metalnessmap,SS.fog,SS.lights,{emissive:{value:new gG(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:RS.meshphysical_vert,fragmentShader:RS.meshphysical_frag},toon:{uniforms:IO([SS.common,SS.aomap,SS.lightmap,SS.emissivemap,SS.bumpmap,SS.normalmap,SS.displacementmap,SS.gradientmap,SS.fog,SS.lights,{emissive:{value:new gG(0)}}]),vertexShader:RS.meshtoon_vert,fragmentShader:RS.meshtoon_frag},matcap:{uniforms:IO([SS.common,SS.bumpmap,SS.normalmap,SS.displacementmap,SS.fog,{matcap:{value:null}}]),vertexShader:RS.meshmatcap_vert,fragmentShader:RS.meshmatcap_frag},points:{uniforms:IO([SS.points,SS.fog]),vertexShader:RS.points_vert,fragmentShader:RS.points_frag},dashed:{uniforms:IO([SS.common,SS.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:RS.linedashed_vert,fragmentShader:RS.linedashed_frag},depth:{uniforms:IO([SS.common,SS.displacementmap]),vertexShader:RS.depth_vert,fragmentShader:RS.depth_frag},normal:{uniforms:IO([SS.common,SS.bumpmap,SS.normalmap,SS.displacementmap,{opacity:{value:1}}]),vertexShader:RS.meshnormal_vert,fragmentShader:RS.meshnormal_frag},sprite:{uniforms:IO([SS.sprite,SS.fog]),vertexShader:RS.sprite_vert,fragmentShader:RS.sprite_frag},background:{uniforms:{uvTransform:{value:new mi()},t2D:{value:null}},vertexShader:RS.background_vert,fragmentShader:RS.background_frag},cube:{uniforms:IO([SS.envmap,{opacity:{value:1}}]),vertexShader:RS.cube_vert,fragmentShader:RS.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:RS.equirect_vert,fragmentShader:RS.equirect_frag},distanceRGBA:{uniforms:IO([SS.common,SS.displacementmap,{referencePosition:{value:new Jp()},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:RS.distanceRGBA_vert,fragmentShader:RS.distanceRGBA_frag},shadow:{uniforms:IO([SS.lights,SS.fog,{color:{value:new gG(0)},opacity:{value:1}},]),vertexShader:RS.shadow_vert,fragmentShader:RS.shadow_frag}};function US(a,b,c,d,e){const f=new gG(0);let g=0,h,i,j=null,k=0,l=null;function m(a,b){c.buffers.color.setClear(a.r,a.g,a.b,b,e)}return{getClearColor:function(){return f},setClearColor:function(a,b=1){f.set(a),m(f,g=b)},getClearAlpha:function(){return g},setClearAlpha:function(a){m(f,g=a)},render:function(c,e){let n=!1,o=!0===e.isScene?e.background:null;o&&o.isTexture&&(o=b.get(o));const p=a.xr,q=p.getSession&&p.getSession();q&&"additive"===q.environmentBlendMode&&(o=null),null===o?m(f,g):o&&o.isColor&&(m(o,1),n=!0),(a.autoClear||n)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),o&&(o.isCubeTexture||306===o.mapping)?(void 0===i&&((i=new iN(new rO(1,1,1),new KO({name:"BackgroundCubeMaterial",uniforms:HO(TS.cube.uniforms),vertexShader:TS.cube.vertexShader,fragmentShader:TS.cube.fragmentShader,side:qg,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),i.geometry.deleteAttribute("uv"),i.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},Object.defineProperty(i.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(i)),i.material.uniforms.envMap.value=o,i.material.uniforms.flipEnvMap.value=o.isCubeTexture&& !1===o.isRenderTargetTexture?-1:1,(j!==o||k!==o.version||l!==a.toneMapping)&&(i.material.needsUpdate=!0,j=o,k=o.version,l=a.toneMapping),c.unshift(i,i.geometry,i.material,0,0,null)):o&&o.isTexture&&(void 0===h&&((h=new iN(new pS(2,2),new KO({name:"BackgroundMaterial",uniforms:HO(TS.background.uniforms),vertexShader:TS.background.vertexShader,fragmentShader:TS.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(h)),h.material.uniforms.t2D.value=o,!0===o.matrixAutoUpdate&&o.updateMatrix(),h.material.uniforms.uvTransform.value.copy(o.matrix),(j!==o||k!==o.version||l!==a.toneMapping)&&(h.material.needsUpdate=!0,j=o,k=o.version,l=a.toneMapping),c.unshift(h,h.geometry,h.material,0,0,null))}}}function VS(a,b,c,d){const e=a.getParameter(34921),f=d.isWebGL2?null:b.get("OES_vertex_array_object"),g=d.isWebGL2||null!==f,h={},i=m(null);let j=i;function k(b){return d.isWebGL2?a.bindVertexArray(b):f.bindVertexArrayOES(b)}function l(b){return d.isWebGL2?a.deleteVertexArray(b):f.deleteVertexArrayOES(b)}function m(a){const b=[],c=[],d=[];for(let f=0;f<e;f++)b[f]=0,c[f]=0,d[f]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:b,enabledAttributes:c,attributeDivisors:d,object:a,attributes:{},index:null}}function n(){const a=j.newAttributes;for(let b=0,c=a.length;b<c;b++)a[b]=0}function o(a){p(a,0)}function p(c,e){const f=j.newAttributes,g=j.enabledAttributes,h=j.attributeDivisors;if(f[c]=1,0===g[c]&&(a.enableVertexAttribArray(c),g[c]=1),h[c]!==e){const i=d.isWebGL2?a:b.get("ANGLE_instanced_arrays");i[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](c,e),h[c]=e}}function q(){const b=j.newAttributes,c=j.enabledAttributes;for(let d=0,e=c.length;d<e;d++)c[d]!==b[d]&&(a.disableVertexAttribArray(d),c[d]=0)}function r(b,c,e,f,g,h){!0===d.isWebGL2&&(5124===e||5125===e)?a.vertexAttribIPointer(b,c,e,g,h):a.vertexAttribPointer(b,c,e,f,g,h)}function s(){t(),j!==i&&k((j=i).object)}function t(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(e,i,l,s,t){let u=!1;if(g){const v=function(b,c,e){const g=!0===e.wireframe;let i=h[b.id];void 0===i&&(i={},h[b.id]=i);let j=i[c.id];void 0===j&&(j={},i[c.id]=j);let k=j[g];return void 0===k&&(k=m(d.isWebGL2?a.createVertexArray():f.createVertexArrayOES()),j[g]=k),k}(s,l,i);j!==v&&k((j=v).object),(u=(function(a,b){const c=j.attributes,d=a.attributes;let e=0;for(const f in d){const g=c[f],h=d[f];if(void 0===g)return!0;if(g.attribute!==h)return!0;if(g.data!==h.data)return!0;e++}return j.attributesNum!==e||j.index!==b})(s,t))&&(function(a,b){const c={},d=a.attributes;let e=0;for(const f in d){const g=d[f],h={};h.attribute=g,g.data&&(h.data=g.data),c[f]=h,e++}j.attributes=c,j.attributesNum=e,j.index=b})(s,t)}else{const w=!0===i.wireframe;(j.geometry!==s.id||j.program!==l.id||j.wireframe!==w)&&(j.geometry=s.id,j.program=l.id,j.wireframe=w,u=!0)}!0===e.isInstancedMesh&&(u=!0),null!==t&&c.update(t,34963),u&&((function(e,f,g,h){if(!1===d.isWebGL2&&(e.isInstancedMesh||h.isInstancedBufferGeometry)&&null===b.get("ANGLE_instanced_arrays"))return;n();const i=h.attributes,j=g.getAttributes(),k=f.defaultAttributeValues;for(const l in j){const m=j[l];if(m.location>=0){let s=i[l];if(void 0===s&&("instanceMatrix"===l&&e.instanceMatrix&&(s=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(s=e.instanceColor)),void 0!==s){const t=s.normalized,u=s.itemSize,v=c.get(s);if(void 0===v)continue;const w=v.buffer,x=v.type,y=v.bytesPerElement;if(s.isInterleavedBufferAttribute){const z=s.data,A=z.stride,B=s.offset;if(z&&z.isInstancedInterleavedBuffer){for(let C=0;C<m.locationSize;C++)p(m.location+C,z.meshPerAttribute);!0!==e.isInstancedMesh&& void 0===h._maxInstanceCount&&(h._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let D=0;D<m.locationSize;D++)o(m.location+D);a.bindBuffer(34962,w);for(let E=0;E<m.locationSize;E++)r(m.location+E,u/m.locationSize,x,t,A*y,(B+u/m.locationSize*E)*y)}else{if(s.isInstancedBufferAttribute){for(let F=0;F<m.locationSize;F++)p(m.location+F,s.meshPerAttribute);!0!==e.isInstancedMesh&& void 0===h._maxInstanceCount&&(h._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let G=0;G<m.locationSize;G++)o(m.location+G);a.bindBuffer(34962,w);for(let H=0;H<m.locationSize;H++)r(m.location+H,u/m.locationSize,x,t,u*y,u/m.locationSize*H*y)}}else if(void 0!==k){const I=k[l];if(void 0!==I)switch(I.length){case 2:a.vertexAttrib2fv(m.location,I);break;case 3:a.vertexAttrib3fv(m.location,I);break;case 4:a.vertexAttrib4fv(m.location,I);break;default:a.vertexAttrib1fv(m.location,I)}}}}q()})(e,i,l,s),null!==t&&a.bindBuffer(34963,c.get(t).buffer))},reset:s,resetDefaultState:t,dispose:function(){for(const a in s(),h){const b=h[a];for(const c in b){const d=b[c];for(const e in d)l(d[e].object),delete d[e];delete b[c]}delete h[a]}},releaseStatesOfGeometry:function(a){if(void 0===h[a.id])return;const b=h[a.id];for(const c in b){const d=b[c];for(const e in d)l(d[e].object),delete d[e];delete b[c]}delete h[a.id]},releaseStatesOfProgram:function(a){for(const b in h){const c=h[b];if(void 0===c[a.id])continue;const d=c[a.id];for(const e in d)l(d[e].object),delete d[e];delete c[a.id]}},initAttributes:n,enableAttribute:o,disableUnusedAttributes:q}}function WS(a,b,c,d){const e=d.isWebGL2;let f;this.setMode=function(a){f=a},this.render=function(b,d){a.drawArrays(f,b,d),c.update(d,f,1)},this.renderInstances=function(d,g,h){if(0===h)return;let i,j;if(e)i=a,j="drawArraysInstanced";else if(j="drawArraysInstancedANGLE",null===(i=b.get("ANGLE_instanced_arrays"))){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}i[j](f,d,g,h),c.update(g,f,h)}}function XS(a,b,c){let d;function e(b){if("highp"===b){if(a.getShaderPrecisionFormat(35633,36338).precision>0&&a.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";b="mediump"}return"mediump"===b&&a.getShaderPrecisionFormat(35633,36337).precision>0&&a.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const f="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&a instanceof WebGL2ComputeRenderingContext;let g=void 0!==c.precision?c.precision:"highp";const h=e(g);h!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",h,"instead."),g=h);const i=f||b.has("WEBGL_draw_buffers"),j=!0===c.logarithmicDepthBuffer,k=a.getParameter(34930),l=a.getParameter(35660),m=a.getParameter(3379),n=a.getParameter(34076),o=a.getParameter(34921),p=a.getParameter(36347),q=a.getParameter(36348),r=a.getParameter(36349),s=l>0,t=f||b.has("OES_texture_float"),u=f?a.getParameter(36183):0;return{isWebGL2:f,drawBuffers:i,getMaxAnisotropy:function(){if(void 0!==d)return d;if(!0===b.has("EXT_texture_filter_anisotropic")){const c=b.get("EXT_texture_filter_anisotropic");d=a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else d=0;return d},getMaxPrecision:e,precision:g,logarithmicDepthBuffer:j,maxTextures:k,maxVertexTextures:l,maxTextureSize:m,maxCubemapSize:n,maxAttributes:o,maxVertexUniforms:p,maxVaryings:q,maxFragmentUniforms:r,vertexTextures:s,floatFragmentTextures:t,floatVertexTextures:s&&t,maxSamples:u}}function YS(a){const b=this;let c=null,d=0,e=!1,f=!1;const g=new CQ(),h=new mi(),i={value:null,needsUpdate:!1};function j(){i.value!==c&&(i.value=c,i.needsUpdate=d>0),b.numPlanes=d,b.numIntersection=0}function k(a,c,d,e){const f=null!==a?a.length:0;let j=null;if(0!==f){if(j=i.value,!0!==e||null===j){const k=d+4*f,l=c.matrixWorldInverse;h.getNormalMatrix(l),(null===j||j.length<k)&&(j=new Float32Array(k));for(let m=0,n=d;m!==f;++m,n+=4)g.copy(a[m]).applyMatrix4(l,h),g.normal.toArray(j,n),j[n+3]=g.constant}i.value=j,i.needsUpdate=!0}return b.numPlanes=f,b.numIntersection=0,j}this.uniform=i,this.numPlanes=0,this.numIntersection=0,this.init=function(a,b,f){const g=0!==a.length||b||0!==d||e;return e=b,c=k(a,f,0),d=a.length,g},this.beginShadows=function(){f=!0,k(null)},this.endShadows=function(){f=!1,j()},this.setState=function(b,g,h){const l=b.clippingPlanes,m=b.clipIntersection,n=b.clipShadows,o=a.get(b);if(e&&null!==l&&0!==l.length&&(!f||n)){const p=f?0:d,q=4*p;let r=o.clippingState||null;i.value=r,r=k(l,g,q,h);for(let s=0;s!==q;++s)r[s]=c[s];o.clippingState=r,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=p}else f?k(null):j()}}function ZS(a){let b=new WeakMap();function c(a,b){return 303===b?a.mapping=301:304===b&&(a.mapping=302),a}function d(a){const c=a.target;c.removeEventListener("dispose",d);const e=b.get(c);void 0!==e&&(b.delete(c),e.dispose())}return{get:function(e){if(e&&e.isTexture&& !1===e.isRenderTargetTexture){const f=e.mapping;if(303===f||304===f){if(b.has(e)){const g=b.get(e).texture;return c(g,e.mapping)}{const h=e.image;if(!h||!(h.height>0))return null;{const i=a.getRenderTarget(),j=new hQ(h.height/2);return j.fromEquirectangularTexture(a,e),b.set(e,j),a.setRenderTarget(i),e.addEventListener("dispose",d),c(j.texture,e.mapping)}}}}return e},dispose:function(){b=new WeakMap()}}}TS.physical={uniforms:IO([TS.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Xg(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new gG(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Xg()},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new gG(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new gG(1,1,1)},specularColorMap:{value:null}}]),vertexShader:RS.meshphysical_vert,fragmentShader:RS.meshphysical_frag};class $S extends UO{constructor(_S=-1,aT=1,bT=1,cT=-1,dT=.1,eT=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_S,this.right=aT,this.top=bT,this.bottom=cT,this.near=dT,this.far=eT,this.updateProjectionMatrix()}copy(fT,gT){return super.copy(fT,gT),this.left=fT.left,this.right=fT.right,this.top=fT.top,this.bottom=fT.bottom,this.near=fT.near,this.far=fT.far,this.zoom=fT.zoom,this.view=null===fT.view?null:Object.assign({},fT.view),this}setViewOffset(hT,iT,jT,kT,lT,mT){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=hT,this.view.fullHeight=iT,this.view.offsetX=jT,this.view.offsetY=kT,this.view.width=lT,this.view.height=mT,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const nT=(this.right-this.left)/(2*this.zoom),oT=(this.top-this.bottom)/(2*this.zoom),pT=(this.right+this.left)/2,qT=(this.top+this.bottom)/2;let rT=pT-nT,sT=pT+nT,tT=qT+oT,uT=qT-oT;if(null!==this.view&&this.view.enabled){const vT=(this.right-this.left)/this.view.fullWidth/this.zoom,wT=(this.top-this.bottom)/this.view.fullHeight/this.zoom;sT=(rT+=vT*this.view.offsetX)+vT*this.view.width,uT=(tT-=wT*this.view.offsetY)-wT*this.view.height}this.projectionMatrix.makeOrthographic(rT,sT,tT,uT,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(xT){const yT=super.toJSON(xT);return yT.object.zoom=this.zoom,yT.object.left=this.left,yT.object.right=this.right,yT.object.top=this.top,yT.object.bottom=this.bottom,yT.object.near=this.near,yT.object.far=this.far,null!==this.view&&(yT.object.view=Object.assign({},this.view)),yT}}$S.prototype.isOrthographicCamera=!0;class zT extends KO{constructor(AT){super(AT),this.type="RawShaderMaterial"}}zT.prototype.isRawShaderMaterial=!0;const BT=[.125,.215,.35,.446,.526,.582],CT=5+BT.length,DT={[3e3]:0,[3001]:1,[3002]:2,[3004]:3,[3005]:4,[3006]:5,[3007]:6},ET=new $S(),{_lodPlanes:FT,_sizeLods:GT,_sigmas:HT}=function(){const a=[],b=[],c=[];let d=8;for(let e=0;e<CT;e++){const f=Math.pow(2,d);b.push(f);let g=1/f;e>4?g=BT[e-8+4-1]:0==e&&(g=0),c.push(g);const h=1/(f-1),i=-h/2,j=1+h/2,k=[i,i,j,i,j,j,i,i,j,j,i,j],l=6,m=6,n=3,o=2,p=1,q=new Float32Array(n*m*l),r=new Float32Array(o*m*l),s=new Float32Array(p*m*l);for(let t=0;t<l;t++){const u=t%3*2/3-1,v=t>2?0:-1,w=[u,v,0,u+2/3,v,0,u+2/3,v+1,0,u,v,0,u+2/3,v+1,0,u,v+1,0];q.set(w,n*m*t),r.set(k,o*m*t);const x=[t,t,t,t,t,t];s.set(x,p*m*t)}const y=new zJ();y.setAttribute("position",new GH(q,n)),y.setAttribute("uv",new GH(r,o)),y.setAttribute("faceIndex",new GH(s,p)),a.push(y),d>4&&d--}return{_lodPlanes:a,_sizeLods:b,_sigmas:c}}(),IT=new gG();let JT=null;const KT=(1+Math.sqrt(5))/2,LT=1/KT,MT=[new Jp(1,1,1),new Jp(-1,1,1),new Jp(1,1,-1),new Jp(-1,1,-1),new Jp(0,KT,LT),new Jp(0,KT,-LT),new Jp(LT,0,KT),new Jp(-LT,0,KT),new Jp(KT,LT,0),new Jp(-KT,LT,0)];class NT{constructor(OT){this._renderer=OT,this._pingPongRenderTarget=null,this._blurMaterial=(function(a){const b=new Float32Array(a),c=new Jp(0,1,0),d=new zT({name:"SphericalGaussianBlur",defines:{n:a},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:b},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c},inputEncoding:{value:DT[3e3]},outputEncoding:{value:DT[3e3]}},vertexShader:oV(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${pV()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return d})(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(PT,QT=0,RT=.1,ST=100){JT=this._renderer.getRenderTarget();const TT=this._allocateTargets();return this._sceneToCubeUV(PT,RT,ST,TT),QT>0&&this._blur(TT,0,0,QT),this._applyPMREM(TT),this._cleanup(TT),TT}fromEquirectangular(UT){return this._fromTexture(UT)}fromCubemap(VT){return this._fromTexture(VT)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=nV(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=mV(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let WT=0;WT<FT.length;WT++)FT[WT].dispose()}_cleanup(XT){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(JT),XT.scissorTest=!1,lV(XT,0,0,XT.width,XT.height)}_fromTexture(YT){JT=this._renderer.getRenderTarget();const ZT=this._allocateTargets(YT);return this._textureToCubeUV(YT,ZT),this._applyPMREM(ZT),this._cleanup(ZT),ZT}_allocateTargets($T){const _T={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:jV($T)?$T.encoding:3002,depthBuffer:!1},aU=kV(_T);return aU.depthBuffer=!$T,this._pingPongRenderTarget=kV(_T),aU}_compileMaterial(bU){const cU=new iN(FT[0],bU);this._renderer.compile(cU,ET)}_sceneToCubeUV(dU,eU,fU,gU){const hU=new aP(90,1,eU,fU),iU=[1,-1,1,1,1,1],jU=[1,1,1,-1,-1,-1],kU=this._renderer,lU=kU.autoClear,mU=kU.outputEncoding,nU=kU.toneMapping;kU.getClearColor(IT),kU.toneMapping=0,kU.outputEncoding=3e3,kU.autoClear=!1;const oU=new BH({name:"PMREM.Background",side:qg,depthWrite:!1,depthTest:!1}),pU=new iN(new rO(),oU);let qU=!1;const rU=dU.background;rU?rU.isColor&&(oU.color.copy(rU),dU.background=null,qU=!0):(oU.color.copy(IT),qU=!0);for(let sU=0;sU<6;sU++){const tU=sU%3;0==tU?(hU.up.set(0,iU[sU],0),hU.lookAt(jU[sU],0,0)):1==tU?(hU.up.set(0,0,iU[sU]),hU.lookAt(0,jU[sU],0)):(hU.up.set(0,iU[sU],0),hU.lookAt(0,0,jU[sU])),lV(gU,256*tU,sU>2?256:0,256,256),kU.setRenderTarget(gU),qU&&kU.render(pU,hU),kU.render(dU,hU)}pU.geometry.dispose(),pU.material.dispose(),kU.toneMapping=nU,kU.outputEncoding=mU,kU.autoClear=lU,dU.background=rU}_setEncoding(uU,vU){uU.value=DT[vU.encoding]}_textureToCubeUV(wU,xU){const yU=this._renderer,zU=301===wU.mapping||302===wU.mapping;zU?null==this._cubemapShader&&(this._cubemapShader=nV()):null==this._equirectShader&&(this._equirectShader=mV());const AU=zU?this._cubemapShader:this._equirectShader,BU=new iN(FT[0],AU),CU=AU.uniforms;CU.envMap.value=wU,zU||CU.texelSize.value.set(1/wU.image.width,1/wU.image.height),this._setEncoding(CU.inputEncoding,wU),this._setEncoding(CU.outputEncoding,xU.texture),lV(xU,0,0,768,512),yU.setRenderTarget(xU),yU.render(BU,ET)}_applyPMREM(DU){const EU=this._renderer,FU=EU.autoClear;EU.autoClear=!1;for(let GU=1;GU<CT;GU++){const HU=Math.sqrt(HT[GU]*HT[GU]-HT[GU-1]*HT[GU-1]),IU=MT[(GU-1)%MT.length];this._blur(DU,GU-1,GU,HU,IU)}EU.autoClear=FU}_blur(JU,KU,LU,MU,NU){const OU=this._pingPongRenderTarget;this._halfBlur(JU,OU,KU,LU,MU,"latitudinal",NU),this._halfBlur(OU,JU,LU,LU,MU,"longitudinal",NU)}_halfBlur(PU,QU,RU,SU,TU,UU,VU){const WU=this._renderer,XU=this._blurMaterial;"latitudinal"!==UU&&"longitudinal"!==UU&&console.error("blur direction must be either latitudinal or longitudinal!");const YU=new iN(FT[SU],XU),ZU=XU.uniforms,$U=GT[RU]-1,_U=isFinite(TU)?Math.PI/(2*$U):2*Math.PI/39,aV=TU/_U,bV=isFinite(TU)?1+Math.floor(3*aV):20;bV>20&&console.warn(`sigmaRadians, ${TU}, is too large and will clip, as it requested ${bV} samples when the maximum is set to 20`);const cV=[];let dV=0;for(let eV=0;eV<20;++eV){const fV=eV/aV,gV=Math.exp(-fV*fV/2);cV.push(gV),0==eV?dV+=gV:eV<bV&&(dV+=2*gV)}for(let hV=0;hV<cV.length;hV++)cV[hV]=cV[hV]/dV;ZU.envMap.value=PU.texture,ZU.samples.value=bV,ZU.weights.value=cV,ZU.latitudinal.value="latitudinal"===UU,VU&&(ZU.poleAxis.value=VU),ZU.dTheta.value=_U,ZU.mipInt.value=8-RU,this._setEncoding(ZU.inputEncoding,PU.texture),this._setEncoding(ZU.outputEncoding,PU.texture);const iV=GT[SU];lV(QU,3*Math.max(0,256-2*iV),(0===SU?0:512)+2*iV*(SU>4?SU-8+4:0),3*iV,2*iV),WU.setRenderTarget(QU),WU.render(YU,ET)}}function jV(a){return void 0!==a&&1009===a.type&&(3e3===a.encoding||3001===a.encoding||3007===a.encoding)}function kV(a){const b=new Bm(768,768,a);return b.texture.mapping=306,b.texture.name="PMREM.cubeUv",b.scissorTest=!0,b}function lV(a,b,c,d,e){a.viewport.set(b,c,d,e),a.scissor.set(b,c,d,e)}function mV(){const a=new Xg(1,1),b=new zT({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:a},inputEncoding:{value:DT[3e3]},outputEncoding:{value:DT[3e3]}},vertexShader:oV(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${pV()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return b}function nV(){const a=new zT({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:DT[3e3]},outputEncoding:{value:DT[3e3]}},vertexShader:oV(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${pV()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return a}function oV(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function pV(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function qV(a){let b=new WeakMap(),c=null;function d(a){const c=a.target;c.removeEventListener("dispose",d);const e=b.get(c);void 0!==e&&(b.delete(c),e.dispose())}return{get:function(e){if(e&&e.isTexture&& !1===e.isRenderTargetTexture){const f=e.mapping,g=303===f||304===f,h=301===f||302===f;if(g||h){if(b.has(e))return b.get(e).texture;{const i=e.image;if(!(g&&i&&i.height>0||h&&i&&function(a){let b=0;for(let c=0;c<6;c++)void 0!==a[c]&&b++;return 6===b}(i)))return null;{const j=a.getRenderTarget();null===c&&(c=new NT(a));const k=g?c.fromEquirectangular(e):c.fromCubemap(e);return b.set(e,k),a.setRenderTarget(j),e.addEventListener("dispose",d),k.texture}}}}return e},dispose:function(){b=new WeakMap(),null!==c&&(c.dispose(),c=null)}}}function rV(a){const b={};function c(c){if(void 0!==b[c])return b[c];let d;switch(c){case"WEBGL_depth_texture":d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}return b[c]=d,d}return{has:function(a){return null!==c(a)},init:function(a){a.isWebGL2?c("EXT_color_buffer_float"):(c("WEBGL_depth_texture"),c("OES_texture_float"),c("OES_texture_half_float"),c("OES_texture_half_float_linear"),c("OES_standard_derivatives"),c("OES_element_index_uint"),c("OES_vertex_array_object"),c("ANGLE_instanced_arrays")),c("OES_texture_float_linear"),c("EXT_color_buffer_half_float"),c("WEBGL_multisampled_render_to_texture")},get:function(a){const b=c(a);return null===b&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),b}}}function sV(a,b,c,d){const e={},f=new WeakMap();function g(a){const h=a.target;for(const i in null!==h.index&&b.remove(h.index),h.attributes)b.remove(h.attributes[i]);h.removeEventListener("dispose",g),delete e[h.id];const j=f.get(h);j&&(b.remove(j),f.delete(h)),d.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,c.memory.geometries--}function h(a){const c=[],d=a.index,e=a.attributes.position;let g=0;if(null!==d){const h=d.array;g=d.version;for(let i=0,j=h.length;i<j;i+=3){const k=h[i+0],l=h[i+1],m=h[i+2];c.push(k,l,l,m,m,k)}}else{const n=e.array;g=e.version;for(let o=0,p=n.length/3-1;o<p;o+=3){const q=o+0,r=o+1,s=o+2;c.push(q,r,r,s,s,q)}}const t=new(pk(c)>65535?hJ:dJ)(c,1);t.version=g;const u=f.get(a);u&&b.remove(u),f.set(a,t)}return{get:function(a,b){return!0===e[b.id]||(b.addEventListener("dispose",g),e[b.id]=!0,c.memory.geometries++),b},update:function(a){const c=a.attributes;for(const d in c)b.update(c[d],34962);const e=a.morphAttributes;for(const f in e){const g=e[f];for(let h=0,i=g.length;h<i;h++)b.update(g[h],34962)}},getWireframeAttribute:function(a){const b=f.get(a);if(b){const c=a.index;null!==c&&b.version<c.version&&h(a)}else h(a);return f.get(a)}}}function tV(a,b,c,d){const e=d.isWebGL2;let f,g,h;this.setMode=function(a){f=a},this.setIndex=function(a){g=a.type,h=a.bytesPerElement},this.render=function(b,d){a.drawElements(f,d,g,b*h),c.update(d,f,1)},this.renderInstances=function(d,i,j){if(0===j)return;let k,l;if(e)k=a,l="drawElementsInstanced";else if(l="drawElementsInstancedANGLE",null===(k=b.get("ANGLE_instanced_arrays"))){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[l](f,i,g,d*h,j),c.update(i,f,j)}}function uV(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++,b.calls=0,b.triangles=0,b.points=0,b.lines=0},update:function(a,c,d){switch(b.calls++,c){case 4:b.triangles+=d*(a/3);break;case 1:b.lines+=d*(a/2);break;case 3:b.lines+=d*(a-1);break;case 2:b.lines+=d*a;break;case 0:b.points+=d*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}}}class vV extends yk{constructor(wV=null,xV=1,yV=1,zV=1){super(null),this.image={data:wV,width:xV,height:yV,depth:zV},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}function AV(a,b){return a[0]-b[0]}function BV(a,b){return Math.abs(b[1])-Math.abs(a[1])}function CV(a,b){let c=1;const d=b.isInterleavedBufferAttribute?b.data.array:b.array;d instanceof Int8Array?c=127:d instanceof Int16Array?c=32767:d instanceof Int32Array?c=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",d),a.divideScalar(c)}function DV(a,b,c){const d={},e=new Float32Array(8),f=new WeakMap(),g=new Jp(),h=[];for(let i=0;i<8;i++)h[i]=[i,0];return{update:function(i,j,k,l){const m=i.morphTargetInfluences;if(!0===b.isWebGL2){const n=j.morphAttributes.position.length;let o=f.get(j);if(void 0===o||o.count!==n){void 0!==o&&o.texture.dispose();const p=void 0!==j.morphAttributes.normal,q=j.morphAttributes.position,r=j.morphAttributes.normal||[],s=j.attributes.position.count,t=!0===p?2:1;let u=s*t,v=1;u>b.maxTextureSize&&(v=Math.ceil(u/b.maxTextureSize),u=b.maxTextureSize);const w=new Float32Array(u*v*4*n),x=new vV(w,u,v,n);x.format=1023,x.type=1015;const y=4*t;for(let z=0;z<n;z++){const A=q[z],B=r[z],C=u*v*4*z;for(let D=0;D<A.count;D++){g.fromBufferAttribute(A,D),!0===A.normalized&&CV(g,A);const E=D*y;w[C+E+0]=g.x,w[C+E+1]=g.y,w[C+E+2]=g.z,w[C+E+3]=0,!0===p&&(g.fromBufferAttribute(B,D),!0===B.normalized&&CV(g,B),w[C+E+4]=g.x,w[C+E+5]=g.y,w[C+E+6]=g.z,w[C+E+7]=0)}}o={count:n,texture:x,size:new Xg(u,v)},f.set(j,o)}let F=0;for(let G=0;G<m.length;G++)F+=m[G];const H=j.morphTargetsRelative?1:1-F;l.getUniforms().setValue(a,"morphTargetBaseInfluence",H),l.getUniforms().setValue(a,"morphTargetInfluences",m),l.getUniforms().setValue(a,"morphTargetsTexture",o.texture,c),l.getUniforms().setValue(a,"morphTargetsTextureSize",o.size)}else{const I=void 0===m?0:m.length;let J=d[j.id];if(void 0===J||J.length!==I){J=[];for(let K=0;K<I;K++)J[K]=[K,0];d[j.id]=J}for(let L=0;L<I;L++){const M=J[L];M[0]=L,M[1]=m[L]}J.sort(BV);for(let N=0;N<8;N++)N<I&&J[N][1]?(h[N][0]=J[N][0],h[N][1]=J[N][1]):(h[N][0]=Number.MAX_SAFE_INTEGER,h[N][1]=0);h.sort(AV);const O=j.morphAttributes.position,P=j.morphAttributes.normal;let Q=0;for(let R=0;R<8;R++){const S=h[R],T=S[0],U=S[1];T!==Number.MAX_SAFE_INTEGER&&U?(O&&j.getAttribute("morphTarget"+R)!==O[T]&&j.setAttribute("morphTarget"+R,O[T]),P&&j.getAttribute("morphNormal"+R)!==P[T]&&j.setAttribute("morphNormal"+R,P[T]),e[R]=U,Q+=U):(O&& !0===j.hasAttribute("morphTarget"+R)&&j.deleteAttribute("morphTarget"+R),P&& !0===j.hasAttribute("morphNormal"+R)&&j.deleteAttribute("morphNormal"+R),e[R]=0)}const V=j.morphTargetsRelative?1:1-Q;l.getUniforms().setValue(a,"morphTargetBaseInfluence",V),l.getUniforms().setValue(a,"morphTargetInfluences",e)}}}}function EV(a,b,c,d){let e=new WeakMap();function f(a){const b=a.target;b.removeEventListener("dispose",f),c.remove(b.instanceMatrix),null!==b.instanceColor&&c.remove(b.instanceColor)}return{update:function(a){const g=d.render.frame,h=a.geometry,i=b.get(a,h);return e.get(i)!==g&&(b.update(i),e.set(i,g)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",f)&&a.addEventListener("dispose",f),c.update(a.instanceMatrix,34962),null!==a.instanceColor&&c.update(a.instanceColor,34962)),i},dispose:function(){e=new WeakMap()}}}vV.prototype.isDataTexture2DArray=!0;class FV extends yk{constructor(GV=null,HV=1,IV=1,JV=1){super(null),this.image={data:GV,width:HV,height:IV,depth:JV},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}FV.prototype.isDataTexture3D=!0;const KV=new yk(),LV=new vV(),MV=new FV(),NV=new XP(),OV=[],PV=[],QV=new Float32Array(16),RV=new Float32Array(9),SV=new Float32Array(4);function TV(a,b,c){const d=a[0];if(d<=0||d>0)return a;const e=b*c;let f=OV[e];if(void 0===f&&(f=new Float32Array(e),OV[e]=f),0!==b){d.toArray(f,0);for(let g=1,h=0;g!==b;++g)h+=c,a[g].toArray(f,h)}return f}function UV(a,b){if(a.length!==b.length)return!1;for(let c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function VV(a,b){for(let c=0,d=b.length;c<d;c++)a[c]=b[c]}function WV(a,b){let c=PV[b];void 0===c&&(c=new Int32Array(b),PV[b]=c);for(let d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function XV(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function YV(a,b){const c=this.cache;if(void 0!==b.x)(c[0]!==b.x||c[1]!==b.y)&&(a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y);else{if(UV(c,b))return;a.uniform2fv(this.addr,b),VV(c,b)}}function ZV(a,b){const c=this.cache;if(void 0!==b.x)(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)&&(a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z);else if(void 0!==b.r)(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)&&(a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b);else{if(UV(c,b))return;a.uniform3fv(this.addr,b),VV(c,b)}}function $V(a,b){const c=this.cache;if(void 0!==b.x)(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)&&(a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w);else{if(UV(c,b))return;a.uniform4fv(this.addr,b),VV(c,b)}}function _V(a,b){const c=this.cache,d=b.elements;if(void 0===d){if(UV(c,b))return;a.uniformMatrix2fv(this.addr,!1,b),VV(c,b)}else{if(UV(c,d))return;SV.set(d),a.uniformMatrix2fv(this.addr,!1,SV),VV(c,d)}}function aW(a,b){const c=this.cache,d=b.elements;if(void 0===d){if(UV(c,b))return;a.uniformMatrix3fv(this.addr,!1,b),VV(c,b)}else{if(UV(c,d))return;RV.set(d),a.uniformMatrix3fv(this.addr,!1,RV),VV(c,d)}}function bW(a,b){const c=this.cache,d=b.elements;if(void 0===d){if(UV(c,b))return;a.uniformMatrix4fv(this.addr,!1,b),VV(c,b)}else{if(UV(c,d))return;QV.set(d),a.uniformMatrix4fv(this.addr,!1,QV),VV(c,d)}}function cW(a,b){const c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function dW(a,b){const c=this.cache;UV(c,b)||(a.uniform2iv(this.addr,b),VV(c,b))}function eW(a,b){const c=this.cache;UV(c,b)||(a.uniform3iv(this.addr,b),VV(c,b))}function fW(a,b){const c=this.cache;UV(c,b)||(a.uniform4iv(this.addr,b),VV(c,b))}function gW(a,b){const c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}function hW(a,b){const c=this.cache;UV(c,b)||(a.uniform2uiv(this.addr,b),VV(c,b))}function iW(a,b){const c=this.cache;UV(c,b)||(a.uniform3uiv(this.addr,b),VV(c,b))}function jW(a,b){const c=this.cache;UV(c,b)||(a.uniform4uiv(this.addr,b),VV(c,b))}function kW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.safeSetTexture2D(b||KV,e)}function lW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.setTexture3D(b||MV,e)}function mW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.safeSetTextureCube(b||NV,e)}function nW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.setTexture2DArray(b||LV,e)}function oW(a,b){a.uniform1fv(this.addr,b)}function pW(a,b){const c=TV(b,this.size,2);a.uniform2fv(this.addr,c)}function qW(a,b){const c=TV(b,this.size,3);a.uniform3fv(this.addr,c)}function rW(a,b){const c=TV(b,this.size,4);a.uniform4fv(this.addr,c)}function sW(a,b){const c=TV(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,c)}function tW(a,b){const c=TV(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,c)}function uW(a,b){const c=TV(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,c)}function vW(a,b){a.uniform1iv(this.addr,b)}function wW(a,b){a.uniform2iv(this.addr,b)}function xW(a,b){a.uniform3iv(this.addr,b)}function yW(a,b){a.uniform4iv(this.addr,b)}function zW(a,b){a.uniform1uiv(this.addr,b)}function AW(a,b){a.uniform2uiv(this.addr,b)}function BW(a,b){a.uniform3uiv(this.addr,b)}function CW(a,b){a.uniform4uiv(this.addr,b)}function DW(a,b,c){const d=b.length,e=WV(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.safeSetTexture2D(b[f]||KV,e[f])}function EW(a,b,c){const d=b.length,e=WV(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.setTexture3D(b[f]||MV,e[f])}function FW(a,b,c){const d=b.length,e=WV(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.safeSetTextureCube(b[f]||NV,e[f])}function GW(a,b,c){const d=b.length,e=WV(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.setTexture2DArray(b[f]||LV,e[f])}function HW(a,b,c){this.id=a,this.addr=c,this.cache=[],this.setValue=(function(a){switch(a){case 5126:return XV;case 35664:return YV;case 35665:return ZV;case 35666:return $V;case 35674:return _V;case 35675:return aW;case 35676:return bW;case 5124:case 35670:return cW;case 35667:case 35671:return dW;case 35668:case 35672:return eW;case 35669:case 35673:return fW;case 5125:return gW;case 36294:return hW;case 36295:return iW;case 36296:return jW;case 35678:case 36198:case 36298:case 36306:case 35682:return kW;case 35679:case 36299:case 36307:return lW;case 35680:case 36300:case 36308:case 36293:return mW;case 36289:case 36303:case 36311:case 36292:return nW}})(b.type)}function IW(a,b,c){this.id=a,this.addr=c,this.cache=[],this.size=b.size,this.setValue=(function(a){switch(a){case 5126:return oW;case 35664:return pW;case 35665:return qW;case 35666:return rW;case 35674:return sW;case 35675:return tW;case 35676:return uW;case 5124:case 35670:return vW;case 35667:case 35671:return wW;case 35668:case 35672:return xW;case 35669:case 35673:return yW;case 5125:return zW;case 36294:return AW;case 36295:return BW;case 36296:return CW;case 35678:case 36198:case 36298:case 36306:case 35682:return DW;case 35679:case 36299:case 36307:return EW;case 35680:case 36300:case 36308:case 36293:return FW;case 36289:case 36303:case 36311:case 36292:return GW}})(b.type)}function JW(a){this.id=a,this.seq=[],this.map={}}IW.prototype.updateCache=function(a){const b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length)),VV(b,a)},JW.prototype.setValue=function(a,b,c){const d=this.seq;for(let e=0,f=d.length;e!==f;++e){const g=d[e];g.setValue(a,b[g.id],c)}};const KW=/(\w+)(\])?(\[|\.)?/g;function LW(a,b){a.seq.push(b),a.map[b.id]=b}function MW(a,b,c){const d=a.name,e=d.length;for(KW.lastIndex=0;;){const f=KW.exec(d),g=KW.lastIndex;let h=f[1];const i="]"===f[2],j=f[3];if(i&&(h|=0),void 0===j||"["===j&&g+2===e){LW(c,void 0===j?new HW(h,a,b):new IW(h,a,b));break}{const k=c.map;let l=k[h];void 0===l&&LW(c,l=new JW(h)),c=l}}}function NW(a,b){this.seq=[],this.map={};const c=a.getProgramParameter(b,35718);for(let d=0;d<c;++d){const e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name);MW(e,f,this)}}function OW(a,b,c){const d=a.createShader(b);return a.shaderSource(d,c),a.compileShader(d),d}NW.prototype.setValue=function(a,b,c,d){const e=this.map[b];void 0!==e&&e.setValue(a,c,d)},NW.prototype.setOptional=function(a,b,c){const d=b[c];void 0!==d&&this.setValue(a,c,d)},NW.upload=function(a,b,c,d){for(let e=0,f=b.length;e!==f;++e){const g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}},NW.seqWithValue=function(a,b){const c=[];for(let d=0,e=a.length;d!==e;++d){const f=a[d];f.id in b&&c.push(f)}return c};let PW=0;function QW(a){switch(a){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}function RW(a,b,c){const d=a.getShaderParameter(b,35713),e=a.getShaderInfoLog(b).trim();return d&&""===e?"":c.toUpperCase()+"\n\n"+e+"\n\n"+(function(a){const b=a.split("\n");for(let c=0;c<b.length;c++)b[c]=c+1+": "+b[c];return b.join("\n")})(a.getShaderSource(b))}function SW(a,b){const c=QW(b);return"vec4 "+a+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function TW(a){return""!==a}function UW(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}function VW(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}const WW=/^[ \t]*#include +<([\w\d./]+)>/gm;function XW(a){return a.replace(WW,YW)}function YW(a,b){const c=RS[b];if(void 0===c)throw new Error("Can not resolve #include <"+b+">");return XW(c)}const ZW=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,$W=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _W(a){return a.replace($W,bX).replace(ZW,aX)}function aX(a,b,c,d){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),bX(a,b,c,d)}function bX(a,b,c,d){let e="";for(let f=parseInt(b);f<parseInt(c);f++)e+=d.replace(/\[\s*i\s*\]/g,"[ "+f+" ]").replace(/UNROLLED_LOOP_INDEX/g,f);return e}function cX(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";return"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION"),b}function dX(a,b,c,d){var e;const f=a.getContext(),g=c.defines;let h=c.vertexShader,i=c.fragmentShader,j;const k=(j="SHADOWMAP_TYPE_BASIC",1===(e=c).shadowMapType?j="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?j="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(j="SHADOWMAP_TYPE_VSM"),j),l=function(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:b="ENVMAP_TYPE_CUBE";break;case 306:case 307:b="ENVMAP_TYPE_CUBE_UV";break}return b}(c),m=function(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:case 307:b="ENVMAP_MODE_REFRACTION";break}return b}(c),n=function(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:b="ENVMAP_BLENDING_MULTIPLY";break;case 1:b="ENVMAP_BLENDING_MIX";break;case 2:b="ENVMAP_BLENDING_ADD";break}return b}(c),o=a.gammaFactor>0?a.gammaFactor:1,p=c.isWebGL2?"":function(a){const b=[a.extensionDerivatives||a.envMapCubeUV||a.bumpMap||a.tangentSpaceNormalMap||a.clearcoatNormalMap||a.flatShading||"physical"===a.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||a.envMap||a.transmission)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return b.filter(TW).join("\n")}(c),q=function(a){const b=[];for(const c in a){const d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}(g),r=f.createProgram();let s,t,u=c.glslVersion?"#version "+c.glslVersion+"\n":"";c.isRawShaderMaterial?((s=[q].filter(TW).join("\n")).length>0&&(s+="\n"),(t=[p,q].filter(TW).join("\n")).length>0&&(t+="\n")):(s=[cX(c),"#define SHADER_NAME "+c.shaderName,q,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+o,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&& !1===c.flatShading?"#define USE_MORPHNORMALS":"",c.morphTargets&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",c.morphTargets&&c.isWebGL2?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+k:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(TW).join("\n"),t=[p,cX(c),"#define SHADER_NAME "+c.shaderName,q,"#define GAMMA_FACTOR "+o,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+l:"",c.envMap?"#define "+m:"",c.envMap?"#define "+n:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+k:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(c.extensionShaderTextureLOD||c.envMap)&&c.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==c.toneMapping?"#define TONE_MAPPING":"",0!==c.toneMapping?RS.tonemapping_pars_fragment:"",0!==c.toneMapping?function(a,b){let c;switch(b){case 1:c="Linear";break;case 2:c="Reinhard";break;case 3:c="OptimizedCineon";break;case 4:c="ACESFilmic";break;case 5:c="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),c="Linear"}return"vec3 "+a+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",1022===c.format?"#define OPAQUE":"",RS.encodings_pars_fragment,c.map?SW("mapTexelToLinear",c.mapEncoding):"",c.matcap?SW("matcapTexelToLinear",c.matcapEncoding):"",c.envMap?SW("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMap?SW("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.specularColorMap?SW("specularColorMapTexelToLinear",c.specularColorMapEncoding):"",c.sheenColorMap?SW("sheenColorMapTexelToLinear",c.sheenColorMapEncoding):"",c.lightMap?SW("lightMapTexelToLinear",c.lightMapEncoding):"",function(a,b){const c=QW(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"}("linearToOutputTexel",c.outputEncoding),c.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(TW).join("\n")),h=VW(h=UW(h=XW(h),c),c),i=XW(i),i=UW(i,c),i=VW(i,c),h=_W(h),i=_W(i),c.isWebGL2&& !0!==c.isRawShaderMaterial&&(u="#version 300 es\n",s="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+s,t=["#define varying in",c.glslVersion===rg?"":"out highp vec4 pc_fragColor;",c.glslVersion===rg?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+t);const v=OW(f,35633,u+s+h),w=OW(f,35632,u+t+i);if(f.attachShader(r,v),f.attachShader(r,w),void 0!==c.index0AttributeName?f.bindAttribLocation(r,0,c.index0AttributeName):!0===c.morphTargets&&f.bindAttribLocation(r,0,"position"),f.linkProgram(r),a.debug.checkShaderErrors){const x=f.getProgramInfoLog(r).trim(),y=f.getShaderInfoLog(v).trim(),z=f.getShaderInfoLog(w).trim();let A=!0,B=!0;if(!1===f.getProgramParameter(r,35714)){A=!1;const C=RW(f,v,"vertex"),D=RW(f,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+f.getError()+" - VALIDATE_STATUS "+f.getProgramParameter(r,35715)+"\n\nProgram Info Log: "+x+"\n"+C+"\n"+D)}else""!==x?console.warn("THREE.WebGLProgram: Program Info Log:",x):(""===y||""===z)&&(B=!1);B&&(this.diagnostics={runnable:A,programLog:x,vertexShader:{log:y,prefix:s},fragmentShader:{log:z,prefix:t}})}f.deleteShader(v),f.deleteShader(w);let E;this.getUniforms=function(){return void 0===E&&(E=new NW(f,r)),E};let F;return this.getAttributes=function(){return void 0===F&&(F=(function(a,b){const c={},d=a.getProgramParameter(b,35721);for(let e=0;e<d;e++){const f=a.getActiveAttrib(b,e),g=f.name;let h=1;35674===f.type&&(h=2),35675===f.type&&(h=3),35676===f.type&&(h=4),c[g]={type:f.type,location:a.getAttribLocation(b,g),locationSize:h}}return c})(f,r)),F},this.destroy=function(){d.releaseStatesOfProgram(this),f.deleteProgram(r),this.program=void 0},this.name=c.shaderName,this.id=PW++,this.cacheKey=b,this.usedTimes=1,this.program=r,this.vertexShader=v,this.fragmentShader=w,this}function eX(a,b,c,d,e,f,g){const h=[],i=e.isWebGL2,j=e.logarithmicDepthBuffer,k=e.floatVertexTextures,l=e.maxVertexUniforms,m=e.vertexTextures;let n=e.precision;const o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function q(a){let b;return a&&a.isTexture?b=a.encoding:a&&a.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),b=a.texture.encoding):b=3e3,b}return{getParameters:function(f,h,p,r,s){const t=r.fog,u=f.isMeshStandardMaterial?r.environment:null,v=(f.isMeshStandardMaterial?c:b).get(f.envMap||u),w=o[f.type],x=s.isSkinnedMesh?function(a){const b=a.skeleton,c=b.bones;if(k)return 1024;{const d=l,e=Math.floor((d-20)/4),f=Math.min(e,c.length);return f<c.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+c.length+" bones. This GPU supports "+f+"."),0):f}}(s):0;null!==f.precision&&(n=e.getMaxPrecision(f.precision))!==f.precision&&console.warn("THREE.WebGLProgram.getParameters:",f.precision,"not supported, using",n,"instead.");let y,z;if(w){const A=TS[w];y=A.vertexShader,z=A.fragmentShader}else y=f.vertexShader,z=f.fragmentShader;const B=a.getRenderTarget(),C=f.alphaTest>0,D=f.clearcoat>0,E={isWebGL2:i,shaderID:w,shaderName:f.type,vertexShader:y,fragmentShader:z,defines:f.defines,isRawShaderMaterial:!0===f.isRawShaderMaterial,glslVersion:f.glslVersion,precision:n,instancing:!0===s.isInstancedMesh,instancingColor:!0===s.isInstancedMesh&&null!==s.instanceColor,supportsVertexTextures:m,outputEncoding:null!==B?q(B.texture):a.outputEncoding,map:!!f.map,mapEncoding:q(f.map),matcap:!!f.matcap,matcapEncoding:q(f.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:q(v),envMapCubeUV:!!v&&(306===v.mapping||307===v.mapping),lightMap:!!f.lightMap,lightMapEncoding:q(f.lightMap),aoMap:!!f.aoMap,emissiveMap:!!f.emissiveMap,emissiveMapEncoding:q(f.emissiveMap),bumpMap:!!f.bumpMap,normalMap:!!f.normalMap,objectSpaceNormalMap:1===f.normalMapType,tangentSpaceNormalMap:0===f.normalMapType,clearcoat:D,clearcoatMap:D&&!!f.clearcoatMap,clearcoatRoughnessMap:D&&!!f.clearcoatRoughnessMap,clearcoatNormalMap:D&&!!f.clearcoatNormalMap,displacementMap:!!f.displacementMap,roughnessMap:!!f.roughnessMap,metalnessMap:!!f.metalnessMap,specularMap:!!f.specularMap,specularIntensityMap:!!f.specularIntensityMap,specularColorMap:!!f.specularColorMap,specularColorMapEncoding:q(f.specularColorMap),alphaMap:!!f.alphaMap,alphaTest:C,gradientMap:!!f.gradientMap,sheen:f.sheen>0,sheenColorMap:!!f.sheenColorMap,sheenColorMapEncoding:q(f.sheenColorMap),sheenRoughnessMap:!!f.sheenRoughnessMap,transmission:f.transmission>0,transmissionMap:!!f.transmissionMap,thicknessMap:!!f.thicknessMap,combine:f.combine,vertexTangents:!!f.normalMap&&!!s.geometry&&!!s.geometry.attributes.tangent,vertexColors:f.vertexColors,vertexAlphas:!0===f.vertexColors&&!!s.geometry&&!!s.geometry.attributes.color&&4===s.geometry.attributes.color.itemSize,vertexUvs:!!f.map||!!f.bumpMap||!!f.normalMap||!!f.specularMap||!!f.alphaMap||!!f.emissiveMap||!!f.roughnessMap||!!f.metalnessMap||!!f.clearcoatMap||!!f.clearcoatRoughnessMap||!!f.clearcoatNormalMap||!!f.displacementMap||!!f.transmissionMap||!!f.thicknessMap||!!f.specularIntensityMap||!!f.specularColorMap||!!f.sheenColorMap||f.sheenRoughnessMap,uvsVertexOnly:!(f.map||f.bumpMap||f.normalMap||f.specularMap||f.alphaMap||f.emissiveMap||f.roughnessMap||f.metalnessMap||f.clearcoatNormalMap||f.transmission>0||f.transmissionMap||f.thicknessMap||f.specularIntensityMap||f.specularColorMap||f.sheen>0||f.sheenColorMap||f.sheenRoughnessMap)&&!!f.displacementMap,fog:!!t,useFog:f.fog,fogExp2:t&&t.isFogExp2,flatShading:!!f.flatShading,sizeAttenuation:f.sizeAttenuation,logarithmicDepthBuffer:j,skinning:!0===s.isSkinnedMesh&&x>0,maxBones:x,useVertexTexture:k,morphTargets:!!s.geometry&&!!s.geometry.morphAttributes.position,morphNormals:!!s.geometry&&!!s.geometry.morphAttributes.normal,morphTargetsCount:s.geometry&&s.geometry.morphAttributes.position?s.geometry.morphAttributes.position.length:0,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numRectAreaLights:h.rectArea.length,numHemiLights:h.hemi.length,numDirLightShadows:h.directionalShadowMap.length,numPointLightShadows:h.pointShadowMap.length,numSpotLightShadows:h.spotShadowMap.length,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,format:f.format,dithering:f.dithering,shadowMapEnabled:a.shadowMap.enabled&&p.length>0,shadowMapType:a.shadowMap.type,toneMapping:f.toneMapped?a.toneMapping:0,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:f.premultipliedAlpha,doubleSided:2===f.side,flipSided:f.side===qg,depthPacking:void 0!==f.depthPacking&&f.depthPacking,index0AttributeName:f.index0AttributeName,extensionDerivatives:f.extensions&&f.extensions.derivatives,extensionFragDepth:f.extensions&&f.extensions.fragDepth,extensionDrawBuffers:f.extensions&&f.extensions.drawBuffers,extensionShaderTextureLOD:f.extensions&&f.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:i||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:i||d.has("EXT_shader_texture_lod"),customProgramCacheKey:f.customProgramCacheKey()};return E},getProgramCacheKey:function(b){const c=[];if(b.shaderID?c.push(b.shaderID):(c.push(rk(b.fragmentShader)),c.push(rk(b.vertexShader))),void 0!==b.defines)for(const d in b.defines)c.push(d),c.push(b.defines[d]);if(!1===b.isRawShaderMaterial){for(let e=0;e<p.length;e++)c.push(b[p[e]]);c.push(a.outputEncoding),c.push(a.gammaFactor)}return c.push(b.customProgramCacheKey),c.join()},getUniforms:function(a){const b=o[a.type];let c;if(b){const d=TS[b];c=JO.clone(d.uniforms)}else c=a.uniforms;return c},acquireProgram:function(b,c){let d;for(let e=0,g=h.length;e<g;e++){const i=h[e];if(i.cacheKey===c){d=i,++d.usedTimes;break}}return void 0===d&&(d=new dX(a,c,b,f),h.push(d)),d},releaseProgram:function(a){if(0== --a.usedTimes){const b=h.indexOf(a);h[b]=h[h.length-1],h.pop(),a.destroy()}},programs:h}}function fX(){let a=new WeakMap();return{get:function(b){let c=a.get(b);return void 0===c&&(c={},a.set(b,c)),c},remove:function(b){a.delete(b)},update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap()}}}function gX(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function hX(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function iX(a){const b=[];let c=0;const d=[],e=[],f=[],g={id:-1};function h(d,e,f,h,i,j){let k=b[c];const l=a.get(f);return void 0===k?(k={id:d.id,object:d,geometry:e,material:f,program:l.program||g,groupOrder:h,renderOrder:d.renderOrder,z:i,group:j},b[c]=k):(k.id=d.id,k.object=d,k.geometry=e,k.material=f,k.program=l.program||g,k.groupOrder=h,k.renderOrder=d.renderOrder,k.z=i,k.group=j),c++,k}return{opaque:d,transmissive:e,transparent:f,init:function(){c=0,d.length=0,e.length=0,f.length=0},push:function(a,b,c,g,i,j){const k=h(a,b,c,g,i,j);c.transmission>0?e.push(k):!0===c.transparent?f.push(k):d.push(k)},unshift:function(a,b,c,g,i,j){const k=h(a,b,c,g,i,j);c.transmission>0?e.unshift(k):!0===c.transparent?f.unshift(k):d.unshift(k)},finish:function(){for(let a=c,d=b.length;a<d;a++){const e=b[a];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.program=null,e.group=null}},sort:function(a,b){d.length>1&&d.sort(a||gX),e.length>1&&e.sort(b||hX),f.length>1&&f.sort(b||hX)}}}function jX(a){let b=new WeakMap();return{get:function(c,d){let e;return!1===b.has(c)?(e=new iX(a),b.set(c,[e])):d>=b.get(c).length?(e=new iX(a),b.get(c).push(e)):e=b.get(c)[d],e},dispose:function(){b=new WeakMap()}}}function kX(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case"DirectionalLight":c={direction:new Jp(),color:new gG()};break;case"SpotLight":c={position:new Jp(),direction:new Jp(),color:new gG(),distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":c={position:new Jp(),color:new gG(),distance:0,decay:0};break;case"HemisphereLight":c={direction:new Jp(),skyColor:new gG(),groundColor:new gG()};break;case"RectAreaLight":c={color:new gG(),position:new Jp(),halfWidth:new Jp(),halfHeight:new Jp()};break}return a[b.id]=c,c}}}let lX=0;function mX(a,b){return(b.castShadow?1:0)-(a.castShadow?1:0)}function nX(a,b){const c=new kX(),d=function(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case"DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xg()};break;case"SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xg()};break;case"PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xg(),shadowCameraNear:1,shadowCameraFar:1e3};break}return a[b.id]=c,c}}}(),e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let f=0;f<9;f++)e.probe.push(new Jp());const g=new Jp(),h=new Wv(),i=new Wv();return{setup:function(f,g){let h=0,i=0,j=0;for(let k=0;k<9;k++)e.probe[k].set(0,0,0);let l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0;f.sort(mX);const t=!0!==g?Math.PI:1;for(let u=0,v=f.length;u<v;u++){const w=f[u],x=w.color,y=w.intensity,z=w.distance,A=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)h+=x.r*y*t,i+=x.g*y*t,j+=x.b*y*t;else if(w.isLightProbe)for(let B=0;B<9;B++)e.probe[B].addScaledVector(w.sh.coefficients[B],y);else if(w.isDirectionalLight){const C=c.get(w);if(C.color.copy(w.color).multiplyScalar(w.intensity*t),w.castShadow){const D=w.shadow,E=d.get(w);E.shadowBias=D.bias,E.shadowNormalBias=D.normalBias,E.shadowRadius=D.radius,E.shadowMapSize=D.mapSize,e.directionalShadow[l]=E,e.directionalShadowMap[l]=A,e.directionalShadowMatrix[l]=w.shadow.matrix,q++}e.directional[l]=C,l++}else if(w.isSpotLight){const F=c.get(w);if(F.position.setFromMatrixPosition(w.matrixWorld),F.color.copy(x).multiplyScalar(y*t),F.distance=z,F.coneCos=Math.cos(w.angle),F.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),F.decay=w.decay,w.castShadow){const G=w.shadow,H=d.get(w);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,e.spotShadow[n]=H,e.spotShadowMap[n]=A,e.spotShadowMatrix[n]=w.shadow.matrix,s++}e.spot[n]=F,n++}else if(w.isRectAreaLight){const I=c.get(w);I.color.copy(x).multiplyScalar(y),I.halfWidth.set(.5*w.width,0,0),I.halfHeight.set(0,.5*w.height,0),e.rectArea[o]=I,o++}else if(w.isPointLight){const J=c.get(w);if(J.color.copy(w.color).multiplyScalar(w.intensity*t),J.distance=w.distance,J.decay=w.decay,w.castShadow){const K=w.shadow,L=d.get(w);L.shadowBias=K.bias,L.shadowNormalBias=K.normalBias,L.shadowRadius=K.radius,L.shadowMapSize=K.mapSize,L.shadowCameraNear=K.camera.near,L.shadowCameraFar=K.camera.far,e.pointShadow[m]=L,e.pointShadowMap[m]=A,e.pointShadowMatrix[m]=w.shadow.matrix,r++}e.point[m]=J,m++}else if(w.isHemisphereLight){const M=c.get(w);M.skyColor.copy(w.color).multiplyScalar(y*t),M.groundColor.copy(w.groundColor).multiplyScalar(y*t),e.hemi[p]=M,p++}}o>0&&(b.isWebGL2?(e.rectAreaLTC1=SS.LTC_FLOAT_1,e.rectAreaLTC2=SS.LTC_FLOAT_2):!0===a.has("OES_texture_float_linear")?(e.rectAreaLTC1=SS.LTC_FLOAT_1,e.rectAreaLTC2=SS.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(e.rectAreaLTC1=SS.LTC_HALF_1,e.rectAreaLTC2=SS.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),e.ambient[0]=h,e.ambient[1]=i,e.ambient[2]=j;const N=e.hash;(N.directionalLength!==l||N.pointLength!==m||N.spotLength!==n||N.rectAreaLength!==o||N.hemiLength!==p||N.numDirectionalShadows!==q||N.numPointShadows!==r||N.numSpotShadows!==s)&&(e.directional.length=l,e.spot.length=n,e.rectArea.length=o,e.point.length=m,e.hemi.length=p,e.directionalShadow.length=q,e.directionalShadowMap.length=q,e.pointShadow.length=r,e.pointShadowMap.length=r,e.spotShadow.length=s,e.spotShadowMap.length=s,e.directionalShadowMatrix.length=q,e.pointShadowMatrix.length=r,e.spotShadowMatrix.length=s,N.directionalLength=l,N.pointLength=m,N.spotLength=n,N.rectAreaLength=o,N.hemiLength=p,N.numDirectionalShadows=q,N.numPointShadows=r,N.numSpotShadows=s,e.version=lX++)},setupView:function(a,b){let c=0,d=0,f=0,j=0,k=0;const l=b.matrixWorldInverse;for(let m=0,n=a.length;m<n;m++){const o=a[m];if(o.isDirectionalLight){const p=e.directional[c];p.direction.setFromMatrixPosition(o.matrixWorld),g.setFromMatrixPosition(o.target.matrixWorld),p.direction.sub(g),p.direction.transformDirection(l),c++}else if(o.isSpotLight){const q=e.spot[f];q.position.setFromMatrixPosition(o.matrixWorld),q.position.applyMatrix4(l),q.direction.setFromMatrixPosition(o.matrixWorld),g.setFromMatrixPosition(o.target.matrixWorld),q.direction.sub(g),q.direction.transformDirection(l),f++}else if(o.isRectAreaLight){const r=e.rectArea[j];r.position.setFromMatrixPosition(o.matrixWorld),r.position.applyMatrix4(l),i.identity(),h.copy(o.matrixWorld),h.premultiply(l),i.extractRotation(h),r.halfWidth.set(.5*o.width,0,0),r.halfHeight.set(0,.5*o.height,0),r.halfWidth.applyMatrix4(i),r.halfHeight.applyMatrix4(i),j++}else if(o.isPointLight){const s=e.point[d];s.position.setFromMatrixPosition(o.matrixWorld),s.position.applyMatrix4(l),d++}else if(o.isHemisphereLight){const t=e.hemi[k];t.direction.setFromMatrixPosition(o.matrixWorld),t.direction.transformDirection(l),t.direction.normalize(),k++}}},state:e}}function oX(a,b){const c=new nX(a,b),d=[],e=[];return{init:function(){d.length=0,e.length=0},state:{lightsArray:d,shadowsArray:e,lights:c},setupLights:function(a){c.setup(d,a)},setupLightsView:function(a){c.setupView(d,a)},pushLight:function(a){d.push(a)},pushShadow:function(a){e.push(a)}}}function pX(a,b){let c=new WeakMap();return{get:function(d,e=0){let f;return!1===c.has(d)?(f=new oX(a,b),c.set(d,[f])):e>=c.get(d).length?(f=new oX(a,b),c.get(d).push(f)):f=c.get(d)[e],f},dispose:function(){c=new WeakMap()}}}class qX extends KF{constructor(rX){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(rX)}copy(sX){return super.copy(sX),this.depthPacking=sX.depthPacking,this.map=sX.map,this.alphaMap=sX.alphaMap,this.displacementMap=sX.displacementMap,this.displacementScale=sX.displacementScale,this.displacementBias=sX.displacementBias,this.wireframe=sX.wireframe,this.wireframeLinewidth=sX.wireframeLinewidth,this}}qX.prototype.isMeshDepthMaterial=!0;class tX extends KF{constructor(uX){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Jp(),this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(uX)}copy(vX){return super.copy(vX),this.referencePosition.copy(vX.referencePosition),this.nearDistance=vX.nearDistance,this.farDistance=vX.farDistance,this.map=vX.map,this.alphaMap=vX.alphaMap,this.displacementMap=vX.displacementMap,this.displacementScale=vX.displacementScale,this.displacementBias=vX.displacementBias,this}}function wX(a,b,c){let d=new pR();const e=new Xg(),f=new Xg(),g=new Uk(),h=new qX({depthPacking:3201}),i=new tX(),j={},k=c.maxTextureSize,l={0:qg,1:0,2:2},m=new KO({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xg()},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),n=m.clone();n.defines.HORIZONTAL_PASS=1;const o=new zJ();o.setAttribute("position",new GH(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new iN(o,m),q=this;function r(c,d){const e=b.update(p);m.defines.VSM_SAMPLES!==c.blurSamples&&(m.defines.VSM_SAMPLES=c.blurSamples,n.defines.VSM_SAMPLES=c.blurSamples,m.needsUpdate=!0,n.needsUpdate=!0),m.uniforms.shadow_pass.value=c.map.texture,m.uniforms.resolution.value=c.mapSize,m.uniforms.radius.value=c.radius,a.setRenderTarget(c.mapPass),a.clear(),a.renderBufferDirect(d,null,e,m,p,null),n.uniforms.shadow_pass.value=c.mapPass.texture,n.uniforms.resolution.value=c.mapSize,n.uniforms.radius.value=c.radius,a.setRenderTarget(c.map),a.clear(),a.renderBufferDirect(d,null,e,n,p,null)}function s(b,c,d,e,f,g,k){let m=null;const n=!0===e.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(m=void 0!==n?n:!0===e.isPointLight?i:h,a.localClippingEnabled&& !0===d.clipShadows&&0!==d.clippingPlanes.length||d.displacementMap&&0!==d.displacementScale||d.alphaMap&&d.alphaTest>0){const o=m.uuid,p=d.uuid;let q=j[o];void 0===q&&(q={},j[o]=q);let r=q[p];void 0===r&&(r=m.clone(),q[p]=r),m=r}return m.visible=d.visible,m.wireframe=d.wireframe,3===k?m.side=null!==d.shadowSide?d.shadowSide:d.side:m.side=null!==d.shadowSide?d.shadowSide:l[d.side],m.alphaMap=d.alphaMap,m.alphaTest=d.alphaTest,m.clipShadows=d.clipShadows,m.clippingPlanes=d.clippingPlanes,m.clipIntersection=d.clipIntersection,m.displacementMap=d.displacementMap,m.displacementScale=d.displacementScale,m.displacementBias=d.displacementBias,m.wireframeLinewidth=d.wireframeLinewidth,m.linewidth=d.linewidth,!0===e.isPointLight&& !0===m.isMeshDistanceMaterial&&(m.referencePosition.setFromMatrixPosition(e.matrixWorld),m.nearDistance=f,m.farDistance=g),m}function t(c,e,f,g,h){if(!1===c.visible)return;const i=c.layers.test(e.layers);if(i&&(c.isMesh||c.isLine||c.isPoints)&&(c.castShadow||c.receiveShadow&&3===h)&&(!c.frustumCulled||d.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,c.matrixWorld);const j=b.update(c),k=c.material;if(Array.isArray(k)){const l=j.groups;for(let m=0,n=l.length;m<n;m++){const o=l[m],p=k[o.materialIndex];if(p&&p.visible){const q=s(c,j,p,g,f.near,f.far,h);a.renderBufferDirect(f,null,j,q,c,o)}}}else if(k.visible){const r=s(c,j,k,g,f.near,f.far,h);a.renderBufferDirect(f,null,j,r,c,null)}}const u=c.children;for(let v=0,w=u.length;v<w;v++)t(u[v],e,f,g,h)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,c,h){if(!1===q.enabled)return;if(!1===q.autoUpdate&& !1===q.needsUpdate)return;if(0===b.length)return;const i=a.getRenderTarget(),j=a.getActiveCubeFace(),l=a.getActiveMipmapLevel(),m=a.state;m.setBlending(0),m.buffers.color.setClear(1,1,1,1),m.buffers.depth.setTest(!0),m.setScissorTest(!1);for(let n=0,o=b.length;n<o;n++){const p=b[n],s=p.shadow;if(void 0===s){console.warn("THREE.WebGLShadowMap:",p,"has no shadow.");continue}if(!1===s.autoUpdate&& !1===s.needsUpdate)continue;e.copy(s.mapSize);const u=s.getFrameExtents();if(e.multiply(u),f.copy(s.mapSize),(e.x>k||e.y>k)&&(e.x>k&&(f.x=Math.floor(k/u.x),e.x=f.x*u.x,s.mapSize.x=f.x),e.y>k&&(f.y=Math.floor(k/u.y),e.y=f.y*u.y,s.mapSize.y=f.y)),null===s.map&&!s.isPointLightShadow&&3===this.type){const v={minFilter:1006,magFilter:1006,format:1023};s.map=new Bm(e.x,e.y,v),s.map.texture.name=p.name+".shadowMap",s.mapPass=new Bm(e.x,e.y,v),s.camera.updateProjectionMatrix()}if(null===s.map){const w={minFilter:1003,magFilter:1003,format:1023};s.map=new Bm(e.x,e.y,w),s.map.texture.name=p.name+".shadowMap",s.camera.updateProjectionMatrix()}a.setRenderTarget(s.map),a.clear();const x=s.getViewportCount();for(let y=0;y<x;y++){const z=s.getViewport(y);g.set(f.x*z.x,f.y*z.y,f.x*z.z,f.y*z.w),m.viewport(g),s.updateMatrices(p,y),d=s.getFrustum(),t(c,h,s.camera,p,this.type)}s.isPointLightShadow||3!==this.type||r(s,h),s.needsUpdate=!1}q.needsUpdate=!1,a.setRenderTarget(i,j,l)}}function xX(a,b,c){const d=c.isWebGL2,e=new function(){let b=!1;const c=new Uk();let d=null;const e=new Uk(0,0,0,0);return{setMask:function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function(a){b=a},setClear:function(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g),c.set(b,d,f,g),!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function(){b=!1,d=null,e.set(-1,0,0,0)}}}(),f=new function(){let b=!1,c=null,d=null,e=null;return{setTest:function(a){a?J(2929):K(2929)},setMask:function(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function(b){if(d!==b){if(b)switch(b){case 0:a.depthFunc(512);break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);d=b}},setLocked:function(a){b=a},setClear:function(b){e!==b&&(a.clearDepth(b),e=b)},reset:function(){b=!1,c=null,d=null,e=null}}}(),g=new function(){let b=!1,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null;return{setTest:function(a){b||(a?J(2960):K(2960))},setMask:function(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function(b,c,g){(d!==b||e!==c||f!==g)&&(a.stencilFunc(b,c,g),d=b,e=c,f=g)},setOp:function(b,c,d){(g!==b||h!==c||i!==d)&&(a.stencilOp(b,c,d),g=b,h=c,i=d)},setLocked:function(a){b=a},setClear:function(b){j!==b&&(a.clearStencil(b),j=b)},reset:function(){b=!1,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null}}}();let h={},i={},j=null,k=!1,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=!1,t=null,u=null,v=null,w=null,x=null;const y=a.getParameter(35661);let z=!1;const A=a.getParameter(7938);-1!==A.indexOf("WebGL")?z=parseFloat(/^WebGL (\d)/.exec(A)[1])>=1:-1!==A.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL ES (\d)/.exec(A)[1])>=2);let B=null,C={};const D=a.getParameter(3088),E=a.getParameter(2978),F=new Uk().fromArray(D),G=new Uk().fromArray(E);function H(b,c,d){const e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f),a.texParameteri(b,10241,9728),a.texParameteri(b,10240,9728);for(let g=0;g<d;g++)a.texImage2D(c+g,0,6408,1,1,0,6408,5121,e);return f}const I={};function J(b){!0!==h[b]&&(a.enable(b),h[b]=!0)}function K(b){!1!==h[b]&&(a.disable(b),h[b]=!1)}I[3553]=H(3553,3553,1),I[34067]=H(34067,34069,6),e.setClear(0,0,0,1),f.setClear(1),g.setClear(0),J(2929),f.setFunc(3),P(!1),Q(1),J(2884),O(0);const L={[100]:32774,[101]:32778,[102]:32779};if(d)L[103]=32775,L[104]=32776;else{const M=b.get("EXT_blend_minmax");null!==M&&(L[103]=M.MIN_EXT,L[104]=M.MAX_EXT)}const N={[200]:0,[201]:1,[202]:768,[204]:770,[210]:776,[208]:774,[206]:772,[203]:769,[205]:771,[209]:775,[207]:773};function O(b,c,d,e,f,g,h,i){if(0===b){!0===k&&(K(3042),k=!1);return}if(!1===k&&(J(3042),k=!0),5!==b){if(b!==l||i!==s){if((100!==m||100!==p)&&(a.blendEquation(32774),m=100,p=100),i)switch(b){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);break}else switch(b){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,1);break;case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);break}n=null,o=null,q=null,r=null,l=b,s=i}return}f=f||c,g=g||d,h=h||e,(c!==m||f!==p)&&(a.blendEquationSeparate(L[c],L[f]),m=c,p=f),(d!==n||e!==o||g!==q||h!==r)&&(a.blendFuncSeparate(N[d],N[e],N[g],N[h]),n=d,o=e,q=g,r=h),l=b,s=null}function P(b){t!==b&&(b?a.frontFace(2304):a.frontFace(2305),t=b)}function Q(b){0!==b?(J(2884),b!==u&&(1===b?a.cullFace(1029):2===b?a.cullFace(1028):a.cullFace(1032))):K(2884),u=b}function R(b,c,d){b?(J(32823),(w!==c||x!==d)&&(a.polygonOffset(c,d),w=c,x=d)):K(32823)}function S(b){void 0===b&&(b=33984+y-1),B!==b&&(a.activeTexture(b),B=b)}return{buffers:{color:e,depth:f,stencil:g},enable:J,disable:K,bindFramebuffer:function(b,c){return i[b]!==c&&(a.bindFramebuffer(b,c),i[b]=c,d&&(36009===b&&(i[36160]=c),36160===b&&(i[36009]=c)),!0)},useProgram:function(b){return j!==b&&(a.useProgram(b),j=b,!0)},setBlending:O,setMaterial:function(a,b){2===a.side?K(2884):J(2884);let c=a.side===qg;b&&(c=!c),P(c),1===a.blending&& !1===a.transparent?O(0):O(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha),f.setFunc(a.depthFunc),f.setTest(a.depthTest),f.setMask(a.depthWrite),e.setMask(a.colorWrite);const d=a.stencilWrite;g.setTest(d),d&&(g.setMask(a.stencilWriteMask),g.setFunc(a.stencilFunc,a.stencilRef,a.stencilFuncMask),g.setOp(a.stencilFail,a.stencilZFail,a.stencilZPass)),R(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits),!0===a.alphaToCoverage?J(32926):K(32926)},setFlipSided:P,setCullFace:Q,setLineWidth:function(b){b!==v&&(z&&a.lineWidth(b),v=b)},setPolygonOffset:R,setScissorTest:function(a){a?J(3089):K(3089)},activeTexture:S,bindTexture:function(b,c){null===B&&S();let d=C[B];void 0===d&&(d={type:void 0,texture:void 0},C[B]=d),(d.type!==b||d.texture!==c)&&(a.bindTexture(b,c||I[b]),d.type=b,d.texture=c)},unbindTexture:function(){const b=C[B];void 0!==b&& void 0!==b.type&&(a.bindTexture(b.type,null),b.type=void 0,b.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},scissor:function(b){!1===F.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),F.copy(b))},viewport:function(b){!1===G.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),G.copy(b))},reset:function(){a.disable(3042),a.disable(2884),a.disable(2929),a.disable(32823),a.disable(3089),a.disable(2960),a.disable(32926),a.blendEquation(32774),a.blendFunc(1,0),a.blendFuncSeparate(1,0,1,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(513),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(519,0,4294967295),a.stencilOp(7680,7680,7680),a.clearStencil(0),a.cullFace(1029),a.frontFace(2305),a.polygonOffset(0,0),a.activeTexture(33984),a.bindFramebuffer(36160,null),!0===d&&(a.bindFramebuffer(36009,null),a.bindFramebuffer(36008,null)),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),h={},B=null,C={},i={},j=null,k=!1,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=!1,t=null,u=null,v=null,w=null,x=null,F.set(0,0,a.canvas.width,a.canvas.height),G.set(0,0,a.canvas.width,a.canvas.height),e.reset(),f.reset(),g.reset()}}}function yX(a,b,c,d,e,f,g){const h=e.isWebGL2,i=e.maxTextures,j=e.maxCubemapSize,k=e.maxTextureSize,l=e.maxSamples,m=b.has("WEBGL_multisampled_render_to_texture"),n=m?b.get("WEBGL_multisampled_render_to_texture"):void 0,o=new WeakMap();let p,q=!1;try{q="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(r){}function s(a,b){return q?new OffscreenCanvas(a,b):qk("canvas")}function t(a,b,c,d){let e=1;if((a.width>d||a.height>d)&&(e=d/Math.max(a.width,a.height)),e<1|| !0===b){if(("undefined"==typeof HTMLImageElement||!(a instanceof HTMLImageElement))&&("undefined"==typeof HTMLCanvasElement||!(a instanceof HTMLCanvasElement))&&("undefined"==typeof ImageBitmap||!(a instanceof ImageBitmap)))return"data"in a&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+a.width+"x"+a.height+")."),a;{const f=b?Vg:Math.floor,g=f(e*a.width),h=f(e*a.height);void 0===p&&(p=s(g,h));const i=c?s(g,h):p;i.width=g,i.height=h;const j=i.getContext("2d");return j.drawImage(a,0,0,g,h),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+a.width+"x"+a.height+") to ("+g+"x"+h+")."),i}}return a}function u(a){return Tg(a.width)&&Tg(a.height)}function v(a,b){return a.generateMipmaps&&b&&1003!==a.minFilter&&1006!==a.minFilter}function w(b){a.generateMipmap(b)}function x(c,d,e){if(!1===h)return d;if(null!==c){if(void 0!==a[c])return a[c];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+c+"'")}let f=d;return 6403===d&&(5126===e&&(f=33326),5131===e&&(f=33325),5121===e&&(f=33321)),6407===d&&(5126===e&&(f=34837),5131===e&&(f=34843),5121===e&&(f=32849)),6408===d&&(5126===e&&(f=34836),5131===e&&(f=34842),5121===e&&(f=32856)),(33325===f||33326===f||34842===f||34836===f)&&b.get("EXT_color_buffer_float"),f}function y(a){return 1003===a||1004===a||1005===a?9728:9729}function z(a){const b=a.target;b.removeEventListener("dispose",z),B(b),b.isVideoTexture&&o.delete(b),g.memory.textures--}function A(a){const b=a.target;b.removeEventListener("dispose",A),C(b)}function B(b){const c=d.get(b);void 0!==c.__webglInit&&(a.deleteTexture(c.__webglTexture),d.remove(b))}function C(b){const c=b.texture,e=d.get(b),f=d.get(c);if(b){if(void 0!==f.__webglTexture&&(a.deleteTexture(f.__webglTexture),g.memory.textures--),b.depthTexture&&b.depthTexture.dispose(),b.isWebGLCubeRenderTarget)for(let h=0;h<6;h++)a.deleteFramebuffer(e.__webglFramebuffer[h]),e.__webglDepthbuffer&&a.deleteRenderbuffer(e.__webglDepthbuffer[h]);else a.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&a.deleteRenderbuffer(e.__webglDepthbuffer),e.__webglMultisampledFramebuffer&&a.deleteFramebuffer(e.__webglMultisampledFramebuffer),e.__webglColorRenderbuffer&&a.deleteRenderbuffer(e.__webglColorRenderbuffer),e.__webglDepthRenderbuffer&&a.deleteRenderbuffer(e.__webglDepthRenderbuffer);if(b.isWebGLMultipleRenderTargets)for(let i=0,j=c.length;i<j;i++){const k=d.get(c[i]);k.__webglTexture&&(a.deleteTexture(k.__webglTexture),g.memory.textures--),d.remove(c[i])}d.remove(c),d.remove(b)}}let D=0;function E(a,b){const e=d.get(a);if(a.isVideoTexture&&Q(a),a.version>0&&e.__version!==a.version){const f=a.image;if(void 0===f)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===f.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{K(e,a,b);return}}c.activeTexture(33984+b),c.bindTexture(3553,e.__webglTexture)}function F(a,b){const e=d.get(a);if(a.version>0&&e.__version!==a.version){L(e,a,b);return}c.activeTexture(33984+b),c.bindTexture(34067,e.__webglTexture)}const G={[1e3]:10497,[1001]:33071,[1002]:33648},H={[1003]:9728,[1004]:9984,[1005]:9986,[1006]:9729,[1007]:9985,[1008]:9987};function I(c,f,g){if(g?(a.texParameteri(c,10242,G[f.wrapS]),a.texParameteri(c,10243,G[f.wrapT]),(32879===c||35866===c)&&a.texParameteri(c,32882,G[f.wrapR]),a.texParameteri(c,10240,H[f.magFilter]),a.texParameteri(c,10241,H[f.minFilter])):(a.texParameteri(c,10242,33071),a.texParameteri(c,10243,33071),(32879===c||35866===c)&&a.texParameteri(c,32882,33071),(1001!==f.wrapS||1001!==f.wrapT)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(c,10240,y(f.magFilter)),a.texParameteri(c,10241,y(f.minFilter)),1003!==f.minFilter&&1006!==f.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===b.has("EXT_texture_filter_anisotropic")){const i=b.get("EXT_texture_filter_anisotropic");(1015!==f.type|| !1!==b.has("OES_texture_float_linear"))&&(!1!==h||1016!==f.type|| !1!==b.has("OES_texture_half_float_linear"))&&(f.anisotropy>1||d.get(f).__currentAnisotropy)&&(a.texParameterf(c,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(f.anisotropy,e.getMaxAnisotropy())),d.get(f).__currentAnisotropy=f.anisotropy)}}function J(b,c){void 0===b.__webglInit&&(b.__webglInit=!0,c.addEventListener("dispose",z),b.__webglTexture=a.createTexture(),g.memory.textures++)}function K(b,d,e){var g,i,j;let l=3553;d.isDataTexture2DArray&&(l=35866),d.isDataTexture3D&&(l=32879),J(b,d),c.activeTexture(33984+e),c.bindTexture(l,b.__webglTexture),a.pixelStorei(37440,d.flipY),a.pixelStorei(37441,d.premultiplyAlpha),a.pixelStorei(3317,d.unpackAlignment),a.pixelStorei(37443,0);const m=(g=d,!h&&(1001!==g.wrapS||1001!==g.wrapT||1003!==g.minFilter&&1006!==g.minFilter)&& !1===u(d.image)),n=t(d.image,m,!1,k),o=u(n)||h,p=f.convert(d.format);let q=f.convert(d.type),r=x(d.internalFormat,p,q,d.encoding);I(l,d,o);let s;const y=d.mipmaps;if(d.isDepthTexture)r=6402,h?r=1015===d.type?36012:1014===d.type?33190:1020===d.type?35056:33189:1015===d.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===d.format&&6402===r&&1012!==d.type&&1014!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),d.type=1012,q=f.convert(d.type)),1027===d.format&&6402===r&&(r=34041,1020!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),d.type=1020,q=f.convert(d.type))),c.texImage2D(3553,0,r,n.width,n.height,0,p,q,null);else if(d.isDataTexture)if(y.length>0&&o){for(let z=0,A=y.length;z<A;z++)s=y[z],c.texImage2D(3553,z,r,s.width,s.height,0,p,q,s.data);d.generateMipmaps=!1}else c.texImage2D(3553,0,r,n.width,n.height,0,p,q,n.data);else if(d.isCompressedTexture)for(let B=0,C=y.length;B<C;B++)s=y[B],1023!==d.format&&1022!==d.format?null!==p?c.compressedTexImage2D(3553,B,r,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,B,r,s.width,s.height,0,p,q,s.data);else if(d.isDataTexture2DArray)c.texImage3D(35866,0,r,n.width,n.height,n.depth,0,p,q,n.data);else if(d.isDataTexture3D)c.texImage3D(32879,0,r,n.width,n.height,n.depth,0,p,q,n.data);else{const D=(i=d,j=n,!0===v(i,o)?Math.log2(Math.max(j.width,j.height))+1:i.mipmaps.length>0?i.mipmaps.length:1),E=h&& !0!==d.isVideoTexture,F=void 0===b.__version;if(y.length>0&&o){E&&F&&c.texStorage2D(3553,D,r,y[0].width,y[0].height);for(let G=0,H=y.length;G<H;G++)s=y[G],E?c.texSubImage2D(3553,G,0,0,p,q,s):c.texImage2D(3553,G,r,p,q,s);d.generateMipmaps=!1}else E?(F&&c.texStorage2D(3553,D,r,n.width,n.height),c.texSubImage2D(3553,0,0,0,p,q,n)):c.texImage2D(3553,0,r,p,q,n)}v(d,o)&&w(l),b.__version=d.version,d.onUpdate&&d.onUpdate(d)}function L(b,d,e){if(6!==d.image.length)return;J(b,d),c.activeTexture(33984+e),c.bindTexture(34067,b.__webglTexture),a.pixelStorei(37440,d.flipY),a.pixelStorei(37441,d.premultiplyAlpha),a.pixelStorei(3317,d.unpackAlignment),a.pixelStorei(37443,0);const g=d&&(d.isCompressedTexture||d.image[0].isCompressedTexture),i=d.image[0]&&d.image[0].isDataTexture,k=[];for(let l=0;l<6;l++)g||i?k[l]=i?d.image[l].image:d.image[l]:k[l]=t(d.image[l],!1,!0,j);const m=k[0],n=u(m)||h,o=f.convert(d.format),p=f.convert(d.type),q=x(d.internalFormat,o,p,d.encoding);I(34067,d,n);let r;if(g)for(let s=0;s<6;s++){r=k[s].mipmaps;for(let y=0;y<r.length;y++){const z=r[y];1023!==d.format&&1022!==d.format?null!==o?c.compressedTexImage2D(34069+s,y,q,z.width,z.height,0,z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+s,y,q,z.width,z.height,0,o,p,z.data)}}else{r=d.mipmaps;for(let A=0;A<6;A++)if(i){c.texImage2D(34069+A,0,q,k[A].width,k[A].height,0,o,p,k[A].data);for(let B=0;B<r.length;B++){const C=r[B],D=C.image[A].image;c.texImage2D(34069+A,B+1,q,D.width,D.height,0,o,p,D.data)}}else{c.texImage2D(34069+A,0,q,o,p,k[A]);for(let E=0;E<r.length;E++){const F=r[E];c.texImage2D(34069+A,E+1,q,o,p,F.image[A])}}}v(d,n)&&w(34067),b.__version=d.version,d.onUpdate&&d.onUpdate(d)}function M(b,e,g,h,i){const j=f.convert(g.format),k=f.convert(g.type),l=x(g.internalFormat,j,k,g.encoding),m=d.get(e);m.__hasExternalTextures||(32879===i||35866===i?c.texImage3D(i,0,l,e.width,e.height,e.depth,0,j,k,null):c.texImage2D(i,0,l,e.width,e.height,0,j,k,null)),c.bindFramebuffer(36160,b),e.useRenderToTexture?n.framebufferTexture2DMultisampleEXT(36160,h,i,d.get(g).__webglTexture,0,P(e)):a.framebufferTexture2D(36160,h,i,d.get(g).__webglTexture,0),c.bindFramebuffer(36160,null)}function N(b,c,d){if(a.bindRenderbuffer(36161,b),c.depthBuffer&&!c.stencilBuffer){let e=33189;if(d||c.useRenderToTexture){const g=c.depthTexture;g&&g.isDepthTexture&&(1015===g.type?e=36012:1014===g.type&&(e=33190));const h=P(c);c.useRenderToTexture?n.renderbufferStorageMultisampleEXT(36161,h,e,c.width,c.height):a.renderbufferStorageMultisample(36161,h,e,c.width,c.height)}else a.renderbufferStorage(36161,e,c.width,c.height);a.framebufferRenderbuffer(36160,36096,36161,b)}else if(c.depthBuffer&&c.stencilBuffer){const i=P(c);d&&c.useRenderbuffer?a.renderbufferStorageMultisample(36161,i,35056,c.width,c.height):c.useRenderToTexture?n.renderbufferStorageMultisampleEXT(36161,i,35056,c.width,c.height):a.renderbufferStorage(36161,34041,c.width,c.height),a.framebufferRenderbuffer(36160,33306,36161,b)}else{const j=!0===c.isWebGLMultipleRenderTargets?c.texture[0]:c.texture,k=f.convert(j.format),l=f.convert(j.type),m=x(j.internalFormat,k,l,j.encoding),o=P(c);d&&c.useRenderbuffer?a.renderbufferStorageMultisample(36161,o,m,c.width,c.height):c.useRenderToTexture?n.renderbufferStorageMultisampleEXT(36161,o,m,c.width,c.height):a.renderbufferStorage(36161,m,c.width,c.height)}a.bindRenderbuffer(36161,null)}function O(b){const e=d.get(b),f=!0===b.isWebGLCubeRenderTarget;if(b.depthTexture&&!e.__autoAllocateDepthBuffer){if(f)throw new Error("target.depthTexture not supported in Cube render targets");!function(b,e){const f=e&&e.isWebGLCubeRenderTarget;if(f)throw new Error("Depth Texture with cube render targets is not supported");if(c.bindFramebuffer(36160,b),!(e.depthTexture&&e.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),E(e.depthTexture,0);const g=d.get(e.depthTexture).__webglTexture,h=P(e);if(1026===e.depthTexture.format)e.useRenderToTexture?n.framebufferTexture2DMultisampleEXT(36160,36096,3553,g,0,h):a.framebufferTexture2D(36160,36096,3553,g,0);else if(1027===e.depthTexture.format)e.useRenderToTexture?n.framebufferTexture2DMultisampleEXT(36160,33306,3553,g,0,h):a.framebufferTexture2D(36160,33306,3553,g,0);else throw new Error("Unknown depthTexture format")}(e.__webglFramebuffer,b)}else if(f){e.__webglDepthbuffer=[];for(let g=0;g<6;g++)c.bindFramebuffer(36160,e.__webglFramebuffer[g]),e.__webglDepthbuffer[g]=a.createRenderbuffer(),N(e.__webglDepthbuffer[g],b,!1)}else c.bindFramebuffer(36160,e.__webglFramebuffer),e.__webglDepthbuffer=a.createRenderbuffer(),N(e.__webglDepthbuffer,b,!1);c.bindFramebuffer(36160,null)}function P(a){return h&&(a.useRenderbuffer||a.useRenderToTexture)?Math.min(l,a.samples):0}function Q(a){const b=g.render.frame;o.get(a)!==b&&(o.set(a,b),a.update())}let R=!1,S=!1;this.allocateTextureUnit=function(){const a=D;return a>=i&&console.warn("THREE.WebGLTextures: Trying to use "+a+" texture units while this GPU supports only "+i),D+=1,a},this.resetTextureUnits=function(){D=0},this.setTexture2D=E,this.setTexture2DArray=function(a,b){const e=d.get(a);if(a.version>0&&e.__version!==a.version){K(e,a,b);return}c.activeTexture(33984+b),c.bindTexture(35866,e.__webglTexture)},this.setTexture3D=function(a,b){const e=d.get(a);if(a.version>0&&e.__version!==a.version){K(e,a,b);return}c.activeTexture(33984+b),c.bindTexture(32879,e.__webglTexture)},this.setTextureCube=F,this.rebindTextures=function(a,b,c){const e=d.get(a);void 0!==b&&M(e.__webglFramebuffer,a,a.texture,36064,3553),void 0!==c&&O(a)},this.setupRenderTarget=function(b){const i=b.texture,j=d.get(b),k=d.get(i);b.addEventListener("dispose",A),!0!==b.isWebGLMultipleRenderTargets&&(void 0===k.__webglTexture&&(k.__webglTexture=a.createTexture()),k.__version=i.version,g.memory.textures++);const l=!0===b.isWebGLCubeRenderTarget,m=!0===b.isWebGLMultipleRenderTargets,n=i.isDataTexture3D||i.isDataTexture2DArray,o=u(b)||h;if(h&&1022===i.format&&(1015===i.type||1016===i.type)&&(i.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){j.__webglFramebuffer=[];for(let p=0;p<6;p++)j.__webglFramebuffer[p]=a.createFramebuffer()}else if(j.__webglFramebuffer=a.createFramebuffer(),m)if(e.drawBuffers){const q=b.texture;for(let r=0,s=q.length;r<s;r++){const t=d.get(q[r]);void 0===t.__webglTexture&&(t.__webglTexture=a.createTexture(),g.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(b.useRenderbuffer)if(h){j.__webglMultisampledFramebuffer=a.createFramebuffer(),j.__webglColorRenderbuffer=a.createRenderbuffer(),a.bindRenderbuffer(36161,j.__webglColorRenderbuffer);const y=f.convert(i.format),z=f.convert(i.type),B=x(i.internalFormat,y,z,i.encoding),C=P(b);a.renderbufferStorageMultisample(36161,C,B,b.width,b.height),c.bindFramebuffer(36160,j.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(36160,36064,36161,j.__webglColorRenderbuffer),a.bindRenderbuffer(36161,null),b.depthBuffer&&(j.__webglDepthRenderbuffer=a.createRenderbuffer(),N(j.__webglDepthRenderbuffer,b,!0)),c.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){c.bindTexture(34067,k.__webglTexture),I(34067,i,o);for(let D=0;D<6;D++)M(j.__webglFramebuffer[D],b,i,36064,34069+D);v(i,o)&&w(34067),c.unbindTexture()}else if(m){const E=b.texture;for(let F=0,G=E.length;F<G;F++){const H=E[F],J=d.get(H);c.bindTexture(3553,J.__webglTexture),I(3553,H,o),M(j.__webglFramebuffer,b,H,36064+F,3553),v(H,o)&&w(3553)}c.unbindTexture()}else{let K=3553;if(n)if(h){const L=i.isDataTexture3D;K=L?32879:35866}else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");c.bindTexture(K,k.__webglTexture),I(K,i,o),M(j.__webglFramebuffer,b,i,36064,K),v(i,o)&&w(K),c.unbindTexture()}b.depthBuffer&&O(b)},this.updateRenderTargetMipmap=function(a){const b=u(a)||h,e=!0===a.isWebGLMultipleRenderTargets?a.texture:[a.texture];for(let f=0,g=e.length;f<g;f++){const i=e[f];if(v(i,b)){const j=a.isWebGLCubeRenderTarget?34067:3553,k=d.get(i).__webglTexture;c.bindTexture(j,k),w(j),c.unbindTexture()}}},this.updateMultisampleRenderTarget=function(b){if(b.useRenderbuffer)if(h){const e=b.width,f=b.height;let g=16384;const i=[36064],j=b.stencilBuffer?33306:36096;b.depthBuffer&&i.push(j),!b.ignoreDepthForMultisampleCopy&&(b.depthBuffer&&(g|=256),b.stencilBuffer&&(g|=1024));const k=d.get(b);c.bindFramebuffer(36008,k.__webglMultisampledFramebuffer),c.bindFramebuffer(36009,k.__webglFramebuffer),b.ignoreDepthForMultisampleCopy&&(a.invalidateFramebuffer(36008,[j]),a.invalidateFramebuffer(36009,[j])),a.blitFramebuffer(0,0,e,f,0,0,e,f,g,9728),a.invalidateFramebuffer(36008,i),c.bindFramebuffer(36008,null),c.bindFramebuffer(36009,k.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.setupDepthRenderbuffer=O,this.setupFrameBufferTexture=M,this.safeSetTexture2D=function(a,b){a&&a.isWebGLRenderTarget&&(!1===R&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),R=!0),a=a.texture),E(a,b)},this.safeSetTextureCube=function(a,b){a&&a.isWebGLCubeRenderTarget&&(!1===S&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),S=!0),a=a.texture),F(a,b)}}function zX(a,b,c){const d=c.isWebGL2;return{convert:function(a){let c;if(1009===a)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1019===a)return 33635;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(1014===a)return 5125;if(1015===a)return 5126;if(1016===a)return d?5131:null!==(c=b.get("OES_texture_half_float"))?c.HALF_FLOAT_OES:null;if(1021===a)return 6406;if(1022===a)return 6407;if(1023===a)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(1026===a)return 6402;if(1027===a)return 34041;if(1028===a)return 6403;if(1029===a)return 36244;if(1030===a)return 33319;if(1031===a)return 33320;if(1032===a)return 36248;if(1033===a)return 36249;if(33776===a||33777===a||33778===a||33779===a){if(null===(c=b.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===a)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===a)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a){if(null===(c=b.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===a)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a)return null!==(c=b.get("WEBGL_compressed_texture_etc1"))?c.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===a||37496===a)&&null!==(c=b.get("WEBGL_compressed_texture_etc"))){if(37492===a)return c.COMPRESSED_RGB8_ETC2;if(37496===a)return c.COMPRESSED_RGBA8_ETC2_EAC}return 37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a||37840===a||37841===a||37842===a||37843===a||37844===a||37845===a||37846===a||37847===a||37848===a||37849===a||37850===a||37851===a||37852===a||37853===a?null!==(c=b.get("WEBGL_compressed_texture_astc"))?a:null:36492===a?null!==(c=b.get("EXT_texture_compression_bptc"))?a:null:1020===a?d?34042:null!==(c=b.get("WEBGL_depth_texture"))?c.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}tX.prototype.isMeshDistanceMaterial=!0;class AX extends aP{constructor(BX=[]){super(),this.cameras=BX}}AX.prototype.isArrayCamera=!0;class CX extends $B{constructor(){super(),this.type="Group"}}CX.prototype.isGroup=!0;const DX={type:"move"};class EX{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new CX(),this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new CX(),this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Jp(),this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Jp()),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new CX(),this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Jp(),this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Jp()),this._grip}dispatchEvent(FX){return null!==this._targetRay&&this._targetRay.dispatchEvent(FX),null!==this._grip&&this._grip.dispatchEvent(FX),null!==this._hand&&this._hand.dispatchEvent(FX),this}disconnect(GX){return this.dispatchEvent({type:"disconnected",data:GX}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(HX,IX,JX){let KX=null,LX=null,MX=null;const NX=this._targetRay,OX=this._grip,PX=this._hand;if(HX&&"visible-blurred"!==IX.session.visibilityState)if(null!==NX&&null!==(KX=IX.getPose(HX.targetRaySpace,JX))&&(NX.matrix.fromArray(KX.transform.matrix),NX.matrix.decompose(NX.position,NX.rotation,NX.scale),KX.linearVelocity?(NX.hasLinearVelocity=!0,NX.linearVelocity.copy(KX.linearVelocity)):NX.hasLinearVelocity=!1,KX.angularVelocity?(NX.hasAngularVelocity=!0,NX.angularVelocity.copy(KX.angularVelocity)):NX.hasAngularVelocity=!1,this.dispatchEvent(DX)),PX&&HX.hand){for(const QX of(MX=!0,HX.hand.values())){const RX=IX.getJointPose(QX,JX);if(void 0===PX.joints[QX.jointName]){const SX=new CX();SX.matrixAutoUpdate=!1,SX.visible=!1,PX.joints[QX.jointName]=SX,PX.add(SX)}const TX=PX.joints[QX.jointName];null!==RX&&(TX.matrix.fromArray(RX.transform.matrix),TX.matrix.decompose(TX.position,TX.rotation,TX.scale),TX.jointRadius=RX.radius),TX.visible=null!==RX}const UX=PX.joints["index-finger-tip"],VX=PX.joints["thumb-tip"],WX=UX.position.distanceTo(VX.position),XX=.02,YX=.005;PX.inputState.pinching&&WX>XX+YX?(PX.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:HX.handedness,target:this})):!PX.inputState.pinching&&WX<=XX-YX&&(PX.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:HX.handedness,target:this}))}else null!==OX&&HX.gripSpace&&null!==(LX=IX.getPose(HX.gripSpace,JX))&&(OX.matrix.fromArray(LX.transform.matrix),OX.matrix.decompose(OX.position,OX.rotation,OX.scale),LX.linearVelocity?(OX.hasLinearVelocity=!0,OX.linearVelocity.copy(LX.linearVelocity)):OX.hasLinearVelocity=!1,LX.angularVelocity?(OX.hasAngularVelocity=!0,OX.angularVelocity.copy(LX.angularVelocity)):OX.hasAngularVelocity=!1);return null!==NX&&(NX.visible=null!==KX),null!==OX&&(OX.visible=null!==LX),null!==PX&&(PX.visible=null!==MX),this}}class ZX extends yk{constructor($X,_X,aY,bY,cY,dY,eY,fY,gY,hY){if(1026!==(hY=void 0!==hY?hY:1026)&&1027!==hY)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===aY&&1026===hY&&(aY=1012),void 0===aY&&1027===hY&&(aY=1020),super(null,bY,cY,dY,eY,fY,hY,aY,gY),this.image={width:$X,height:_X},this.magFilter=void 0!==eY?eY:1003,this.minFilter=void 0!==fY?fY:1003,this.flipY=!1,this.generateMipmaps=!1}}ZX.prototype.isDepthTexture=!0;class iY extends sg{constructor(jY,kY){super();const lY=this;let mY=null,nY=1,oY=null,pY="local-floor";const qY=jY.extensions.has("WEBGL_multisampled_render_to_texture");let rY=null,sY=null,tY=null,uY=null,vY=!1,wY=null;const xY=kY.getContextAttributes();let yY=null,zY=null;const AY=[],BY=new Map(),CY=new aP();CY.layers.enable(1),CY.viewport=new Uk();const DY=new aP();DY.layers.enable(2),DY.viewport=new Uk();const EY=[CY,DY],FY=new AX();FY.layers.enable(1),FY.layers.enable(2);let GY=null,HY=null;function IY(a){const b=BY.get(a.inputSource);b&&b.dispatchEvent({type:a.type,data:a.inputSource})}function JY(){BY.forEach(function(a,b){a.disconnect(b)}),BY.clear(),GY=null,HY=null,jY.setRenderTarget(yY),uY=null,tY=null,sY=null,mY=null,zY=null,PY.stop(),lY.isPresenting=!1,lY.dispatchEvent({type:"sessionend"})}function KY(a){const b=mY.inputSources;for(let c=0;c<AY.length;c++)BY.set(b[c],AY[c]);for(let d=0;d<a.removed.length;d++){const e=a.removed[d],f=BY.get(e);f&&(f.dispatchEvent({type:"disconnected",data:e}),BY.delete(e))}for(let g=0;g<a.added.length;g++){const h=a.added[g],i=BY.get(h);i&&i.dispatchEvent({type:"connected",data:h})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(a){let b=AY[a];return void 0===b&&(b=new EX(),AY[a]=b),b.getTargetRaySpace()},this.getControllerGrip=function(a){let b=AY[a];return void 0===b&&(b=new EX(),AY[a]=b),b.getGripSpace()},this.getHand=function(a){let b=AY[a];return void 0===b&&(b=new EX(),AY[a]=b),b.getHandSpace()},this.setFramebufferScaleFactor=function(a){nY=a,!0===lY.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(a){pY=a,!0===lY.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return oY},this.getBaseLayer=function(){return null!==tY?tY:uY},this.getBinding=function(){return sY},this.getFrame=function(){return wY},this.getSession=function(){return mY},this.setSession=async function(a){if(null!==(mY=a)){if(yY=jY.getRenderTarget(),mY.addEventListener("select",IY),mY.addEventListener("selectstart",IY),mY.addEventListener("selectend",IY),mY.addEventListener("squeeze",IY),mY.addEventListener("squeezestart",IY),mY.addEventListener("squeezeend",IY),mY.addEventListener("end",JY),mY.addEventListener("inputsourceschange",KY),!0!==xY.xrCompatible&&await kY.makeXRCompatible(),void 0===mY.renderState.layers|| !1===jY.capabilities.isWebGL2){const b={antialias:void 0!==mY.renderState.layers||xY.antialias,alpha:xY.alpha,depth:xY.depth,stencil:xY.stencil,framebufferScaleFactor:nY};uY=new XRWebGLLayer(mY,kY,b),mY.updateRenderState({baseLayer:uY}),zY=new Bm(uY.framebufferWidth,uY.framebufferHeight)}else{vY=xY.antialias;let c=null,d=null,e=null;xY.depth&&(e=xY.stencil?35056:33189,c=xY.stencil?1027:1026,d=xY.stencil?1020:1012);const f={colorFormat:xY.alpha||vY?32856:32849,depthFormat:e,scaleFactor:nY};tY=(sY=new XRWebGLBinding(mY,kY)).createProjectionLayer(f),mY.updateRenderState({layers:[tY]}),zY=vY?new Xm(tY.textureWidth,tY.textureHeight,{format:1023,type:1009,depthTexture:new ZX(tY.textureWidth,tY.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:xY.stencil,ignoreDepth:tY.ignoreDepthValues,useRenderToTexture:qY}):new Bm(tY.textureWidth,tY.textureHeight,{format:xY.alpha?1023:1022,type:1009,depthTexture:new ZX(tY.textureWidth,tY.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:xY.stencil,ignoreDepth:tY.ignoreDepthValues})}this.setFoveation(0),oY=await mY.requestReferenceSpace(pY),PY.setContext(mY),PY.start(),lY.isPresenting=!0,lY.dispatchEvent({type:"sessionstart"})}};const LY=new Jp(),MY=new Jp();function NY(a,b){null===b?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(b.matrixWorld,a.matrix),a.matrixWorldInverse.copy(a.matrixWorld).invert()}this.updateCamera=function(a){if(null===mY)return;FY.near=DY.near=CY.near=a.near,FY.far=DY.far=CY.far=a.far,(GY!==FY.near||HY!==FY.far)&&(mY.updateRenderState({depthNear:FY.near,depthFar:FY.far}),GY=FY.near,HY=FY.far);const b=a.parent,c=FY.cameras;NY(FY,b);for(let d=0;d<c.length;d++)NY(c[d],b);FY.matrixWorld.decompose(FY.position,FY.quaternion,FY.scale),a.position.copy(FY.position),a.quaternion.copy(FY.quaternion),a.scale.copy(FY.scale),a.matrix.copy(FY.matrix),a.matrixWorld.copy(FY.matrixWorld);const e=a.children;for(let f=0,g=e.length;f<g;f++)e[f].updateMatrixWorld(!0);2===c.length?(function(a,b,c){LY.setFromMatrixPosition(b.matrixWorld),MY.setFromMatrixPosition(c.matrixWorld);const d=LY.distanceTo(MY),e=b.projectionMatrix.elements,f=c.projectionMatrix.elements,g=e[14]/(e[10]-1),h=e[14]/(e[10]+1),i=(e[9]+1)/e[5],j=(e[9]-1)/e[5],k=(e[8]-1)/e[0],l=(f[8]+1)/f[0],m=d/(-k+l),n=-(m*k);b.matrixWorld.decompose(a.position,a.quaternion,a.scale),a.translateX(n),a.translateZ(m),a.matrixWorld.compose(a.position,a.quaternion,a.scale),a.matrixWorldInverse.copy(a.matrixWorld).invert();const o=g+m,p=h+m;a.projectionMatrix.makePerspective(g*k-n,g*l+(d-n),i*h/p*o,j*h/p*o,o,p)})(FY,CY,DY):FY.projectionMatrix.copy(CY.projectionMatrix)},this.getCamera=function(){return FY},this.getFoveation=function(){return null!==tY?tY.fixedFoveation:null!==uY?uY.fixedFoveation:void 0},this.setFoveation=function(a){null!==tY&&(tY.fixedFoveation=a),null!==uY&& void 0!==uY.fixedFoveation&&(uY.fixedFoveation=a)};let OY=null;const PY=new nS();PY.setAnimationLoop(function(a,b){if(rY=b.getViewerPose(oY),wY=b,null!==rY){const c=rY.views;null!==uY&&(jY.setRenderTargetFramebuffer(zY,uY.framebuffer),jY.setRenderTarget(zY));let d=!1;c.length!==FY.cameras.length&&(FY.cameras.length=0,d=!0);for(let e=0;e<c.length;e++){const f=c[e];let g=null;if(null!==uY)g=uY.getViewport(f);else{const h=sY.getViewSubImage(tY,f);g=h.viewport,0===e&&(jY.setRenderTargetTextures(zY,h.colorTexture,tY.ignoreDepthValues?void 0:h.depthStencilTexture),jY.setRenderTarget(zY))}const i=EY[e];i.matrix.fromArray(f.transform.matrix),i.projectionMatrix.fromArray(f.projectionMatrix),i.viewport.set(g.x,g.y,g.width,g.height),0===e&&FY.matrix.copy(i.matrix),!0===d&&FY.cameras.push(i)}}const j=mY.inputSources;for(let k=0;k<AY.length;k++){const l=AY[k],m=j[k];l.update(m,b,oY)}OY&&OY(a,b),wY=null}),this.setAnimationLoop=function(a){OY=a},this.dispose=function(){}}}function QY(a){function b(b,c){b.opacity.value=c.opacity,c.color&&b.diffuse.value.copy(c.color),c.emissive&&b.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity),c.map&&(b.map.value=c.map),c.alphaMap&&(b.alphaMap.value=c.alphaMap),c.specularMap&&(b.specularMap.value=c.specularMap),c.alphaTest>0&&(b.alphaTest.value=c.alphaTest);const d=a.get(c).envMap;d&&(b.envMap.value=d,b.flipEnvMap.value=d.isCubeTexture&& !1===d.isRenderTargetTexture?-1:1,b.reflectivity.value=c.reflectivity,b.ior.value=c.ior,b.refractionRatio.value=c.refractionRatio),c.lightMap&&(b.lightMap.value=c.lightMap,b.lightMapIntensity.value=c.lightMapIntensity),c.aoMap&&(b.aoMap.value=c.aoMap,b.aoMapIntensity.value=c.aoMapIntensity);let e;c.map?e=c.map:c.specularMap?e=c.specularMap:c.displacementMap?e=c.displacementMap:c.normalMap?e=c.normalMap:c.bumpMap?e=c.bumpMap:c.roughnessMap?e=c.roughnessMap:c.metalnessMap?e=c.metalnessMap:c.alphaMap?e=c.alphaMap:c.emissiveMap?e=c.emissiveMap:c.clearcoatMap?e=c.clearcoatMap:c.clearcoatNormalMap?e=c.clearcoatNormalMap:c.clearcoatRoughnessMap?e=c.clearcoatRoughnessMap:c.specularIntensityMap?e=c.specularIntensityMap:c.specularColorMap?e=c.specularColorMap:c.transmissionMap?e=c.transmissionMap:c.thicknessMap?e=c.thicknessMap:c.sheenColorMap?e=c.sheenColorMap:c.sheenRoughnessMap&&(e=c.sheenRoughnessMap),void 0!==e&&(e.isWebGLRenderTarget&&(e=e.texture),!0===e.matrixAutoUpdate&&e.updateMatrix(),b.uvTransform.value.copy(e.matrix));let f;c.aoMap?f=c.aoMap:c.lightMap&&(f=c.lightMap),void 0!==f&&(f.isWebGLRenderTarget&&(f=f.texture),!0===f.matrixAutoUpdate&&f.updateMatrix(),b.uv2Transform.value.copy(f.matrix))}function c(b,c){b.roughness.value=c.roughness,b.metalness.value=c.metalness,c.roughnessMap&&(b.roughnessMap.value=c.roughnessMap),c.metalnessMap&&(b.metalnessMap.value=c.metalnessMap),c.emissiveMap&&(b.emissiveMap.value=c.emissiveMap),c.bumpMap&&(b.bumpMap.value=c.bumpMap,b.bumpScale.value=c.bumpScale,c.side===qg&&(b.bumpScale.value*=-1)),c.normalMap&&(b.normalMap.value=c.normalMap,b.normalScale.value.copy(c.normalScale),c.side===qg&&b.normalScale.value.negate()),c.displacementMap&&(b.displacementMap.value=c.displacementMap,b.displacementScale.value=c.displacementScale,b.displacementBias.value=c.displacementBias);const d=a.get(c).envMap;d&&(b.envMapIntensity.value=c.envMapIntensity)}return{refreshFogUniforms:function(a,b){a.fogColor.value.copy(b.color),b.isFog?(a.fogNear.value=b.near,a.fogFar.value=b.far):b.isFogExp2&&(a.fogDensity.value=b.density)},refreshMaterialUniforms:function(a,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;let I,J;d.isMeshBasicMaterial?b(a,d):d.isMeshLambertMaterial?(b(a,d),h=a,(i=d).emissiveMap&&(h.emissiveMap.value=i.emissiveMap)):d.isMeshToonMaterial?(b(a,d),j=a,(k=d).gradientMap&&(j.gradientMap.value=k.gradientMap),k.emissiveMap&&(j.emissiveMap.value=k.emissiveMap),k.bumpMap&&(j.bumpMap.value=k.bumpMap,j.bumpScale.value=k.bumpScale,k.side===qg&&(j.bumpScale.value*=-1)),k.normalMap&&(j.normalMap.value=k.normalMap,j.normalScale.value.copy(k.normalScale),k.side===qg&&j.normalScale.value.negate()),k.displacementMap&&(j.displacementMap.value=k.displacementMap,j.displacementScale.value=k.displacementScale,j.displacementBias.value=k.displacementBias)):d.isMeshPhongMaterial?(b(a,d),l=a,m=d,l.specular.value.copy(m.specular),l.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(l.emissiveMap.value=m.emissiveMap),m.bumpMap&&(l.bumpMap.value=m.bumpMap,l.bumpScale.value=m.bumpScale,m.side===qg&&(l.bumpScale.value*=-1)),m.normalMap&&(l.normalMap.value=m.normalMap,l.normalScale.value.copy(m.normalScale),m.side===qg&&l.normalScale.value.negate()),m.displacementMap&&(l.displacementMap.value=m.displacementMap,l.displacementScale.value=m.displacementScale,l.displacementBias.value=m.displacementBias)):d.isMeshStandardMaterial?(b(a,d),d.isMeshPhysicalMaterial?(n=a,o=d,p=g,c(n,o),n.ior.value=o.ior,o.sheen>0&&(n.sheenColor.value.copy(o.sheenColor).multiplyScalar(o.sheen),n.sheenRoughness.value=o.sheenRoughness,o.sheenColorMap&&(n.sheenColorMap.value=o.sheenColorMap),o.sheenRoughnessMap&&(n.sheenRoughnessMap.value=o.sheenRoughnessMap)),o.clearcoat>0&&(n.clearcoat.value=o.clearcoat,n.clearcoatRoughness.value=o.clearcoatRoughness,o.clearcoatMap&&(n.clearcoatMap.value=o.clearcoatMap),o.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap.value=o.clearcoatRoughnessMap),o.clearcoatNormalMap&&(n.clearcoatNormalScale.value.copy(o.clearcoatNormalScale),n.clearcoatNormalMap.value=o.clearcoatNormalMap,o.side===qg&&n.clearcoatNormalScale.value.negate())),o.transmission>0&&(n.transmission.value=o.transmission,n.transmissionSamplerMap.value=p.texture,n.transmissionSamplerSize.value.set(p.width,p.height),o.transmissionMap&&(n.transmissionMap.value=o.transmissionMap),n.thickness.value=o.thickness,o.thicknessMap&&(n.thicknessMap.value=o.thicknessMap),n.attenuationDistance.value=o.attenuationDistance,n.attenuationColor.value.copy(o.attenuationColor)),n.specularIntensity.value=o.specularIntensity,n.specularColor.value.copy(o.specularColor),o.specularIntensityMap&&(n.specularIntensityMap.value=o.specularIntensityMap),o.specularColorMap&&(n.specularColorMap.value=o.specularColorMap)):c(a,d)):d.isMeshMatcapMaterial?(b(a,d),q=a,(r=d).matcap&&(q.matcap.value=r.matcap),r.bumpMap&&(q.bumpMap.value=r.bumpMap,q.bumpScale.value=r.bumpScale,r.side===qg&&(q.bumpScale.value*=-1)),r.normalMap&&(q.normalMap.value=r.normalMap,q.normalScale.value.copy(r.normalScale),r.side===qg&&q.normalScale.value.negate()),r.displacementMap&&(q.displacementMap.value=r.displacementMap,q.displacementScale.value=r.displacementScale,q.displacementBias.value=r.displacementBias)):d.isMeshDepthMaterial?(b(a,d),s=a,(t=d).displacementMap&&(s.displacementMap.value=t.displacementMap,s.displacementScale.value=t.displacementScale,s.displacementBias.value=t.displacementBias)):d.isMeshDistanceMaterial?(b(a,d),u=a,(v=d).displacementMap&&(u.displacementMap.value=v.displacementMap,u.displacementScale.value=v.displacementScale,u.displacementBias.value=v.displacementBias),u.referencePosition.value.copy(v.referencePosition),u.nearDistance.value=v.nearDistance,u.farDistance.value=v.farDistance):d.isMeshNormalMaterial?(b(a,d),w=a,(x=d).bumpMap&&(w.bumpMap.value=x.bumpMap,w.bumpScale.value=x.bumpScale,x.side===qg&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,w.normalScale.value.copy(x.normalScale),x.side===qg&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias)):d.isLineBasicMaterial?(y=a,z=d,y.diffuse.value.copy(z.color),y.opacity.value=z.opacity,d.isLineDashedMaterial&&(A=a,B=d,A.dashSize.value=B.dashSize,A.totalSize.value=B.dashSize+B.gapSize,A.scale.value=B.scale)):d.isPointsMaterial?(C=a,D=d,E=e,F=f,C.diffuse.value.copy(D.color),C.opacity.value=D.opacity,C.size.value=D.size*E,C.scale.value=.5*F,D.map&&(C.map.value=D.map),D.alphaMap&&(C.alphaMap.value=D.alphaMap),D.alphaTest>0&&(C.alphaTest.value=D.alphaTest),D.map?I=D.map:D.alphaMap&&(I=D.alphaMap),void 0!==I&&(!0===I.matrixAutoUpdate&&I.updateMatrix(),C.uvTransform.value.copy(I.matrix))):d.isSpriteMaterial?(G=a,H=d,G.diffuse.value.copy(H.color),G.opacity.value=H.opacity,G.rotation.value=H.rotation,H.map&&(G.map.value=H.map),H.alphaMap&&(G.alphaMap.value=H.alphaMap),H.alphaTest>0&&(G.alphaTest.value=H.alphaTest),H.map?J=H.map:H.alphaMap&&(J=H.alphaMap),void 0!==J&&(!0===J.matrixAutoUpdate&&J.updateMatrix(),G.uvTransform.value.copy(J.matrix))):d.isShadowMaterial?(a.color.value.copy(d.color),a.opacity.value=d.opacity):d.isShaderMaterial&&(d.uniformsNeedUpdate=!1)}}}function RY(a={}){const b=void 0!==a.canvas?a.canvas:function(){const a=qk("canvas");return a.style.display="block",a}(),c=void 0!==a.context?a.context:null,d=void 0!==a.alpha&&a.alpha,e=void 0===a.depth||a.depth,f=void 0===a.stencil||a.stencil,g=void 0!==a.antialias&&a.antialias,h=void 0===a.premultipliedAlpha||a.premultipliedAlpha,i=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,j=void 0!==a.powerPreference?a.powerPreference:"default",k=void 0!==a.failIfMajorPerformanceCaveat&&a.failIfMajorPerformanceCaveat;let l=null,m=null;const n=[],o=[];this.domElement=b,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const p=this;let q=!1,r=0,s=0,t=null,u=-1,v=null;const w=new Uk(),x=new Uk();let y=null,z=b.width,A=b.height,B=1,C=null,D=null;const E=new Uk(0,0,z,A),F=new Uk(0,0,z,A);let G=!1;const H=[],I=new pR();let J=!1,K=!1,L=null;const M=new Wv(),N=new Jp(),O={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function P(){return null===t?B:1}let Q=c;function R(a,c){for(let d=0;d<a.length;d++){const e=a[d],f=b.getContext(e,c);if(null!==f)return f}return null}try{const S={alpha:d,depth:e,stencil:f,antialias:g,premultipliedAlpha:h,preserveDrawingBuffer:i,powerPreference:j,failIfMajorPerformanceCaveat:k};if("setAttribute"in b&&b.setAttribute("data-engine","three.js r135"),b.addEventListener("webglcontextlost",sa,!1),b.addEventListener("webglcontextrestored",ta,!1),null===Q){const T=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&T.shift(),Q=R(T,S),null===Q){if(R(T))throw new Error("Error creating WebGL context with your selected attributes.");throw new Error("Error creating WebGL context.")}}void 0===Q.getShaderPrecisionFormat&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa;function qa(){V=new rV(Q),W=new XS(Q,V,a),V.init(W),oa=new zX(Q,V,W),X=new xX(Q,V,W),H[0]=1029,Y=new uV(Q),Z=new fX(),$=new yX(Q,V,X,Z,W,oa,Y),_=new ZS(p),aa=new qV(p),ba=new oS(Q,W),pa=new VS(Q,V,ba,W),ca=new sV(Q,ba,Y,pa),da=new EV(Q,ca,ba,Y),la=new DV(Q,W,$),ia=new YS(Z),ea=new eX(p,_,aa,V,W,pa,ia),fa=new QY(Z),ga=new jX(Z),ha=new pX(V,W),ka=new US(p,_,X,da,h),ja=new wX(p,da,W),ma=new WS(Q,V,Y,W),na=new tV(Q,V,Y,W),Y.programs=ea.programs,p.capabilities=W,p.extensions=V,p.properties=Z,p.renderLists=ga,p.shadowMap=ja,p.state=X,p.info=Y}qa();const ra=new iY(p,Q);function sa(a){a.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),q=!0}function ta(){console.log("THREE.WebGLRenderer: Context Restored."),q=!1;const a=Y.autoReset,b=ja.enabled,c=ja.autoUpdate,d=ja.needsUpdate,e=ja.type;qa(),Y.autoReset=a,ja.enabled=b,ja.autoUpdate=c,ja.needsUpdate=d,ja.type=e}function ua(a){const b=a.target;b.removeEventListener("dispose",ua),va(b)}function va(a){wa(a),Z.remove(a)}function wa(a){const b=Z.get(a).programs;void 0!==b&&b.forEach(function(a){ea.releaseProgram(a)})}this.xr=ra,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const a=V.get("WEBGL_lose_context");a&&a.loseContext()},this.forceContextRestore=function(){const a=V.get("WEBGL_lose_context");a&&a.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(a){void 0!==a&&(B=a,this.setSize(z,A,!1))},this.getSize=function(a){return a.set(z,A)},this.setSize=function(a,c,d){if(ra.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=a,A=c,b.width=Math.floor(a*B),b.height=Math.floor(c*B),!1!==d&&(b.style.width=a+"px",b.style.height=c+"px"),this.setViewport(0,0,a,c)},this.getDrawingBufferSize=function(a){return a.set(z*B,A*B).floor()},this.setDrawingBufferSize=function(a,c,d){z=a,A=c,B=d,b.width=Math.floor(a*d),b.height=Math.floor(c*d),this.setViewport(0,0,a,c)},this.getCurrentViewport=function(a){return a.copy(w)},this.getViewport=function(a){return a.copy(E)},this.setViewport=function(a,b,c,d){a.isVector4?E.set(a.x,a.y,a.z,a.w):E.set(a,b,c,d),X.viewport(w.copy(E).multiplyScalar(B).floor())},this.getScissor=function(a){return a.copy(F)},this.setScissor=function(a,b,c,d){a.isVector4?F.set(a.x,a.y,a.z,a.w):F.set(a,b,c,d),X.scissor(x.copy(F).multiplyScalar(B).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(a){X.setScissorTest(G=a)},this.setOpaqueSort=function(a){C=a},this.setTransparentSort=function(a){D=a},this.getClearColor=function(a){return a.copy(ka.getClearColor())},this.setClearColor=function(){ka.setClearColor.apply(ka,arguments)},this.getClearAlpha=function(){return ka.getClearAlpha()},this.setClearAlpha=function(){ka.setClearAlpha.apply(ka,arguments)},this.clear=function(a,b,c){let d=0;(void 0===a||a)&&(d|=16384),(void 0===b||b)&&(d|=256),(void 0===c||c)&&(d|=1024),Q.clear(d)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){b.removeEventListener("webglcontextlost",sa,!1),b.removeEventListener("webglcontextrestored",ta,!1),ga.dispose(),ha.dispose(),Z.dispose(),_.dispose(),aa.dispose(),da.dispose(),pa.dispose(),ra.dispose(),ra.removeEventListener("sessionstart",ya),ra.removeEventListener("sessionend",za),L&&(L.dispose(),L=null),Aa.stop()},this.renderBufferDirect=function(a,b,c,d,e,f){null===b&&(b=O);const g=e.isMesh&&0>e.matrixWorld.determinant(),h=Ia(a,b,c,d,e);X.setMaterial(d,g);let i=c.index;const j=c.attributes.position;if(null===i){if(void 0===j||0===j.count)return}else if(0===i.count)return;let k=1;!0===d.wireframe&&(i=ca.getWireframeAttribute(c),k=2),pa.setup(e,d,h,c,i);let l,m=ma;null!==i&&(l=ba.get(i),(m=na).setIndex(l));const n=null!==i?i.count:j.count,o=c.drawRange.start*k,p=c.drawRange.count*k,q=null!==f?f.start*k:0,r=null!==f?f.count*k:1/0,s=Math.max(o,q),t=Math.max(0,Math.min(n,o+p,q+r)-1-s+1);if(0!==t){if(e.isMesh)!0===d.wireframe?(X.setLineWidth(d.wireframeLinewidth*P()),m.setMode(1)):m.setMode(4);else if(e.isLine){let u=d.linewidth;void 0===u&&(u=1),X.setLineWidth(u*P()),e.isLineSegments?m.setMode(1):e.isLineLoop?m.setMode(2):m.setMode(3)}else e.isPoints?m.setMode(0):e.isSprite&&m.setMode(4);if(e.isInstancedMesh)m.renderInstances(s,t,e.count);else if(c.isInstancedBufferGeometry){const v=Math.min(c.instanceCount,c._maxInstanceCount);m.renderInstances(s,t,v)}else m.render(s,t)}},this.compile=function(a,b){(m=ha.get(a)).init(),o.push(m),a.traverseVisible(function(a){a.isLight&&a.layers.test(b.layers)&&(m.pushLight(a),a.castShadow&&m.pushShadow(a))}),m.setupLights(p.physicallyCorrectLights),a.traverse(function(b){const c=b.material;if(c)if(Array.isArray(c))for(let d=0;d<c.length;d++){const e=c[d];Ga(e,a,b)}else Ga(c,a,b)}),o.pop(),m=null};let xa=null;function ya(){Aa.stop()}function za(){Aa.start()}const Aa=new nS();function Ba(a,b,c,d){if(!1===a.visible)return;const e=a.layers.test(b.layers);if(e){if(a.isGroup)c=a.renderOrder;else if(a.isLOD)!0===a.autoUpdate&&a.update(b);else if(a.isLight)m.pushLight(a),a.castShadow&&m.pushShadow(a);else if(a.isSprite){if(!a.frustumCulled||I.intersectsSprite(a)){d&&N.setFromMatrixPosition(a.matrixWorld).applyMatrix4(M);const f=da.update(a),g=a.material;g.visible&&l.push(a,f,g,c,N.z,null)}}else if((a.isMesh||a.isLine||a.isPoints)&&(a.isSkinnedMesh&&a.skeleton.frame!==Y.render.frame&&(a.skeleton.update(),a.skeleton.frame=Y.render.frame),!a.frustumCulled||I.intersectsObject(a))){d&&N.setFromMatrixPosition(a.matrixWorld).applyMatrix4(M);const h=da.update(a),i=a.material;if(Array.isArray(i)){const j=h.groups;for(let k=0,n=j.length;k<n;k++){const o=j[k],p=i[o.materialIndex];p&&p.visible&&l.push(a,h,p,c,N.z,o)}}else i.visible&&l.push(a,h,i,c,N.z,null)}}const q=a.children;for(let r=0,s=q.length;r<s;r++)Ba(q[r],b,c,d)}function Ca(a,b,c,d){const e=a.opaque,f=a.transmissive,g=a.transparent;m.setupLightsView(c),f.length>0&&Da(e,b,c),d&&X.viewport(w.copy(d)),e.length>0&&Ea(e,b,c),f.length>0&&Ea(f,b,c),g.length>0&&Ea(g,b,c)}function Da(a,b,c){if(null===L){const d=!0===g&& !0===W.isWebGL2,e=d?Xm:Bm;L=new e(1024,1024,{generateMipmaps:!0,type:null!==oa.convert(1016)?1016:1009,minFilter:1008,magFilter:1003,wrapS:1001,wrapT:1001,useRenderToTexture:V.has("WEBGL_multisampled_render_to_texture")})}const f=p.getRenderTarget();p.setRenderTarget(L),p.clear();const h=p.toneMapping;p.toneMapping=0,Ea(a,b,c),p.toneMapping=h,$.updateMultisampleRenderTarget(L),$.updateRenderTargetMipmap(L),p.setRenderTarget(f)}function Ea(a,b,c){const d=!0===b.isScene?b.overrideMaterial:null;for(let e=0,f=a.length;e<f;e++){const g=a[e],h=g.object,i=g.geometry,j=null===d?g.material:d,k=g.group;h.layers.test(c.layers)&&Fa(h,b,c,i,j,k)}}function Fa(a,b,c,d,e,f){a.onBeforeRender(p,b,c,d,e,f),a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,a.matrixWorld),a.normalMatrix.getNormalMatrix(a.modelViewMatrix),e.onBeforeRender(p,b,c,d,a,f),!0===e.transparent&&2===e.side?(e.side=qg,e.needsUpdate=!0,p.renderBufferDirect(c,b,d,e,a,f),e.side=0,e.needsUpdate=!0,p.renderBufferDirect(c,b,d,e,a,f),e.side=2):p.renderBufferDirect(c,b,d,e,a,f),a.onAfterRender(p,b,c,d,e,f)}function Ga(a,b,c){!0!==b.isScene&&(b=O);const d=Z.get(a),e=m.state.lights,f=m.state.shadowsArray,g=e.state.version,h=ea.getParameters(a,e.state,f,b,c),i=ea.getProgramCacheKey(h);let j=d.programs;d.environment=a.isMeshStandardMaterial?b.environment:null,d.fog=b.fog,d.envMap=(a.isMeshStandardMaterial?aa:_).get(a.envMap||d.environment),void 0===j&&(a.addEventListener("dispose",ua),j=new Map(),d.programs=j);let k=j.get(i);if(void 0!==k){if(d.currentProgram===k&&d.lightsStateVersion===g)return Ha(a,h),k}else h.uniforms=ea.getUniforms(a),a.onBuild(c,h,p),a.onBeforeCompile(h,p),k=ea.acquireProgram(h,i),j.set(i,k),d.uniforms=h.uniforms;const l=d.uniforms;(a.isShaderMaterial||a.isRawShaderMaterial)&& !0!==a.clipping||(l.clippingPlanes=ia.uniform),Ha(a,h),d.needsLights=Ka(a),d.lightsStateVersion=g,d.needsLights&&(l.ambientLightColor.value=e.state.ambient,l.lightProbe.value=e.state.probe,l.directionalLights.value=e.state.directional,l.directionalLightShadows.value=e.state.directionalShadow,l.spotLights.value=e.state.spot,l.spotLightShadows.value=e.state.spotShadow,l.rectAreaLights.value=e.state.rectArea,l.ltc_1.value=e.state.rectAreaLTC1,l.ltc_2.value=e.state.rectAreaLTC2,l.pointLights.value=e.state.point,l.pointLightShadows.value=e.state.pointShadow,l.hemisphereLights.value=e.state.hemi,l.directionalShadowMap.value=e.state.directionalShadowMap,l.directionalShadowMatrix.value=e.state.directionalShadowMatrix,l.spotShadowMap.value=e.state.spotShadowMap,l.spotShadowMatrix.value=e.state.spotShadowMatrix,l.pointShadowMap.value=e.state.pointShadowMap,l.pointShadowMatrix.value=e.state.pointShadowMatrix);const n=k.getUniforms(),o=NW.seqWithValue(n.seq,l);return d.currentProgram=k,d.uniformsList=o,k}function Ha(a,b){const c=Z.get(a);c.outputEncoding=b.outputEncoding,c.instancing=b.instancing,c.skinning=b.skinning,c.morphTargets=b.morphTargets,c.morphNormals=b.morphNormals,c.morphTargetsCount=b.morphTargetsCount,c.numClippingPlanes=b.numClippingPlanes,c.numIntersection=b.numClipIntersection,c.vertexAlphas=b.vertexAlphas,c.vertexTangents=b.vertexTangents}function Ia(a,b,c,d,e){!0!==b.isScene&&(b=O),$.resetTextureUnits();const f=b.fog,g=d.isMeshStandardMaterial?b.environment:null,h=null===t?p.outputEncoding:t.texture.encoding,i=(d.isMeshStandardMaterial?aa:_).get(d.envMap||g),j=!0===d.vertexColors&&!!c.attributes.color&&4===c.attributes.color.itemSize,k=!!d.normalMap&&!!c.attributes.tangent,l=!!c.morphAttributes.position,n=!!c.morphAttributes.normal,o=c.morphAttributes.position?c.morphAttributes.position.length:0,q=Z.get(d),r=m.state.lights;if(!0===J&&(!0===K||a!==v)){const s=a===v&&d.id===u;ia.setState(d,a,s)}let w=!1;d.version===q.__version?q.needsLights&&q.lightsStateVersion!==r.state.version?w=!0:q.outputEncoding!==h?w=!0:e.isInstancedMesh&& !1===q.instancing?w=!0:e.isInstancedMesh|| !0!==q.instancing?e.isSkinnedMesh&& !1===q.skinning?w=!0:e.isSkinnedMesh|| !0!==q.skinning?q.envMap!==i?w=!0:d.fog&&q.fog!==f?w=!0:void 0!==q.numClippingPlanes&&(q.numClippingPlanes!==ia.numPlanes||q.numIntersection!==ia.numIntersection)?w=!0:q.vertexAlphas!==j?w=!0:q.vertexTangents!==k?w=!0:q.morphTargets!==l?w=!0:q.morphNormals!==n?w=!0:!0===W.isWebGL2&&q.morphTargetsCount!==o&&(w=!0):w=!0:w=!0:(w=!0,q.__version=d.version);let x=q.currentProgram;!0===w&&(x=Ga(d,b,e));let y=!1,z=!1,C=!1;const D=x.getUniforms(),E=q.uniforms;if(X.useProgram(x.program)&&(y=!0,z=!0,C=!0),d.id!==u&&(u=d.id,z=!0),y||v!==a){if(D.setValue(Q,"projectionMatrix",a.projectionMatrix),W.logarithmicDepthBuffer&&D.setValue(Q,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2)),v!==a&&(v=a,z=!0,C=!0),d.isShaderMaterial||d.isMeshPhongMaterial||d.isMeshToonMaterial||d.isMeshStandardMaterial||d.envMap){const F=D.map.cameraPosition;void 0!==F&&F.setValue(Q,N.setFromMatrixPosition(a.matrixWorld))}(d.isMeshPhongMaterial||d.isMeshToonMaterial||d.isMeshLambertMaterial||d.isMeshBasicMaterial||d.isMeshStandardMaterial||d.isShaderMaterial)&&D.setValue(Q,"isOrthographic",!0===a.isOrthographicCamera),(d.isMeshPhongMaterial||d.isMeshToonMaterial||d.isMeshLambertMaterial||d.isMeshBasicMaterial||d.isMeshStandardMaterial||d.isShaderMaterial||d.isShadowMaterial||e.isSkinnedMesh)&&D.setValue(Q,"viewMatrix",a.matrixWorldInverse)}if(e.isSkinnedMesh){D.setOptional(Q,e,"bindMatrix"),D.setOptional(Q,e,"bindMatrixInverse");const G=e.skeleton;G&&(W.floatVertexTextures?(null===G.boneTexture&&G.computeBoneTexture(),D.setValue(Q,"boneTexture",G.boneTexture,$),D.setValue(Q,"boneTextureSize",G.boneTextureSize)):D.setOptional(Q,G,"boneMatrices"))}return c&&(void 0!==c.morphAttributes.position|| void 0!==c.morphAttributes.normal)&&la.update(e,c,d,x),(z||q.receiveShadow!==e.receiveShadow)&&(q.receiveShadow=e.receiveShadow,D.setValue(Q,"receiveShadow",e.receiveShadow)),z&&(D.setValue(Q,"toneMappingExposure",p.toneMappingExposure),q.needsLights&&Ja(E,C),f&&d.fog&&fa.refreshFogUniforms(E,f),fa.refreshMaterialUniforms(E,d,B,A,L),NW.upload(Q,q.uniformsList,E,$)),d.isShaderMaterial&& !0===d.uniformsNeedUpdate&&(NW.upload(Q,q.uniformsList,E,$),d.uniformsNeedUpdate=!1),d.isSpriteMaterial&&D.setValue(Q,"center",e.center),D.setValue(Q,"modelViewMatrix",e.modelViewMatrix),D.setValue(Q,"normalMatrix",e.normalMatrix),D.setValue(Q,"modelMatrix",e.matrixWorld),x}function Ja(a,b){a.ambientLightColor.needsUpdate=b,a.lightProbe.needsUpdate=b,a.directionalLights.needsUpdate=b,a.directionalLightShadows.needsUpdate=b,a.pointLights.needsUpdate=b,a.pointLightShadows.needsUpdate=b,a.spotLights.needsUpdate=b,a.spotLightShadows.needsUpdate=b,a.rectAreaLights.needsUpdate=b,a.hemisphereLights.needsUpdate=b}function Ka(a){return a.isMeshLambertMaterial||a.isMeshToonMaterial||a.isMeshPhongMaterial||a.isMeshStandardMaterial||a.isShadowMaterial||a.isShaderMaterial&& !0===a.lights}Aa.setAnimationLoop(function(a){xa&&xa(a)}),"undefined"!=typeof window&&Aa.setContext(window),this.setAnimationLoop=function(a){xa=a,ra.setAnimationLoop(a),null===a?Aa.stop():Aa.start()},ra.addEventListener("sessionstart",ya),ra.addEventListener("sessionend",za),this.render=function(a,b){if(void 0!==b&& !0!==b.isCamera){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!0===q)return;!0===a.autoUpdate&&a.updateMatrixWorld(),null===b.parent&&b.updateMatrixWorld(),!0===ra.enabled&& !0===ra.isPresenting&&(!0===ra.cameraAutoUpdate&&ra.updateCamera(b),b=ra.getCamera()),!0===a.isScene&&a.onBeforeRender(p,a,b,t),(m=ha.get(a,o.length)).init(),o.push(m),M.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),I.setFromProjectionMatrix(M),K=this.localClippingEnabled,J=ia.init(this.clippingPlanes,K,b),(l=ga.get(a,n.length)).init(),n.push(l),Ba(a,b,0,p.sortObjects),l.finish(),!0===p.sortObjects&&l.sort(C,D),!0===J&&ia.beginShadows();const c=m.state.shadowsArray;if(ja.render(c,a,b),!0===J&&ia.endShadows(),!0===this.info.autoReset&&this.info.reset(),ka.render(l,a),m.setupLights(p.physicallyCorrectLights),b.isArrayCamera){const d=b.cameras;for(let e=0,f=d.length;e<f;e++){const g=d[e];Ca(l,a,g,g.viewport)}}else Ca(l,a,b);null!==t&&($.updateMultisampleRenderTarget(t),$.updateRenderTargetMipmap(t)),!0===a.isScene&&a.onAfterRender(p,a,b),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1),pa.resetDefaultState(),u=-1,v=null,o.pop(),m=o.length>0?o[o.length-1]:null,n.pop(),l=n.length>0?n[n.length-1]:null},this.getActiveCubeFace=function(){return r},this.getActiveMipmapLevel=function(){return s},this.getRenderTarget=function(){return t},this.setRenderTargetTextures=function(a,b,c){Z.get(a.texture).__webglTexture=b,Z.get(a.depthTexture).__webglTexture=c;const d=Z.get(a);d.__hasExternalTextures=!0,d.__hasExternalTextures&&(d.__autoAllocateDepthBuffer=void 0===c,!d.__autoAllocateDepthBuffer&&a.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),a.useRenderToTexture=!1,a.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(a,b){const c=Z.get(a);c.__webglFramebuffer=b,c.__useDefaultFramebuffer=void 0===b},this.setRenderTarget=function(a,b=0,c=0){t=a,r=b,s=c;let d=!0;if(a){const e=Z.get(a);void 0!==e.__useDefaultFramebuffer?(X.bindFramebuffer(36160,null),d=!1):void 0===e.__webglFramebuffer?$.setupRenderTarget(a):e.__hasExternalTextures&&$.rebindTextures(a,Z.get(a.texture).__webglTexture,Z.get(a.depthTexture).__webglTexture)}let f=null,g=!1,h=!1;if(a){const i=a.texture;(i.isDataTexture3D||i.isDataTexture2DArray)&&(h=!0);const j=Z.get(a).__webglFramebuffer;a.isWebGLCubeRenderTarget?(f=j[b],g=!0):f=a.useRenderbuffer?Z.get(a).__webglMultisampledFramebuffer:j,w.copy(a.viewport),x.copy(a.scissor),y=a.scissorTest}else w.copy(E).multiplyScalar(B).floor(),x.copy(F).multiplyScalar(B).floor(),y=G;const k=X.bindFramebuffer(36160,f);if(k&&W.drawBuffers&&d){let l=!1;if(a)if(a.isWebGLMultipleRenderTargets){const m=a.texture;if(H.length!==m.length||36064!==H[0]){for(let n=0,o=m.length;n<o;n++)H[n]=36064+n;H.length=m.length,l=!0}}else(1!==H.length||36064!==H[0])&&(H[0]=36064,H.length=1,l=!0);else(1!==H.length||1029!==H[0])&&(H[0]=1029,H.length=1,l=!0);l&&(W.isWebGL2?Q.drawBuffers(H):V.get("WEBGL_draw_buffers").drawBuffersWEBGL(H))}if(X.viewport(w),X.scissor(x),X.setScissorTest(y),g){const p=Z.get(a.texture);Q.framebufferTexture2D(36160,36064,34069+b,p.__webglTexture,c)}else if(h){const q=Z.get(a.texture),v=b||0;Q.framebufferTextureLayer(36160,36064,q.__webglTexture,c||0,v)}u=-1},this.readRenderTargetPixels=function(a,b,c,d,e,f,g){if(!(a&&a.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let h=Z.get(a).__webglFramebuffer;if(a.isWebGLCubeRenderTarget&& void 0!==g&&(h=h[g]),h){X.bindFramebuffer(36160,h);try{const i=a.texture,j=i.format,k=i.type;if(1023!==j&&oa.convert(j)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const l=1016===k&&(V.has("EXT_color_buffer_half_float")||W.isWebGL2&&V.has("EXT_color_buffer_float"));if(1009!==k&&oa.convert(k)!==Q.getParameter(35738)&&!(1015===k&&(W.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float")))&&!l){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}36053===Q.checkFramebufferStatus(36160)?b>=0&&b<=a.width-d&&c>=0&&c<=a.height-e&&Q.readPixels(b,c,d,e,oa.convert(j),oa.convert(k),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const m=null!==t?Z.get(t).__webglFramebuffer:null;X.bindFramebuffer(36160,m)}}},this.copyFramebufferToTexture=function(a,b,c=0){const d=Math.pow(2,-c),e=Math.floor(b.image.width*d),f=Math.floor(b.image.height*d);let g=oa.convert(b.format);W.isWebGL2&&(6407===g&&(g=32849),6408===g&&(g=32856)),$.setTexture2D(b,0),Q.copyTexImage2D(3553,c,g,a.x,a.y,e,f,0),X.unbindTexture()},this.copyTextureToTexture=function(a,b,c,d=0){const e=b.image.width,f=b.image.height,g=oa.convert(c.format),h=oa.convert(c.type);$.setTexture2D(c,0),Q.pixelStorei(37440,c.flipY),Q.pixelStorei(37441,c.premultiplyAlpha),Q.pixelStorei(3317,c.unpackAlignment),b.isDataTexture?Q.texSubImage2D(3553,d,a.x,a.y,e,f,g,h,b.image.data):b.isCompressedTexture?Q.compressedTexSubImage2D(3553,d,a.x,a.y,b.mipmaps[0].width,b.mipmaps[0].height,g,b.mipmaps[0].data):Q.texSubImage2D(3553,d,a.x,a.y,g,h,b.image),0===d&&c.generateMipmaps&&Q.generateMipmap(3553),X.unbindTexture()},this.copyTextureToTexture3D=function(a,b,c,d,e=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const f=a.max.x-a.min.x+1,g=a.max.y-a.min.y+1,h=a.max.z-a.min.z+1,i=oa.convert(d.format),j=oa.convert(d.type);let k;if(d.isDataTexture3D)$.setTexture3D(d,0),k=32879;else if(d.isDataTexture2DArray)$.setTexture2DArray(d,0),k=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,d.flipY),Q.pixelStorei(37441,d.premultiplyAlpha),Q.pixelStorei(3317,d.unpackAlignment);const l=Q.getParameter(3314),m=Q.getParameter(32878),n=Q.getParameter(3316),o=Q.getParameter(3315),q=Q.getParameter(32877),r=c.isCompressedTexture?c.mipmaps[0]:c.image;Q.pixelStorei(3314,r.width),Q.pixelStorei(32878,r.height),Q.pixelStorei(3316,a.min.x),Q.pixelStorei(3315,a.min.y),Q.pixelStorei(32877,a.min.z),c.isDataTexture||c.isDataTexture3D?Q.texSubImage3D(k,e,b.x,b.y,b.z,f,g,h,i,j,r.data):c.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(k,e,b.x,b.y,b.z,f,g,h,i,r.data)):Q.texSubImage3D(k,e,b.x,b.y,b.z,f,g,h,i,j,r),Q.pixelStorei(3314,l),Q.pixelStorei(32878,m),Q.pixelStorei(3316,n),Q.pixelStorei(3315,o),Q.pixelStorei(32877,q),0===e&&d.generateMipmaps&&Q.generateMipmap(k),X.unbindTexture()},this.initTexture=function(a){$.setTexture2D(a,0),X.unbindTexture()},this.resetState=function(){r=0,s=0,t=null,X.reset(),pa.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}RY.prototype.isWebGLRenderer=!0,(class extends RY{}).prototype.isWebGL1Renderer=!0;class SY{constructor(TY,UY=25e-5){this.name="",this.color=new gG(TY),this.density=UY}clone(){return new SY(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}SY.prototype.isFogExp2=!0;class VY{constructor(WY,XY=1,YY=1e3){this.name="",this.color=new gG(WY),this.near=XY,this.far=YY}clone(){return new VY(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}VY.prototype.isFog=!0;class ZY extends $B{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy($Y,_Y){return super.copy($Y,_Y),null!==$Y.background&&(this.background=$Y.background.clone()),null!==$Y.environment&&(this.environment=$Y.environment.clone()),null!==$Y.fog&&(this.fog=$Y.fog.clone()),null!==$Y.overrideMaterial&&(this.overrideMaterial=$Y.overrideMaterial.clone()),this.autoUpdate=$Y.autoUpdate,this.matrixAutoUpdate=$Y.matrixAutoUpdate,this}toJSON(aZ){const bZ=super.toJSON(aZ);return null!==this.fog&&(bZ.object.fog=this.fog.toJSON()),bZ}}ZY.prototype.isScene=!0;class cZ{constructor(dZ,eZ){this.array=dZ,this.stride=eZ,this.count=void 0!==dZ?dZ.length/eZ:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Pg()}onUploadCallback(){}set needsUpdate(fZ){!0===fZ&&this.version++}setUsage(gZ){return this.usage=gZ,this}copy(hZ){return this.array=new hZ.array.constructor(hZ.array),this.count=hZ.count,this.stride=hZ.stride,this.usage=hZ.usage,this}copyAt(iZ,jZ,kZ){iZ*=this.stride,kZ*=jZ.stride;for(let lZ=0,mZ=this.stride;lZ<mZ;lZ++)this.array[iZ+lZ]=jZ.array[kZ+lZ];return this}set(nZ,oZ=0){return this.array.set(nZ,oZ),this}clone(pZ){void 0===pZ.arrayBuffers&&(pZ.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Pg()),void 0===pZ.arrayBuffers[this.array.buffer._uuid]&&(pZ.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const qZ=new this.array.constructor(pZ.arrayBuffers[this.array.buffer._uuid]),rZ=new this.constructor(qZ,this.stride);return rZ.setUsage(this.usage),rZ}onUpload(sZ){return this.onUploadCallback=sZ,this}toJSON(tZ){return void 0===tZ.arrayBuffers&&(tZ.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Pg()),void 0===tZ.arrayBuffers[this.array.buffer._uuid]&&(tZ.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}cZ.prototype.isInterleavedBuffer=!0;const uZ=new Jp();class vZ{constructor(wZ,xZ,yZ,zZ=!1){this.name="",this.data=wZ,this.itemSize=xZ,this.offset=yZ,this.normalized=!0===zZ}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(AZ){this.data.needsUpdate=AZ}applyMatrix4(BZ){for(let CZ=0,DZ=this.data.count;CZ<DZ;CZ++)uZ.x=this.getX(CZ),uZ.y=this.getY(CZ),uZ.z=this.getZ(CZ),uZ.applyMatrix4(BZ),this.setXYZ(CZ,uZ.x,uZ.y,uZ.z);return this}applyNormalMatrix(EZ){for(let FZ=0,GZ=this.count;FZ<GZ;FZ++)uZ.x=this.getX(FZ),uZ.y=this.getY(FZ),uZ.z=this.getZ(FZ),uZ.applyNormalMatrix(EZ),this.setXYZ(FZ,uZ.x,uZ.y,uZ.z);return this}transformDirection(HZ){for(let IZ=0,JZ=this.count;IZ<JZ;IZ++)uZ.x=this.getX(IZ),uZ.y=this.getY(IZ),uZ.z=this.getZ(IZ),uZ.transformDirection(HZ),this.setXYZ(IZ,uZ.x,uZ.y,uZ.z);return this}setX(KZ,LZ){return this.data.array[KZ*this.data.stride+this.offset]=LZ,this}setY(MZ,NZ){return this.data.array[MZ*this.data.stride+this.offset+1]=NZ,this}setZ(OZ,PZ){return this.data.array[OZ*this.data.stride+this.offset+2]=PZ,this}setW(QZ,RZ){return this.data.array[QZ*this.data.stride+this.offset+3]=RZ,this}getX(SZ){return this.data.array[SZ*this.data.stride+this.offset]}getY(TZ){return this.data.array[TZ*this.data.stride+this.offset+1]}getZ(UZ){return this.data.array[UZ*this.data.stride+this.offset+2]}getW(VZ){return this.data.array[VZ*this.data.stride+this.offset+3]}setXY(WZ,XZ,YZ){return WZ=WZ*this.data.stride+this.offset,this.data.array[WZ+0]=XZ,this.data.array[WZ+1]=YZ,this}setXYZ(ZZ,$Z,_Z,a$){return ZZ=ZZ*this.data.stride+this.offset,this.data.array[ZZ+0]=$Z,this.data.array[ZZ+1]=_Z,this.data.array[ZZ+2]=a$,this}setXYZW(b$,c$,d$,e$,f$){return b$=b$*this.data.stride+this.offset,this.data.array[b$+0]=c$,this.data.array[b$+1]=d$,this.data.array[b$+2]=e$,this.data.array[b$+3]=f$,this}clone(g$){if(void 0!==g$)return void 0===g$.interleavedBuffers&&(g$.interleavedBuffers={}),void 0===g$.interleavedBuffers[this.data.uuid]&&(g$.interleavedBuffers[this.data.uuid]=this.data.clone(g$)),new vZ(g$.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const h$=[];for(let i$=0;i$<this.count;i$++){const j$=i$*this.data.stride+this.offset;for(let k$=0;k$<this.itemSize;k$++)h$.push(this.data.array[j$+k$])}return new GH(new this.array.constructor(h$),this.itemSize,this.normalized)}}toJSON(l$){if(void 0!==l$)return void 0===l$.interleavedBuffers&&(l$.interleavedBuffers={}),void 0===l$.interleavedBuffers[this.data.uuid]&&(l$.interleavedBuffers[this.data.uuid]=this.data.toJSON(l$)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const m$=[];for(let n$=0;n$<this.count;n$++){const o$=n$*this.data.stride+this.offset;for(let p$=0;p$<this.itemSize;p$++)m$.push(this.data.array[o$+p$])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:m$,normalized:this.normalized}}}}vZ.prototype.isInterleavedBufferAttribute=!0;class q$ extends KF{constructor(r$){super(),this.type="SpriteMaterial",this.color=new gG(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(r$)}copy(s$){return super.copy(s$),this.color.copy(s$.color),this.map=s$.map,this.alphaMap=s$.alphaMap,this.rotation=s$.rotation,this.sizeAttenuation=s$.sizeAttenuation,this}}q$.prototype.isSpriteMaterial=!0;let t$;const u$=new Jp(),v$=new Jp(),w$=new Jp(),x$=new Xg(),y$=new Xg(),z$=new Wv(),A$=new Jp(),B$=new Jp(),C$=new Jp(),D$=new Xg(),E$=new Xg(),F$=new Xg();function G$(a,b,c,d,e,f){x$.subVectors(a,c).addScalar(.5).multiply(d),void 0!==e?(y$.x=f*x$.x-e*x$.y,y$.y=e*x$.x+f*x$.y):y$.copy(x$),a.copy(b),a.x+=y$.x,a.y+=y$.y,a.applyMatrix4(z$)}(class extends $B{constructor(H$){if(super(),this.type="Sprite",void 0===t$){t$=new zJ();const I$=new Float32Array([-0.5,-0.5,0,0,0,.5,-0.5,0,1,0,.5,.5,0,1,1,-0.5,.5,0,0,1]),J$=new cZ(I$,5);t$.setIndex([0,1,2,0,2,3]),t$.setAttribute("position",new vZ(J$,3,0,!1)),t$.setAttribute("uv",new vZ(J$,2,3,!1))}this.geometry=t$,this.material=void 0!==H$?H$:new q$(),this.center=new Xg(.5,.5)}raycast(K$,L$){null===K$.camera&&console.error("THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites."),v$.setFromMatrixScale(this.matrixWorld),z$.copy(K$.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(K$.camera.matrixWorldInverse,this.matrixWorld),w$.setFromMatrixPosition(this.modelViewMatrix),K$.camera.isPerspectiveCamera&& !1===this.material.sizeAttenuation&&v$.multiplyScalar(-w$.z);const M$=this.material.rotation;let N$,O$;0!==M$&&(O$=Math.cos(M$),N$=Math.sin(M$));const P$=this.center;G$(A$.set(-0.5,-0.5,0),w$,P$,v$,N$,O$),G$(B$.set(.5,-0.5,0),w$,P$,v$,N$,O$),G$(C$.set(.5,.5,0),w$,P$,v$,N$,O$),D$.set(0,0),E$.set(1,0),F$.set(1,1);let Q$=K$.ray.intersectTriangle(A$,B$,C$,!1,u$);if(null===Q$&&(G$(B$.set(-0.5,.5,0),w$,P$,v$,N$,O$),E$.set(0,1),null===(Q$=K$.ray.intersectTriangle(A$,C$,B$,!1,u$))))return;const R$=K$.ray.origin.distanceTo(u$);R$<K$.near||R$>K$.far||L$.push({distance:R$,point:u$.clone(),uv:hE.getUV(u$,A$,B$,C$,D$,E$,F$,new Xg()),face:null,object:this})}copy(S$){return super.copy(S$),void 0!==S$.center&&this.center.copy(S$.center),this.material=S$.material,this}}).prototype.isSprite=!0,new Jp(),new Jp();const T$=new Jp(),U$=new Uk(),V$=new Uk(),W$=new Jp(),X$=new Wv();class Y$ extends iN{constructor(Z$,$$){super(Z$,$$),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Wv(),this.bindMatrixInverse=new Wv()}copy(_$){return super.copy(_$),this.bindMode=_$.bindMode,this.bindMatrix.copy(_$.bindMatrix),this.bindMatrixInverse.copy(_$.bindMatrixInverse),this.skeleton=_$.skeleton,this}bind(a_,b_){this.skeleton=a_,void 0===b_&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b_=this.matrixWorld),this.bindMatrix.copy(b_),this.bindMatrixInverse.copy(b_).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const c_=new Uk(),d_=this.geometry.attributes.skinWeight;for(let e_=0,f_=d_.count;e_<f_;e_++){c_.x=d_.getX(e_),c_.y=d_.getY(e_),c_.z=d_.getZ(e_),c_.w=d_.getW(e_);const g_=1/c_.manhattanLength();g_!==1/0?c_.multiplyScalar(g_):c_.set(1,0,0,0),d_.setXYZW(e_,c_.x,c_.y,c_.z,c_.w)}}updateMatrixWorld(h_){super.updateMatrixWorld(h_),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(i_,j_){const k_=this.skeleton,l_=this.geometry;U$.fromBufferAttribute(l_.attributes.skinIndex,i_),V$.fromBufferAttribute(l_.attributes.skinWeight,i_),T$.copy(j_).applyMatrix4(this.bindMatrix),j_.set(0,0,0);for(let m_=0;m_<4;m_++){const n_=V$.getComponent(m_);if(0!==n_){const o_=U$.getComponent(m_);X$.multiplyMatrices(k_.bones[o_].matrixWorld,k_.boneInverses[o_]),j_.addScaledVector(W$.copy(T$).applyMatrix4(X$),n_)}}return j_.applyMatrix4(this.bindMatrixInverse)}}Y$.prototype.isSkinnedMesh=!0;class p_ extends $B{constructor(){super(),this.type="Bone"}}p_.prototype.isBone=!0;class q_ extends yk{constructor(r_=null,s_=1,t_=1,u_,v_,w_,x_,y_,z_=1003,A_=1003,B_,C_){super(null,w_,x_,y_,z_,A_,u_,v_,B_,C_),this.image={data:r_,width:s_,height:t_},this.magFilter=z_,this.minFilter=A_,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}q_.prototype.isDataTexture=!0;const D_=new Wv(),E_=new Wv();class F_{constructor(G_=[],H_=[]){this.uuid=Pg(),this.bones=G_.slice(0),this.boneInverses=H_,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const I_=this.bones,J_=this.boneInverses;if(this.boneMatrices=new Float32Array(16*I_.length),0===J_.length)this.calculateInverses();else if(I_.length!==J_.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let K_=0,L_=this.bones.length;K_<L_;K_++)this.boneInverses.push(new Wv())}}calculateInverses(){this.boneInverses.length=0;for(let M_=0,N_=this.bones.length;M_<N_;M_++){const O_=new Wv();this.bones[M_]&&O_.copy(this.bones[M_].matrixWorld).invert(),this.boneInverses.push(O_)}}pose(){for(let P_=0,Q_=this.bones.length;P_<Q_;P_++){const R_=this.bones[P_];R_&&R_.matrixWorld.copy(this.boneInverses[P_]).invert()}for(let S_=0,T_=this.bones.length;S_<T_;S_++){const U_=this.bones[S_];U_&&(U_.parent&&U_.parent.isBone?(U_.matrix.copy(U_.parent.matrixWorld).invert(),U_.matrix.multiply(U_.matrixWorld)):U_.matrix.copy(U_.matrixWorld),U_.matrix.decompose(U_.position,U_.quaternion,U_.scale))}}update(){const V_=this.bones,W_=this.boneInverses,X_=this.boneMatrices,Y_=this.boneTexture;for(let Z_=0,$_=V_.length;Z_<$_;Z_++){const __=V_[Z_]?V_[Z_].matrixWorld:E_;D_.multiplyMatrices(__,W_[Z_]),D_.toArray(X_,16*Z_)}null!==Y_&&(Y_.needsUpdate=!0)}clone(){return new F_(this.bones,this.boneInverses)}computeBoneTexture(){let a0=Math.sqrt(4*this.bones.length);a0=Math.max(a0=Ug(a0),4);const b0=new Float32Array(a0*a0*4);b0.set(this.boneMatrices);const c0=new q_(b0,a0,a0,1023,1015);return this.boneMatrices=b0,this.boneTexture=c0,this.boneTextureSize=a0,this}getBoneByName(d0){for(let e0=0,f0=this.bones.length;e0<f0;e0++){const g0=this.bones[e0];if(g0.name===d0)return g0}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(h0,i0){this.uuid=h0.uuid;for(let j0=0,k0=h0.bones.length;j0<k0;j0++){const l0=h0.bones[j0];let m0=i0[l0];void 0===m0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l0),m0=new p_()),this.bones.push(m0),this.boneInverses.push(new Wv().fromArray(h0.boneInverses[j0]))}return this.init(),this}toJSON(){const n0={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};n0.uuid=this.uuid;const o0=this.bones,p0=this.boneInverses;for(let q0=0,r0=o0.length;q0<r0;q0++){const s0=o0[q0];n0.bones.push(s0.uuid);const t0=p0[q0];n0.boneInverses.push(t0.toArray())}return n0}}class u0 extends GH{constructor(v0,w0,x0,y0=1){"number"==typeof x0&&(y0=x0,x0=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(v0,w0,x0),this.meshPerAttribute=y0}copy(z0){return super.copy(z0),this.meshPerAttribute=z0.meshPerAttribute,this}toJSON(){const A0=super.toJSON();return A0.meshPerAttribute=this.meshPerAttribute,A0.isInstancedBufferAttribute=!0,A0}}u0.prototype.isInstancedBufferAttribute=!0;const B0=new Wv(),C0=new Wv(),D0=[],E0=new iN();(class extends iN{constructor(F0,G0,H0){super(F0,G0),this.instanceMatrix=new u0(new Float32Array(16*H0),16),this.instanceColor=null,this.count=H0,this.frustumCulled=!1}copy(I0){return super.copy(I0),this.instanceMatrix.copy(I0.instanceMatrix),null!==I0.instanceColor&&(this.instanceColor=I0.instanceColor.clone()),this.count=I0.count,this}getColorAt(J0,K0){K0.fromArray(this.instanceColor.array,3*J0)}getMatrixAt(L0,M0){M0.fromArray(this.instanceMatrix.array,16*L0)}raycast(N0,O0){const P0=this.matrixWorld,Q0=this.count;if(E0.geometry=this.geometry,E0.material=this.material,void 0!==E0.material)for(let R0=0;R0<Q0;R0++){this.getMatrixAt(R0,B0),C0.multiplyMatrices(P0,B0),E0.matrixWorld=C0,E0.raycast(N0,D0);for(let S0=0,T0=D0.length;S0<T0;S0++){const U0=D0[S0];U0.instanceId=R0,U0.object=this,O0.push(U0)}D0.length=0}}setColorAt(V0,W0){null===this.instanceColor&&(this.instanceColor=new u0(new Float32Array(3*this.instanceMatrix.count),3)),W0.toArray(this.instanceColor.array,3*V0)}setMatrixAt(X0,Y0){Y0.toArray(this.instanceMatrix.array,16*X0)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class Z0 extends KF{constructor($0){super(),this.type="LineBasicMaterial",this.color=new gG(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues($0)}copy(_0){return super.copy(_0),this.color.copy(_0.color),this.linewidth=_0.linewidth,this.linecap=_0.linecap,this.linejoin=_0.linejoin,this}}Z0.prototype.isLineBasicMaterial=!0;const a1=new Jp(),b1=new Jp(),c1=new Wv(),d1=new Cu(),e1=new Tt();class f1 extends $B{constructor(g1=new zJ(),h1=new Z0()){super(),this.type="Line",this.geometry=g1,this.material=h1,this.updateMorphTargets()}copy(i1){return super.copy(i1),this.material=i1.material,this.geometry=i1.geometry,this}computeLineDistances(){const j1=this.geometry;if(j1.isBufferGeometry)if(null===j1.index){const k1=j1.attributes.position,l1=[0];for(let m1=1,n1=k1.count;m1<n1;m1++)a1.fromBufferAttribute(k1,m1-1),b1.fromBufferAttribute(k1,m1),l1[m1]=l1[m1-1],l1[m1]+=a1.distanceTo(b1);j1.setAttribute("lineDistance",new oJ(l1,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else j1.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(o1,p1){const q1=this.geometry,r1=this.matrixWorld,s1=o1.params.Line.threshold,t1=q1.drawRange;if(null===q1.boundingSphere&&q1.computeBoundingSphere(),e1.copy(q1.boundingSphere),e1.applyMatrix4(r1),e1.radius+=s1,!1===o1.ray.intersectsSphere(e1))return;c1.copy(r1).invert(),d1.copy(o1.ray).applyMatrix4(c1);const u1=s1/((this.scale.x+this.scale.y+this.scale.z)/3),v1=u1*u1,w1=new Jp(),x1=new Jp(),y1=new Jp(),z1=new Jp(),A1=this.isLineSegments?2:1;if(q1.isBufferGeometry){const B1=q1.index,C1=q1.attributes,D1=C1.position;if(null!==B1){const E1=Math.max(0,t1.start),F1=Math.min(B1.count,t1.start+t1.count);for(let G1=E1,H1=F1-1;G1<H1;G1+=A1){const I1=B1.getX(G1),J1=B1.getX(G1+1);w1.fromBufferAttribute(D1,I1),x1.fromBufferAttribute(D1,J1);const K1=d1.distanceSqToSegment(w1,x1,z1,y1);if(K1>v1)continue;z1.applyMatrix4(this.matrixWorld);const L1=o1.ray.origin.distanceTo(z1);L1<o1.near||L1>o1.far||p1.push({distance:L1,point:y1.clone().applyMatrix4(this.matrixWorld),index:G1,face:null,faceIndex:null,object:this})}}else{const M1=Math.max(0,t1.start),N1=Math.min(D1.count,t1.start+t1.count);for(let O1=M1,P1=N1-1;O1<P1;O1+=A1){w1.fromBufferAttribute(D1,O1),x1.fromBufferAttribute(D1,O1+1);const Q1=d1.distanceSqToSegment(w1,x1,z1,y1);if(Q1>v1)continue;z1.applyMatrix4(this.matrixWorld);const R1=o1.ray.origin.distanceTo(z1);R1<o1.near||R1>o1.far||p1.push({distance:R1,point:y1.clone().applyMatrix4(this.matrixWorld),index:O1,face:null,faceIndex:null,object:this})}}}else q1.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const S1=this.geometry;if(S1.isBufferGeometry){const T1=S1.morphAttributes,U1=Object.keys(T1);if(U1.length>0){const V1=T1[U1[0]];if(void 0!==V1){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W1=0,X1=V1.length;W1<X1;W1++){const Y1=V1[W1].name||String(W1);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y1]=W1}}}}else{const Z1=S1.morphTargets;void 0!==Z1&&Z1.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}f1.prototype.isLine=!0;const $1=new Jp(),_1=new Jp();class a2 extends f1{constructor(b2,c2){super(b2,c2),this.type="LineSegments"}computeLineDistances(){const d2=this.geometry;if(d2.isBufferGeometry)if(null===d2.index){const e2=d2.attributes.position,f2=[];for(let g2=0,h2=e2.count;g2<h2;g2+=2)$1.fromBufferAttribute(e2,g2),_1.fromBufferAttribute(e2,g2+1),f2[g2]=0===g2?0:f2[g2-1],f2[g2+1]=f2[g2]+$1.distanceTo(_1);d2.setAttribute("lineDistance",new oJ(f2,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else d2.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}a2.prototype.isLineSegments=!0;class i2 extends f1{constructor(j2,k2){super(j2,k2),this.type="LineLoop"}}i2.prototype.isLineLoop=!0;class l2 extends KF{constructor(m2){super(),this.type="PointsMaterial",this.color=new gG(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(m2)}copy(n2){return super.copy(n2),this.color.copy(n2.color),this.map=n2.map,this.alphaMap=n2.alphaMap,this.size=n2.size,this.sizeAttenuation=n2.sizeAttenuation,this}}l2.prototype.isPointsMaterial=!0;const o2=new Wv(),p2=new Cu(),q2=new Tt(),r2=new Jp();class s2 extends $B{constructor(t2=new zJ(),u2=new l2()){super(),this.type="Points",this.geometry=t2,this.material=u2,this.updateMorphTargets()}copy(v2){return super.copy(v2),this.material=v2.material,this.geometry=v2.geometry,this}raycast(w2,x2){const y2=this.geometry,z2=this.matrixWorld,A2=w2.params.Points.threshold,B2=y2.drawRange;if(null===y2.boundingSphere&&y2.computeBoundingSphere(),q2.copy(y2.boundingSphere),q2.applyMatrix4(z2),q2.radius+=A2,!1===w2.ray.intersectsSphere(q2))return;o2.copy(z2).invert(),p2.copy(w2.ray).applyMatrix4(o2);const C2=A2/((this.scale.x+this.scale.y+this.scale.z)/3),D2=C2*C2;if(y2.isBufferGeometry){const E2=y2.index,F2=y2.attributes,G2=F2.position;if(null!==E2){const H2=Math.max(0,B2.start),I2=Math.min(E2.count,B2.start+B2.count);for(let J2=H2,K2=I2;J2<K2;J2++){const L2=E2.getX(J2);r2.fromBufferAttribute(G2,L2),Y2(r2,L2,D2,z2,w2,x2,this)}}else{const M2=Math.max(0,B2.start),N2=Math.min(G2.count,B2.start+B2.count);for(let O2=M2,P2=N2;O2<P2;O2++)r2.fromBufferAttribute(G2,O2),Y2(r2,O2,D2,z2,w2,x2,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const Q2=this.geometry;if(Q2.isBufferGeometry){const R2=Q2.morphAttributes,S2=Object.keys(R2);if(S2.length>0){const T2=R2[S2[0]];if(void 0!==T2){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U2=0,V2=T2.length;U2<V2;U2++){const W2=T2[U2].name||String(U2);this.morphTargetInfluences.push(0),this.morphTargetDictionary[W2]=U2}}}}else{const X2=Q2.morphTargets;void 0!==X2&&X2.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function Y2(a,b,c,d,e,f,g){const h=p2.distanceSqToPoint(a);if(h<c){const i=new Jp();p2.closestPointToPoint(a,i),i.applyMatrix4(d);const j=e.ray.origin.distanceTo(i);if(j<e.near||j>e.far)return;f.push({distance:j,distanceToRay:Math.sqrt(h),point:i,index:b,face:null,object:g})}}s2.prototype.isPoints=!0,(class extends yk{constructor(Z2,$2,_2,a3,b3,c3,d3,e3,f3){super(Z2,$2,_2,a3,b3,c3,d3,e3,f3),this.format=void 0!==d3?d3:1022,this.minFilter=void 0!==c3?c3:1006,this.magFilter=void 0!==b3?b3:1006,this.generateMipmaps=!1;const g3=this;function h3(){g3.needsUpdate=!0,Z2.requestVideoFrameCallback(h3)}"requestVideoFrameCallback"in Z2&&Z2.requestVideoFrameCallback(h3)}clone(){return new this.constructor(this.image).copy(this)}update(){const i3=this.image;!1=="requestVideoFrameCallback"in i3&&i3.readyState>=i3.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}).prototype.isVideoTexture=!0,(class extends yk{constructor(j3,k3,l3,m3,n3,o3,p3,q3,r3,s3,t3,u3){super(null,o3,p3,q3,r3,s3,m3,n3,t3,u3),this.image={width:k3,height:l3},this.mipmaps=j3,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,(class extends yk{constructor(v3,w3,x3,y3,z3,A3,B3,C3,D3){super(v3,w3,x3,y3,z3,A3,B3,C3,D3),this.needsUpdate=!0}}).prototype.isCanvasTexture=!0;class E3 extends zJ{constructor(F3=1,G3=8,H3=0,I3=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:F3,segments:G3,thetaStart:H3,thetaLength:I3},G3=Math.max(3,G3);const J3=[],K3=[],L3=[],M3=[],N3=new Jp(),O3=new Xg();K3.push(0,0,0),L3.push(0,0,1),M3.push(.5,.5);for(let P3=0,Q3=3;P3<=G3;P3++,Q3+=3){const R3=H3+P3/G3*I3;N3.x=F3*Math.cos(R3),N3.y=F3*Math.sin(R3),K3.push(N3.x,N3.y,N3.z),L3.push(0,0,1),O3.x=(K3[Q3]/F3+1)/2,O3.y=(K3[Q3+1]/F3+1)/2,M3.push(O3.x,O3.y)}for(let S3=1;S3<=G3;S3++)J3.push(S3,S3+1,0);this.setIndex(J3),this.setAttribute("position",new oJ(K3,3)),this.setAttribute("normal",new oJ(L3,3)),this.setAttribute("uv",new oJ(M3,2))}static fromJSON(T3){return new E3(T3.radius,T3.segments,T3.thetaStart,T3.thetaLength)}}class U3 extends zJ{constructor(V3=1,W3=1,X3=1,Y3=8,Z3=1,$3=!1,_3=0,a4=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:V3,radiusBottom:W3,height:X3,radialSegments:Y3,heightSegments:Z3,openEnded:$3,thetaStart:_3,thetaLength:a4};const b4=this;Y3=Math.floor(Y3),Z3=Math.floor(Z3);const c4=[],d4=[],e4=[],f4=[];let g4=0;const h4=[],i4=X3/2;let j4=0;function k4(a){const b=g4,c=new Xg(),d=new Jp();let e=0;const f=!0===a?V3:W3,g=!0===a?1:-1;for(let h=1;h<=Y3;h++)d4.push(0,i4*g,0),e4.push(0,g,0),f4.push(.5,.5),g4++;const i=g4;for(let j=0;j<=Y3;j++){const k=j/Y3,l=k*a4+_3,m=Math.cos(l),n=Math.sin(l);d.x=f*n,d.y=i4*g,d.z=f*m,d4.push(d.x,d.y,d.z),e4.push(0,g,0),c.x=.5*m+.5,c.y=.5*n*g+.5,f4.push(c.x,c.y),g4++}for(let o=0;o<Y3;o++){const p=b+o,q=i+o;!0===a?c4.push(q,q+1,p):c4.push(q+1,q,p),e+=3}b4.addGroup(j4,e,!0===a?1:2),j4+=e}(function(){const a=new Jp(),b=new Jp();let c=0;const d=(W3-V3)/X3;for(let e=0;e<=Z3;e++){const f=[],g=e/Z3,h=g*(W3-V3)+V3;for(let i=0;i<=Y3;i++){const j=i/Y3,k=j*a4+_3,l=Math.sin(k),m=Math.cos(k);b.x=h*l,b.y=-g*X3+i4,b.z=h*m,d4.push(b.x,b.y,b.z),a.set(l,d,m).normalize(),e4.push(a.x,a.y,a.z),f4.push(j,1-g),f.push(g4++)}h4.push(f)}for(let n=0;n<Y3;n++)for(let o=0;o<Z3;o++){const p=h4[o][n],q=h4[o+1][n],r=h4[o+1][n+1],s=h4[o][n+1];c4.push(p,q,s),c4.push(q,r,s),c+=6}b4.addGroup(j4,c,0),j4+=c})(),!1===$3&&(V3>0&&k4(!0),W3>0&&k4(!1)),this.setIndex(c4),this.setAttribute("position",new oJ(d4,3)),this.setAttribute("normal",new oJ(e4,3)),this.setAttribute("uv",new oJ(f4,2))}static fromJSON(l4){return new U3(l4.radiusTop,l4.radiusBottom,l4.height,l4.radialSegments,l4.heightSegments,l4.openEnded,l4.thetaStart,l4.thetaLength)}}class m4 extends U3{constructor(n4=1,o4=1,p4=8,q4=1,r4=!1,s4=0,t4=2*Math.PI){super(0,n4,o4,p4,q4,r4,s4,t4),this.type="ConeGeometry",this.parameters={radius:n4,height:o4,radialSegments:p4,heightSegments:q4,openEnded:r4,thetaStart:s4,thetaLength:t4}}static fromJSON(u4){return new m4(u4.radius,u4.height,u4.radialSegments,u4.heightSegments,u4.openEnded,u4.thetaStart,u4.thetaLength)}}class v4 extends zJ{constructor(w4=[],x4=[],y4=1,z4=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:w4,indices:x4,radius:y4,detail:z4};const A4=[],B4=[];function C4(a,b,c,d){const e=d+1,f=[];for(let g=0;g<=e;g++){f[g]=[];const h=a.clone().lerp(c,g/e),i=b.clone().lerp(c,g/e),j=e-g;for(let k=0;k<=j;k++)0===k&&g===e?f[g][k]=h:f[g][k]=h.clone().lerp(i,k/j)}for(let l=0;l<e;l++)for(let m=0;m<2*(e-l)-1;m++){const n=Math.floor(m/2);m%2==0?(D4(f[l][n+1]),D4(f[l+1][n]),D4(f[l][n])):(D4(f[l][n+1]),D4(f[l+1][n+1]),D4(f[l+1][n]))}}function D4(a){A4.push(a.x,a.y,a.z)}function E4(a,b){const c=3*a;b.x=w4[c+0],b.y=w4[c+1],b.z=w4[c+2]}function F4(a,b,c,d){d<0&&1===a.x&&(B4[b]=a.x-1),0===c.x&&0===c.z&&(B4[b]=d/2/Math.PI+.5)}function G4(a){return Math.atan2(a.z,-a.x)}function H4(a){return Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))}(function(a){const b=new Jp(),c=new Jp(),d=new Jp();for(let e=0;e<x4.length;e+=3)E4(x4[e+0],b),E4(x4[e+1],c),E4(x4[e+2],d),C4(b,c,d,a)})(z4),(function(a){const b=new Jp();for(let c=0;c<A4.length;c+=3)b.x=A4[c+0],b.y=A4[c+1],b.z=A4[c+2],b.normalize().multiplyScalar(a),A4[c+0]=b.x,A4[c+1]=b.y,A4[c+2]=b.z})(y4),(function(){const a=new Jp();for(let b=0;b<A4.length;b+=3){a.x=A4[b+0],a.y=A4[b+1],a.z=A4[b+2];const c=G4(a)/2/Math.PI+.5,d=H4(a)/Math.PI+.5;B4.push(c,1-d)}(function(){const a=new Jp(),b=new Jp(),c=new Jp(),d=new Jp(),e=new Xg(),f=new Xg(),g=new Xg();for(let h=0,i=0;h<A4.length;h+=9,i+=6){a.set(A4[h+0],A4[h+1],A4[h+2]),b.set(A4[h+3],A4[h+4],A4[h+5]),c.set(A4[h+6],A4[h+7],A4[h+8]),e.set(B4[i+0],B4[i+1]),f.set(B4[i+2],B4[i+3]),g.set(B4[i+4],B4[i+5]),d.copy(a).add(b).add(c).divideScalar(3);const j=G4(d);F4(e,i+0,a,j),F4(f,i+2,b,j),F4(g,i+4,c,j)}})(),(function(){for(let a=0;a<B4.length;a+=6){const b=B4[a+0],c=B4[a+2],d=B4[a+4],e=Math.max(b,c,d),f=Math.min(b,c,d);e>.9&&f<.1&&(b<.2&&(B4[a+0]+=1),c<.2&&(B4[a+2]+=1),d<.2&&(B4[a+4]+=1))}})()})(),this.setAttribute("position",new oJ(A4,3)),this.setAttribute("normal",new oJ(A4.slice(),3)),this.setAttribute("uv",new oJ(B4,2)),0===z4?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(I4){return new v4(I4.vertices,I4.indices,I4.radius,I4.details)}}class J4 extends v4{constructor(K4=1,L4=0){const M4=(1+Math.sqrt(5))/2,N4=1/M4;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-N4,-M4,0,-N4,M4,0,N4,-M4,0,N4,M4,-N4,-M4,0,-N4,M4,0,N4,-M4,0,N4,M4,0,-M4,0,-N4,M4,0,-N4,-M4,0,N4,M4,0,N4],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],K4,L4),this.type="DodecahedronGeometry",this.parameters={radius:K4,detail:L4}}static fromJSON(O4){return new J4(O4.radius,O4.detail)}}const P4=new Jp(),Q4=new Jp(),R4=new Jp(),S4=new hE();class T4{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(U4,V4){const W4=this.getUtoTmapping(U4);return this.getPoint(W4,V4)}getPoints(X4=5){const Y4=[];for(let Z4=0;Z4<=X4;Z4++)Y4.push(this.getPoint(Z4/X4));return Y4}getSpacedPoints($4=5){const _4=[];for(let a5=0;a5<=$4;a5++)_4.push(this.getPointAt(a5/$4));return _4}getLength(){const b5=this.getLengths();return b5[b5.length-1]}getLengths(c5=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===c5+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const d5=[];let e5,f5=this.getPoint(0),g5=0;d5.push(0);for(let h5=1;h5<=c5;h5++)g5+=(e5=this.getPoint(h5/c5)).distanceTo(f5),d5.push(g5),f5=e5;return this.cacheArcLengths=d5,d5}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(i5,j5){const k5=this.getLengths();let l5=0;const m5=k5.length;let n5;n5=j5||i5*k5[m5-1];let o5=0,p5=m5-1,q5;for(;o5<=p5;)if((q5=k5[l5=Math.floor(o5+(p5-o5)/2)]-n5)<0)o5=l5+1;else if(q5>0)p5=l5-1;else{p5=l5;break}if(k5[l5=p5]===n5)return l5/(m5-1);const r5=k5[l5],s5=k5[l5+1];return(l5+(n5-r5)/(s5-r5))/(m5-1)}getTangent(t5,u5){const v5=1e-4;let w5=t5-v5,x5=t5+v5;w5<0&&(w5=0),x5>1&&(x5=1);const y5=this.getPoint(w5),z5=this.getPoint(x5),A5=u5||(y5.isVector2?new Xg():new Jp());return A5.copy(z5).sub(y5).normalize(),A5}getTangentAt(B5,C5){const D5=this.getUtoTmapping(B5);return this.getTangent(D5,C5)}computeFrenetFrames(E5,F5){const G5=new Jp(),H5=[],I5=[],J5=[],K5=new Jp(),L5=new Wv();for(let M5=0;M5<=E5;M5++){const N5=M5/E5;H5[M5]=this.getTangentAt(N5,new Jp())}I5[0]=new Jp(),J5[0]=new Jp();let O5=Number.MAX_VALUE;const P5=Math.abs(H5[0].x),Q5=Math.abs(H5[0].y),R5=Math.abs(H5[0].z);P5<=O5&&(O5=P5,G5.set(1,0,0)),Q5<=O5&&(O5=Q5,G5.set(0,1,0)),R5<=O5&&G5.set(0,0,1),K5.crossVectors(H5[0],G5).normalize(),I5[0].crossVectors(H5[0],K5),J5[0].crossVectors(H5[0],I5[0]);for(let S5=1;S5<=E5;S5++){if(I5[S5]=I5[S5-1].clone(),J5[S5]=J5[S5-1].clone(),K5.crossVectors(H5[S5-1],H5[S5]),K5.length()>Number.EPSILON){K5.normalize();const T5=Math.acos(Qg(H5[S5-1].dot(H5[S5]),-1,1));I5[S5].applyMatrix4(L5.makeRotationAxis(K5,T5))}J5[S5].crossVectors(H5[S5],I5[S5])}if(!0===F5){let U5=Math.acos(Qg(I5[0].dot(I5[E5]),-1,1));U5/=E5,H5[0].dot(K5.crossVectors(I5[0],I5[E5]))>0&&(U5=-U5);for(let V5=1;V5<=E5;V5++)I5[V5].applyMatrix4(L5.makeRotationAxis(H5[V5],U5*V5)),J5[V5].crossVectors(H5[V5],I5[V5])}return{tangents:H5,normals:I5,binormals:J5}}clone(){return new this.constructor().copy(this)}copy(W5){return this.arcLengthDivisions=W5.arcLengthDivisions,this}toJSON(){const X5={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return X5.arcLengthDivisions=this.arcLengthDivisions,X5.type=this.type,X5}fromJSON(Y5){return this.arcLengthDivisions=Y5.arcLengthDivisions,this}}class Z5 extends T4{constructor($5=0,_5=0,a6=1,b6=1,c6=0,d6=2*Math.PI,e6=!1,f6=0){super(),this.type="EllipseCurve",this.aX=$5,this.aY=_5,this.xRadius=a6,this.yRadius=b6,this.aStartAngle=c6,this.aEndAngle=d6,this.aClockwise=e6,this.aRotation=f6}getPoint(g6,h6){const i6=h6||new Xg(),j6=2*Math.PI;let k6=this.aEndAngle-this.aStartAngle;const l6=Math.abs(k6)<Number.EPSILON;for(;k6<0;)k6+=j6;for(;k6>j6;)k6-=j6;k6<Number.EPSILON&&(k6=l6?0:j6),!0!==this.aClockwise||l6||(k6===j6?k6=-j6:k6-=j6);const m6=this.aStartAngle+g6*k6;let n6=this.aX+this.xRadius*Math.cos(m6),o6=this.aY+this.yRadius*Math.sin(m6);if(0!==this.aRotation){const p6=Math.cos(this.aRotation),q6=Math.sin(this.aRotation),r6=n6-this.aX,s6=o6-this.aY;n6=r6*p6-s6*q6+this.aX,o6=r6*q6+s6*p6+this.aY}return i6.set(n6,o6)}copy(t6){return super.copy(t6),this.aX=t6.aX,this.aY=t6.aY,this.xRadius=t6.xRadius,this.yRadius=t6.yRadius,this.aStartAngle=t6.aStartAngle,this.aEndAngle=t6.aEndAngle,this.aClockwise=t6.aClockwise,this.aRotation=t6.aRotation,this}toJSON(){const u6=super.toJSON();return u6.aX=this.aX,u6.aY=this.aY,u6.xRadius=this.xRadius,u6.yRadius=this.yRadius,u6.aStartAngle=this.aStartAngle,u6.aEndAngle=this.aEndAngle,u6.aClockwise=this.aClockwise,u6.aRotation=this.aRotation,u6}fromJSON(v6){return super.fromJSON(v6),this.aX=v6.aX,this.aY=v6.aY,this.xRadius=v6.xRadius,this.yRadius=v6.yRadius,this.aStartAngle=v6.aStartAngle,this.aEndAngle=v6.aEndAngle,this.aClockwise=v6.aClockwise,this.aRotation=v6.aRotation,this}}Z5.prototype.isEllipseCurve=!0;class w6 extends Z5{constructor(x6,y6,z6,A6,B6,C6){super(x6,y6,z6,z6,A6,B6,C6),this.type="ArcCurve"}}function D6(){let a=0,b=0,c=0,d=0;function e(e,f,g,h){a=e,b=g,c=-3*e+3*f-2*g-h,d=2*e-2*f+g+h}return{initCatmullRom:function(a,b,c,d,f){e(b,c,f*(c-a),f*(d-b))},initNonuniformCatmullRom:function(a,b,c,d,f,g,h){let i=(b-a)/f-(c-a)/(f+g)+(c-b)/g,j=(c-b)/g-(d-b)/(g+h)+(d-c)/h;i*=g,j*=g,e(b,c,i,j)},calc:function(e){const f=e*e;return a+b*e+c*f+d*(f*e)}}}w6.prototype.isArcCurve=!0;const E6=new Jp(),F6=new D6(),G6=new D6(),H6=new D6();class I6 extends T4{constructor(J6=[],K6=!1,L6="centripetal",M6=.5){super(),this.type="CatmullRomCurve3",this.points=J6,this.closed=K6,this.curveType=L6,this.tension=M6}getPoint(N6,O6=new Jp()){const P6=O6,Q6=this.points,R6=Q6.length,S6=(R6-(this.closed?0:1))*N6;let T6=Math.floor(S6),U6=S6-T6;this.closed?T6+=T6>0?0:(Math.floor(Math.abs(T6)/R6)+1)*R6:0===U6&&T6===R6-1&&(T6=R6-2,U6=1);let V6,W6;this.closed||T6>0?V6=Q6[(T6-1)%R6]:(E6.subVectors(Q6[0],Q6[1]).add(Q6[0]),V6=E6);const X6=Q6[T6%R6],Y6=Q6[(T6+1)%R6];if(this.closed||T6+2<R6?W6=Q6[(T6+2)%R6]:(E6.subVectors(Q6[R6-1],Q6[R6-2]).add(Q6[R6-1]),W6=E6),"centripetal"===this.curveType||"chordal"===this.curveType){const Z6="chordal"===this.curveType?.5:.25;let $6=Math.pow(V6.distanceToSquared(X6),Z6),_6=Math.pow(X6.distanceToSquared(Y6),Z6),a7=Math.pow(Y6.distanceToSquared(W6),Z6);_6<1e-4&&(_6=1),$6<1e-4&&($6=_6),a7<1e-4&&(a7=_6),F6.initNonuniformCatmullRom(V6.x,X6.x,Y6.x,W6.x,$6,_6,a7),G6.initNonuniformCatmullRom(V6.y,X6.y,Y6.y,W6.y,$6,_6,a7),H6.initNonuniformCatmullRom(V6.z,X6.z,Y6.z,W6.z,$6,_6,a7)}else"catmullrom"===this.curveType&&(F6.initCatmullRom(V6.x,X6.x,Y6.x,W6.x,this.tension),G6.initCatmullRom(V6.y,X6.y,Y6.y,W6.y,this.tension),H6.initCatmullRom(V6.z,X6.z,Y6.z,W6.z,this.tension));return P6.set(F6.calc(U6),G6.calc(U6),H6.calc(U6)),P6}copy(b7){super.copy(b7),this.points=[];for(let c7=0,d7=b7.points.length;c7<d7;c7++){const e7=b7.points[c7];this.points.push(e7.clone())}return this.closed=b7.closed,this.curveType=b7.curveType,this.tension=b7.tension,this}toJSON(){const f7=super.toJSON();f7.points=[];for(let g7=0,h7=this.points.length;g7<h7;g7++){const i7=this.points[g7];f7.points.push(i7.toArray())}return f7.closed=this.closed,f7.curveType=this.curveType,f7.tension=this.tension,f7}fromJSON(j7){super.fromJSON(j7),this.points=[];for(let k7=0,l7=j7.points.length;k7<l7;k7++){const m7=j7.points[k7];this.points.push(new Jp().fromArray(m7))}return this.closed=j7.closed,this.curveType=j7.curveType,this.tension=j7.tension,this}}function n7(a,b,c,d,e){const f=(d-b)*.5,g=(e-c)*.5,h=a*a;return(2*c-2*d+f+g)*(a*h)+(-3*c+3*d-2*f-g)*h+f*a+c}function o7(a,b,c,d){var e,f;return(function(a,b){const c=1-a;return c*c*b})(a,b)+2*(1-(e=a))*e*c+(f=a)*f*d}function p7(a,b,c,d,e){var f,g;return(function(a,b){const c=1-a;return c*c*c*b})(a,b)+(function(a,b){const c=1-a;return 3*c*c*a*b})(a,c)+3*(1-(f=a))*f*f*d+(g=a)*g*g*e}I6.prototype.isCatmullRomCurve3=!0;class q7 extends T4{constructor(r7=new Xg(),s7=new Xg(),t7=new Xg(),u7=new Xg()){super(),this.type="CubicBezierCurve",this.v0=r7,this.v1=s7,this.v2=t7,this.v3=u7}getPoint(v7,w7=new Xg()){const x7=w7,y7=this.v0,z7=this.v1,A7=this.v2,B7=this.v3;return x7.set(p7(v7,y7.x,z7.x,A7.x,B7.x),p7(v7,y7.y,z7.y,A7.y,B7.y)),x7}copy(C7){return super.copy(C7),this.v0.copy(C7.v0),this.v1.copy(C7.v1),this.v2.copy(C7.v2),this.v3.copy(C7.v3),this}toJSON(){const D7=super.toJSON();return D7.v0=this.v0.toArray(),D7.v1=this.v1.toArray(),D7.v2=this.v2.toArray(),D7.v3=this.v3.toArray(),D7}fromJSON(E7){return super.fromJSON(E7),this.v0.fromArray(E7.v0),this.v1.fromArray(E7.v1),this.v2.fromArray(E7.v2),this.v3.fromArray(E7.v3),this}}q7.prototype.isCubicBezierCurve=!0;class F7 extends T4{constructor(G7=new Jp(),H7=new Jp(),I7=new Jp(),J7=new Jp()){super(),this.type="CubicBezierCurve3",this.v0=G7,this.v1=H7,this.v2=I7,this.v3=J7}getPoint(K7,L7=new Jp()){const M7=L7,N7=this.v0,O7=this.v1,P7=this.v2,Q7=this.v3;return M7.set(p7(K7,N7.x,O7.x,P7.x,Q7.x),p7(K7,N7.y,O7.y,P7.y,Q7.y),p7(K7,N7.z,O7.z,P7.z,Q7.z)),M7}copy(R7){return super.copy(R7),this.v0.copy(R7.v0),this.v1.copy(R7.v1),this.v2.copy(R7.v2),this.v3.copy(R7.v3),this}toJSON(){const S7=super.toJSON();return S7.v0=this.v0.toArray(),S7.v1=this.v1.toArray(),S7.v2=this.v2.toArray(),S7.v3=this.v3.toArray(),S7}fromJSON(T7){return super.fromJSON(T7),this.v0.fromArray(T7.v0),this.v1.fromArray(T7.v1),this.v2.fromArray(T7.v2),this.v3.fromArray(T7.v3),this}}F7.prototype.isCubicBezierCurve3=!0;class U7 extends T4{constructor(V7=new Xg(),W7=new Xg()){super(),this.type="LineCurve",this.v1=V7,this.v2=W7}getPoint(X7,Y7=new Xg()){const Z7=Y7;return 1===X7?Z7.copy(this.v2):(Z7.copy(this.v2).sub(this.v1),Z7.multiplyScalar(X7).add(this.v1)),Z7}getPointAt($7,_7){return this.getPoint($7,_7)}getTangent(a8,b8){const c8=b8||new Xg();return c8.copy(this.v2).sub(this.v1).normalize(),c8}copy(d8){return super.copy(d8),this.v1.copy(d8.v1),this.v2.copy(d8.v2),this}toJSON(){const e8=super.toJSON();return e8.v1=this.v1.toArray(),e8.v2=this.v2.toArray(),e8}fromJSON(f8){return super.fromJSON(f8),this.v1.fromArray(f8.v1),this.v2.fromArray(f8.v2),this}}U7.prototype.isLineCurve=!0;class g8 extends T4{constructor(h8=new Xg(),i8=new Xg(),j8=new Xg()){super(),this.type="QuadraticBezierCurve",this.v0=h8,this.v1=i8,this.v2=j8}getPoint(k8,l8=new Xg()){const m8=l8,n8=this.v0,o8=this.v1,p8=this.v2;return m8.set(o7(k8,n8.x,o8.x,p8.x),o7(k8,n8.y,o8.y,p8.y)),m8}copy(q8){return super.copy(q8),this.v0.copy(q8.v0),this.v1.copy(q8.v1),this.v2.copy(q8.v2),this}toJSON(){const r8=super.toJSON();return r8.v0=this.v0.toArray(),r8.v1=this.v1.toArray(),r8.v2=this.v2.toArray(),r8}fromJSON(s8){return super.fromJSON(s8),this.v0.fromArray(s8.v0),this.v1.fromArray(s8.v1),this.v2.fromArray(s8.v2),this}}g8.prototype.isQuadraticBezierCurve=!0;class t8 extends T4{constructor(u8=new Jp(),v8=new Jp(),w8=new Jp()){super(),this.type="QuadraticBezierCurve3",this.v0=u8,this.v1=v8,this.v2=w8}getPoint(x8,y8=new Jp()){const z8=y8,A8=this.v0,B8=this.v1,C8=this.v2;return z8.set(o7(x8,A8.x,B8.x,C8.x),o7(x8,A8.y,B8.y,C8.y),o7(x8,A8.z,B8.z,C8.z)),z8}copy(D8){return super.copy(D8),this.v0.copy(D8.v0),this.v1.copy(D8.v1),this.v2.copy(D8.v2),this}toJSON(){const E8=super.toJSON();return E8.v0=this.v0.toArray(),E8.v1=this.v1.toArray(),E8.v2=this.v2.toArray(),E8}fromJSON(F8){return super.fromJSON(F8),this.v0.fromArray(F8.v0),this.v1.fromArray(F8.v1),this.v2.fromArray(F8.v2),this}}t8.prototype.isQuadraticBezierCurve3=!0;class G8 extends T4{constructor(H8=[]){super(),this.type="SplineCurve",this.points=H8}getPoint(I8,J8=new Xg()){const K8=J8,L8=this.points,M8=(L8.length-1)*I8,N8=Math.floor(M8),O8=M8-N8,P8=L8[0===N8?N8:N8-1],Q8=L8[N8],R8=L8[N8>L8.length-2?L8.length-1:N8+1],S8=L8[N8>L8.length-3?L8.length-1:N8+2];return K8.set(n7(O8,P8.x,Q8.x,R8.x,S8.x),n7(O8,P8.y,Q8.y,R8.y,S8.y)),K8}copy(T8){super.copy(T8),this.points=[];for(let U8=0,V8=T8.points.length;U8<V8;U8++){const W8=T8.points[U8];this.points.push(W8.clone())}return this}toJSON(){const X8=super.toJSON();X8.points=[];for(let Y8=0,Z8=this.points.length;Y8<Z8;Y8++){const $8=this.points[Y8];X8.points.push($8.toArray())}return X8}fromJSON(_8){super.fromJSON(_8),this.points=[];for(let a9=0,b9=_8.points.length;a9<b9;a9++){const c9=_8.points[a9];this.points.push(new Xg().fromArray(c9))}return this}}G8.prototype.isSplineCurve=!0;var d9=Object.freeze({__proto__:null,ArcCurve:w6,CatmullRomCurve3:I6,CubicBezierCurve:q7,CubicBezierCurve3:F7,EllipseCurve:Z5,LineCurve:U7,LineCurve3:class extends T4{constructor(e9=new Jp(),f9=new Jp()){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e9,this.v2=f9}getPoint(g9,h9=new Jp()){const i9=h9;return 1===g9?i9.copy(this.v2):(i9.copy(this.v2).sub(this.v1),i9.multiplyScalar(g9).add(this.v1)),i9}getPointAt(j9,k9){return this.getPoint(j9,k9)}copy(l9){return super.copy(l9),this.v1.copy(l9.v1),this.v2.copy(l9.v2),this}toJSON(){const m9=super.toJSON();return m9.v1=this.v1.toArray(),m9.v2=this.v2.toArray(),m9}fromJSON(n9){return super.fromJSON(n9),this.v1.fromArray(n9.v1),this.v2.fromArray(n9.v2),this}},QuadraticBezierCurve:g8,QuadraticBezierCurve3:t8,SplineCurve:G8});class o9 extends T4{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(p9){this.curves.push(p9)}closePath(){const q9=this.curves[0].getPoint(0),r9=this.curves[this.curves.length-1].getPoint(1);q9.equals(r9)||this.curves.push(new U7(r9,q9))}getPoint(s9,t9){const u9=s9*this.getLength(),v9=this.getCurveLengths();let w9=0;for(;w9<v9.length;){if(v9[w9]>=u9){const x9=v9[w9]-u9,y9=this.curves[w9],z9=y9.getLength(),A9=0===z9?0:1-x9/z9;return y9.getPointAt(A9,t9)}w9++}return null}getLength(){const B9=this.getCurveLengths();return B9[B9.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const C9=[];let D9=0;for(let E9=0,F9=this.curves.length;E9<F9;E9++)D9+=this.curves[E9].getLength(),C9.push(D9);return this.cacheLengths=C9,C9}getSpacedPoints(G9=40){const H9=[];for(let I9=0;I9<=G9;I9++)H9.push(this.getPoint(I9/G9));return this.autoClose&&H9.push(H9[0]),H9}getPoints(J9=12){const K9=[];let L9;for(let M9=0,N9=this.curves;M9<N9.length;M9++){const O9=N9[M9],P9=O9&&O9.isEllipseCurve?2*J9:O9&&(O9.isLineCurve||O9.isLineCurve3)?1:O9&&O9.isSplineCurve?J9*O9.points.length:J9,Q9=O9.getPoints(P9);for(let R9=0;R9<Q9.length;R9++){const S9=Q9[R9];L9&&L9.equals(S9)||(K9.push(S9),L9=S9)}}return this.autoClose&&K9.length>1&&!K9[K9.length-1].equals(K9[0])&&K9.push(K9[0]),K9}copy(T9){super.copy(T9),this.curves=[];for(let U9=0,V9=T9.curves.length;U9<V9;U9++){const W9=T9.curves[U9];this.curves.push(W9.clone())}return this.autoClose=T9.autoClose,this}toJSON(){const X9=super.toJSON();X9.autoClose=this.autoClose,X9.curves=[];for(let Y9=0,Z9=this.curves.length;Y9<Z9;Y9++){const $9=this.curves[Y9];X9.curves.push($9.toJSON())}return X9}fromJSON(_9){super.fromJSON(_9),this.autoClose=_9.autoClose,this.curves=[];for(let aaa=0,baa=_9.curves.length;aaa<baa;aaa++){const caa=_9.curves[aaa];this.curves.push(new d9[caa.type]().fromJSON(caa))}return this}}class daa extends o9{constructor(eaa){super(),this.type="Path",this.currentPoint=new Xg(),eaa&&this.setFromPoints(eaa)}setFromPoints(faa){this.moveTo(faa[0].x,faa[0].y);for(let gaa=1,haa=faa.length;gaa<haa;gaa++)this.lineTo(faa[gaa].x,faa[gaa].y);return this}moveTo(iaa,jaa){return this.currentPoint.set(iaa,jaa),this}lineTo(kaa,laa){const maa=new U7(this.currentPoint.clone(),new Xg(kaa,laa));return this.curves.push(maa),this.currentPoint.set(kaa,laa),this}quadraticCurveTo(naa,oaa,paa,qaa){const raa=new g8(this.currentPoint.clone(),new Xg(naa,oaa),new Xg(paa,qaa));return this.curves.push(raa),this.currentPoint.set(paa,qaa),this}bezierCurveTo(saa,taa,uaa,vaa,waa,xaa){const yaa=new q7(this.currentPoint.clone(),new Xg(saa,taa),new Xg(uaa,vaa),new Xg(waa,xaa));return this.curves.push(yaa),this.currentPoint.set(waa,xaa),this}splineThru(zaa){const Aaa=[this.currentPoint.clone()].concat(zaa),Baa=new G8(Aaa);return this.curves.push(Baa),this.currentPoint.copy(zaa[zaa.length-1]),this}arc(Caa,Daa,Eaa,Faa,Gaa,Haa){const Iaa=this.currentPoint.x,Jaa=this.currentPoint.y;return this.absarc(Caa+Iaa,Daa+Jaa,Eaa,Faa,Gaa,Haa),this}absarc(Kaa,Laa,Maa,Naa,Oaa,Paa){return this.absellipse(Kaa,Laa,Maa,Maa,Naa,Oaa,Paa),this}ellipse(Qaa,Raa,Saa,Taa,Uaa,Vaa,Waa,Xaa){const Yaa=this.currentPoint.x,Zaa=this.currentPoint.y;return this.absellipse(Qaa+Yaa,Raa+Zaa,Saa,Taa,Uaa,Vaa,Waa,Xaa),this}absellipse($aa,_aa,aba,bba,cba,dba,eba,fba){const gba=new Z5($aa,_aa,aba,bba,cba,dba,eba,fba);if(this.curves.length>0){const hba=gba.getPoint(0);hba.equals(this.currentPoint)||this.lineTo(hba.x,hba.y)}this.curves.push(gba);const iba=gba.getPoint(1);return this.currentPoint.copy(iba),this}copy(jba){return super.copy(jba),this.currentPoint.copy(jba.currentPoint),this}toJSON(){const kba=super.toJSON();return kba.currentPoint=this.currentPoint.toArray(),kba}fromJSON(lba){return super.fromJSON(lba),this.currentPoint.fromArray(lba.currentPoint),this}}class mba extends daa{constructor(nba){super(nba),this.uuid=Pg(),this.type="Shape",this.holes=[]}getPointsHoles(oba){const pba=[];for(let qba=0,rba=this.holes.length;qba<rba;qba++)pba[qba]=this.holes[qba].getPoints(oba);return pba}extractPoints(sba){return{shape:this.getPoints(sba),holes:this.getPointsHoles(sba)}}copy(tba){super.copy(tba),this.holes=[];for(let uba=0,vba=tba.holes.length;uba<vba;uba++){const wba=tba.holes[uba];this.holes.push(wba.clone())}return this}toJSON(){const xba=super.toJSON();xba.uuid=this.uuid,xba.holes=[];for(let yba=0,zba=this.holes.length;yba<zba;yba++){const Aba=this.holes[yba];xba.holes.push(Aba.toJSON())}return xba}fromJSON(Bba){super.fromJSON(Bba),this.uuid=Bba.uuid,this.holes=[];for(let Cba=0,Dba=Bba.holes.length;Cba<Dba;Cba++){const Eba=Bba.holes[Cba];this.holes.push(new daa().fromJSON(Eba))}return this}}const Fba={triangulate:function(a,b,c=2){const d=b&&b.length,e=d?b[0]*c:a.length;let f=Gba(a,0,e,c,!0);const g=[];if(!f||f.next===f.prev)return g;let h,i,j,k,l,m,n;if(d&&(f=Nba(a,b,f,c)),a.length>80*c){h=j=a[0],i=k=a[1];for(let o=c;o<e;o+=c)l=a[o],m=a[o+1],l<h&&(h=l),m<i&&(i=m),l>j&&(j=l),m>k&&(k=m);n=0!==(n=Math.max(j-h,k-i))?1/n:0}return Iba(f,g,c,h,i,n),g}};function Gba(a,b,c,d,e){let f,g;if(e===ica(a,b,c,d)>0)for(f=b;f<c;f+=d)g=fca(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=fca(f,a[f],a[f+1],g);return g&&Zba(g,g.next)&&(gca(g),g=g.next),g}function Hba(a,b){if(!a)return a;b||(b=a);let c=a,d;do if(d=!1,!c.steiner&&(Zba(c,c.next)||0===Yba(c.prev,c,c.next))){if(gca(c),(c=b=c.prev)===c.next)break;d=!0}else c=c.next;while(d||c!==b);return b}function Iba(a,b,c,d,e,f,g){if(!a)return;!g&&f&&Sba(a,d,e,f);let h=a,i,j;for(;a.prev!==a.next;){if(i=a.prev,j=a.next,f?Kba(a,d,e,f):Jba(a)){b.push(i.i/c),b.push(a.i/c),b.push(j.i/c),gca(a),a=j.next,h=j.next;continue}if((a=j)===h){g?1===g?Iba(a=Lba(Hba(a),b,c),b,c,d,e,f,2):2===g&&Mba(a,b,c,d,e,f):Iba(Hba(a),b,c,d,e,f,1);break}}}function Jba(a){const b=a.prev,c=a,d=a.next;if(Yba(b,c,d)>=0)return!1;let e=a.next.next;for(;e!==a.prev;){if(Wba(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&Yba(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function Kba(a,b,c,d){const e=a.prev,f=a,g=a.next;if(Yba(e,f,g)>=0)return!1;const h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=Uba(h,i,b,c,d),m=Uba(j,k,b,c,d);let n=a.prevZ,o=a.nextZ;for(;n&&n.z>=l&&o&&o.z<=m;){if(n!==a.prev&&n!==a.next&&Wba(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&Yba(n.prev,n,n.next)>=0)return!1;if(n=n.prevZ,o!==a.prev&&o!==a.next&&Wba(e.x,e.y,f.x,f.y,g.x,g.y,o.x,o.y)&&Yba(o.prev,o,o.next)>=0)return!1;o=o.nextZ}for(;n&&n.z>=l;){if(n!==a.prev&&n!==a.next&&Wba(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&Yba(n.prev,n,n.next)>=0)return!1;n=n.prevZ}for(;o&&o.z<=m;){if(o!==a.prev&&o!==a.next&&Wba(e.x,e.y,f.x,f.y,g.x,g.y,o.x,o.y)&&Yba(o.prev,o,o.next)>=0)return!1;o=o.nextZ}return!0}function Lba(a,b,c){let d=a;do{const e=d.prev,f=d.next.next;!Zba(e,f)&&$ba(e,d,d.next,f)&&cca(e,f)&&cca(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),gca(d),gca(d.next),d=a=f),d=d.next}while(d!==a);return Hba(d)}function Mba(a,b,c,d,e,f){let g=a;do{let h=g.next.next;for(;h!==g.prev;){if(g.i!==h.i&&Xba(g,h)){let i=eca(g,h);g=Hba(g,g.next),i=Hba(i,i.next),Iba(g,b,c,d,e,f),Iba(i,b,c,d,e,f);return}h=h.next}g=g.next}while(g!==a)}function Nba(a,b,c,d){const e=[];let f,g,h,i,j;for(f=0,g=b.length;f<g;f++)h=b[f]*d,i=f<g-1?b[f+1]*d:a.length,j=Gba(a,h,i,d,!1),j===j.next&&(j.steiner=!0),e.push(Vba(j));for(e.sort(Oba),f=0;f<e.length;f++)Pba(e[f],c),c=Hba(c,c.next);return c}function Oba(a,b){return a.x-b.x}function Pba(a,b){if(b=Qba(a,b)){const c=eca(b,a);Hba(b,b.next),Hba(c,c.next)}}function Qba(a,b){let c=b;const d=a.x,e=a.y;let f=-1/0,g;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){const h=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>f){if(f=h,h===d){if(e===c.y)return c;if(e===c.next.y)return c.next}g=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!g)return null;if(d===f)return g;const i=g,j=g.x,k=g.y;let l=1/0,m;c=g;do d>=c.x&&c.x>=j&&d!==c.x&&Wba(e<k?d:f,e,j,k,e<k?f:d,e,c.x,c.y)&&(m=Math.abs(e-c.y)/(d-c.x),cca(c,a)&&(m<l||m===l&&(c.x>g.x||c.x===g.x&&Rba(g,c)))&&(g=c,l=m)),c=c.next;while(c!==i);return g}function Rba(a,b){return 0>Yba(a.prev,a,b.prev)&&0>Yba(b.next,a,a.next)}function Sba(a,b,c,d){let e=a;do null===e.z&&(e.z=Uba(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,Tba(e)}function Tba(a){let b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;b<j&&(h++,d=d.nextZ);b++);for(i=j;h>0||i>0&&d;)0!==h&&(0===i||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1);return a}function Uba(a,b,c,d,e){return a=32767*(a-c)*e,b=32767*(b-d)*e,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,a|b<<1}function Vba(a){let b=a,c=a;do(b.x<c.x||b.x===c.x&&b.y<c.y)&&(c=b),b=b.next;while(b!==a);return c}function Wba(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function Xba(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!bca(a,b)&&(cca(a,b)&&cca(b,a)&&dca(a,b)&&(Yba(a.prev,a,b.prev)||Yba(a,b.prev,b))||Zba(a,b)&&Yba(a.prev,a,a.next)>0&&Yba(b.prev,b,b.next)>0)}function Yba(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function Zba(a,b){return a.x===b.x&&a.y===b.y}function $ba(a,b,c,d){const e=aca(Yba(a,b,c)),f=aca(Yba(a,b,d)),g=aca(Yba(c,d,a)),h=aca(Yba(c,d,b));return e!==f&&g!==h|| !!(0===e&&_ba(a,c,b))|| !!(0===f&&_ba(a,d,b))|| !!(0===g&&_ba(c,a,d))||!!(0===h&&_ba(c,b,d))}function _ba(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}function aca(a){return a>0?1:a<0?-1:0}function bca(a,b){let c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&$ba(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function cca(a,b){return 0>Yba(a.prev,a,a.next)?Yba(a,b,a.next)>=0&&Yba(a,a.prev,b)>=0:0>Yba(a,b,a.prev)||0>Yba(a,a.next,b)}function dca(a,b){let c=a,d=!1;const e=(a.x+b.x)/2,f=(a.y+b.y)/2;do c.y>f!=c.next.y>f&&c.next.y!==c.y&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}function eca(a,b){const c=new hca(a.i,a.x,a.y),d=new hca(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function fca(a,b,c,d){const e=new hca(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function gca(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function hca(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ica(a,b,c,d){let e=0;for(let f=b,g=c-d;f<c;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}class jca{static area(kca){const lca=kca.length;let mca=0;for(let nca=lca-1,oca=0;oca<lca;nca=oca++)mca+=kca[nca].x*kca[oca].y-kca[oca].x*kca[nca].y;return .5*mca}static isClockWise(pca){return 0>jca.area(pca)}static triangulateShape(qca,rca){const sca=[],tca=[],uca=[];zca(qca),Aca(sca,qca);let vca=qca.length;rca.forEach(zca);for(let wca=0;wca<rca.length;wca++)tca.push(vca),vca+=rca[wca].length,Aca(sca,rca[wca]);const xca=Fba.triangulate(sca,tca);for(let yca=0;yca<xca.length;yca+=3)uca.push(xca.slice(yca,yca+3));return uca}}function zca(a){const b=a.length;b>2&&a[b-1].equals(a[0])&&a.pop()}function Aca(a,b){for(let c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}class Bca extends zJ{constructor(Cca=new mba([new Xg(.5,.5),new Xg(-0.5,.5),new Xg(-0.5,-0.5),new Xg(.5,-0.5)]),Dca={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:Cca,options:Dca},Cca=Array.isArray(Cca)?Cca:[Cca];const Eca=this,Fca=[],Gca=[];for(let Hca=0,Ica=Cca.length;Hca<Ica;Hca++){const Jca=Cca[Hca];Kca(Jca)}function Kca(a){const b=[],c=void 0!==Dca.curveSegments?Dca.curveSegments:12,d=void 0!==Dca.steps?Dca.steps:1;let e=void 0!==Dca.depth?Dca.depth:1,f=void 0===Dca.bevelEnabled||Dca.bevelEnabled,g=void 0!==Dca.bevelThickness?Dca.bevelThickness:.2,h=void 0!==Dca.bevelSize?Dca.bevelSize:g-.1,i=void 0!==Dca.bevelOffset?Dca.bevelOffset:0,j=void 0!==Dca.bevelSegments?Dca.bevelSegments:3;const k=Dca.extrudePath,l=void 0!==Dca.UVGenerator?Dca.UVGenerator:Vca;void 0!==Dca.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),e=Dca.amount);let m,n=!1,o,p,q,r;k&&(m=k.getSpacedPoints(d),n=!0,f=!1,o=k.computeFrenetFrames(d,!1),p=new Jp(),q=new Jp(),r=new Jp()),f||(j=0,g=0,h=0,i=0);const s=a.extractPoints(c);let t=s.shape;const u=s.holes,v=!jca.isClockWise(t);if(v){t=t.reverse();for(let w=0,x=u.length;w<x;w++){const y=u[w];jca.isClockWise(y)&&(u[w]=y.reverse())}}const z=jca.triangulateShape(t,u),A=t;for(let B=0,C=u.length;B<C;B++){const D=u[B];t=t.concat(D)}function E(a,b,c){return b||console.error("THREE.ExtrudeGeometry: vec does not exist"),b.clone().multiplyScalar(c).add(a)}const F=t.length,G=z.length;function H(a,b,c){let d,e,f;const g=a.x-b.x,h=a.y-b.y,i=c.x-a.x,j=c.y-a.y,k=g*g+h*h,l=g*j-h*i;if(Math.abs(l)>Number.EPSILON){const m=Math.sqrt(k),n=Math.sqrt(i*i+j*j),o=b.x-h/m,p=b.y+g/m,q=c.x-j/n,r=c.y+i/n,s=((q-o)*j-(r-p)*i)/(g*j-h*i);d=o+g*s-a.x,e=p+h*s-a.y;const t=d*d+e*e;if(t<=2)return new Xg(d,e);f=Math.sqrt(t/2)}else{let u=!1;g>Number.EPSILON?i>Number.EPSILON&&(u=!0):g< -Number.EPSILON?i< -Number.EPSILON&&(u=!0):Math.sign(h)===Math.sign(j)&&(u=!0),u?(d=-h,e=g,f=Math.sqrt(k)):(d=g,e=h,f=Math.sqrt(k/2))}return new Xg(d/f,e/f)}const I=[];for(let J=0,K=A.length,L=K-1,M=J+1;J<K;J++,L++,M++)L===K&&(L=0),M===K&&(M=0),I[J]=H(A[J],A[L],A[M]);const N=[];let O,P=I.concat();for(let Q=0,R=u.length;Q<R;Q++){const S=u[Q];O=[];for(let T=0,U=S.length,V=U-1,W=T+1;T<U;T++,V++,W++)V===U&&(V=0),W===U&&(W=0),O[T]=H(S[T],S[V],S[W]);N.push(O),P=P.concat(O)}for(let X=0;X<j;X++){const Y=X/j,Z=g*Math.cos(Y*Math.PI/2),$=h*Math.sin(Y*Math.PI/2)+i;for(let _=0,aa=A.length;_<aa;_++){const ba=E(A[_],I[_],$);Ca(ba.x,ba.y,-Z)}for(let ca=0,da=u.length;ca<da;ca++){const ea=u[ca];O=N[ca];for(let fa=0,ga=ea.length;fa<ga;fa++){const ha=E(ea[fa],O[fa],$);Ca(ha.x,ha.y,-Z)}}}const ia=h+i;for(let ja=0;ja<F;ja++){const ka=f?E(t[ja],P[ja],ia):t[ja];n?(q.copy(o.normals[0]).multiplyScalar(ka.x),p.copy(o.binormals[0]).multiplyScalar(ka.y),r.copy(m[0]).add(q).add(p),Ca(r.x,r.y,r.z)):Ca(ka.x,ka.y,0)}for(let la=1;la<=d;la++)for(let ma=0;ma<F;ma++){const na=f?E(t[ma],P[ma],ia):t[ma];n?(q.copy(o.normals[la]).multiplyScalar(na.x),p.copy(o.binormals[la]).multiplyScalar(na.y),r.copy(m[la]).add(q).add(p),Ca(r.x,r.y,r.z)):Ca(na.x,na.y,e/d*la)}for(let oa=j-1;oa>=0;oa--){const pa=oa/j,qa=g*Math.cos(pa*Math.PI/2),ra=h*Math.sin(pa*Math.PI/2)+i;for(let sa=0,ta=A.length;sa<ta;sa++){const ua=E(A[sa],I[sa],ra);Ca(ua.x,ua.y,e+qa)}for(let va=0,wa=u.length;va<wa;va++){const xa=u[va];O=N[va];for(let ya=0,za=xa.length;ya<za;ya++){const Aa=E(xa[ya],O[ya],ra);n?Ca(Aa.x,Aa.y+m[d-1].y,m[d-1].x+qa):Ca(Aa.x,Aa.y,e+qa)}}}function Ba(a,b){let c=a.length;for(;--c>=0;){const e=c;let f=c-1;f<0&&(f=a.length-1);for(let g=0,h=d+2*j;g<h;g++){const i=F*g,k=F*(g+1),l=b+e+i,m=b+f+i,n=b+f+k,o=b+e+k;Ea(l,m,n,o)}}}function Ca(a,c,d){b.push(a),b.push(c),b.push(d)}function Da(a,b,c){Fa(a),Fa(b),Fa(c);const d=Fca.length/3,e=l.generateTopUV(Eca,Fca,d-3,d-2,d-1);Ga(e[0]),Ga(e[1]),Ga(e[2])}function Ea(a,b,c,d){Fa(a),Fa(b),Fa(d),Fa(b),Fa(c),Fa(d);const e=Fca.length/3,f=l.generateSideWallUV(Eca,Fca,e-6,e-3,e-2,e-1);Ga(f[0]),Ga(f[1]),Ga(f[3]),Ga(f[1]),Ga(f[2]),Ga(f[3])}function Fa(a){Fca.push(b[3*a+0]),Fca.push(b[3*a+1]),Fca.push(b[3*a+2])}function Ga(a){Gca.push(a.x),Gca.push(a.y)}(function(){const a=Fca.length/3;if(f){let b=0,c=F*b;for(let e=0;e<G;e++){const g=z[e];Da(g[2]+c,g[1]+c,g[0]+c)}c=F*(b=d+2*j);for(let h=0;h<G;h++){const i=z[h];Da(i[0]+c,i[1]+c,i[2]+c)}}else{for(let k=0;k<G;k++){const l=z[k];Da(l[2],l[1],l[0])}for(let m=0;m<G;m++){const n=z[m];Da(n[0]+F*d,n[1]+F*d,n[2]+F*d)}}Eca.addGroup(a,Fca.length/3-a,0)})(),(function(){const a=Fca.length/3;let b=0;Ba(A,b),b+=A.length;for(let c=0,d=u.length;c<d;c++){const e=u[c];Ba(e,b),b+=e.length}Eca.addGroup(a,Fca.length/3-a,1)})()}this.setAttribute("position",new oJ(Fca,3)),this.setAttribute("uv",new oJ(Gca,2)),this.computeVertexNormals()}toJSON(){const Lca=super.toJSON(),Mca=this.parameters.shapes,Nca=this.parameters.options;return Wca(Mca,Nca,Lca)}static fromJSON(Oca,Pca){const Qca=[];for(let Rca=0,Sca=Oca.shapes.length;Rca<Sca;Rca++){const Tca=Pca[Oca.shapes[Rca]];Qca.push(Tca)}const Uca=Oca.options.extrudePath;return void 0!==Uca&&(Oca.options.extrudePath=new d9[Uca.type]().fromJSON(Uca)),new Bca(Qca,Oca.options)}}const Vca={generateTopUV:function(a,b,c,d,e){const f=b[3*c],g=b[3*c+1],h=b[3*d],i=b[3*d+1],j=b[3*e],k=b[3*e+1];return[new Xg(f,g),new Xg(h,i),new Xg(j,k)]},generateSideWallUV:function(a,b,c,d,e,f){const g=b[3*c],h=b[3*c+1],i=b[3*c+2],j=b[3*d],k=b[3*d+1],l=b[3*d+2],m=b[3*e],n=b[3*e+1],o=b[3*e+2],p=b[3*f],q=b[3*f+1],r=b[3*f+2];return Math.abs(h-k)<Math.abs(g-j)?[new Xg(g,1-i),new Xg(j,1-l),new Xg(m,1-o),new Xg(p,1-r)]:[new Xg(h,1-i),new Xg(k,1-l),new Xg(n,1-o),new Xg(q,1-r)]}};function Wca(a,b,c){if(c.shapes=[],Array.isArray(a))for(let d=0,e=a.length;d<e;d++){const f=a[d];c.shapes.push(f.uuid)}else c.shapes.push(a.uuid);return void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON()),c}class Xca extends v4{constructor(Yca=1,Zca=0){const $ca=(1+Math.sqrt(5))/2;super([-1,$ca,0,1,$ca,0,-1,-$ca,0,1,-$ca,0,0,-1,$ca,0,1,$ca,0,-1,-$ca,0,1,-$ca,$ca,0,-1,$ca,0,1,-$ca,0,-1,-$ca,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],Yca,Zca),this.type="IcosahedronGeometry",this.parameters={radius:Yca,detail:Zca}}static fromJSON(_ca){return new Xca(_ca.radius,_ca.detail)}}class ada extends zJ{constructor(bda=[new Xg(0,.5),new Xg(.5,0),new Xg(0,-0.5)],cda=12,dda=0,eda=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:bda,segments:cda,phiStart:dda,phiLength:eda},cda=Math.floor(cda),eda=Qg(eda,0,2*Math.PI);const fda=[],gda=[],hda=[],ida=1/cda,jda=new Jp(),kda=new Xg();for(let lda=0;lda<=cda;lda++){const mda=dda+lda*ida*eda,nda=Math.sin(mda),oda=Math.cos(mda);for(let pda=0;pda<=bda.length-1;pda++)jda.x=bda[pda].x*nda,jda.y=bda[pda].y,jda.z=bda[pda].x*oda,gda.push(jda.x,jda.y,jda.z),kda.x=lda/cda,kda.y=pda/(bda.length-1),hda.push(kda.x,kda.y)}for(let qda=0;qda<cda;qda++)for(let rda=0;rda<bda.length-1;rda++){const sda=rda+qda*bda.length,tda=sda,uda=sda+bda.length,vda=sda+bda.length+1,wda=sda+1;fda.push(tda,uda,wda),fda.push(uda,vda,wda)}if(this.setIndex(fda),this.setAttribute("position",new oJ(gda,3)),this.setAttribute("uv",new oJ(hda,2)),this.computeVertexNormals(),eda===2*Math.PI){const xda=this.attributes.normal.array,yda=new Jp(),zda=new Jp(),Ada=new Jp(),Bda=cda*bda.length*3;for(let Cda=0,Dda=0;Cda<bda.length;Cda++,Dda+=3)yda.x=xda[Dda+0],yda.y=xda[Dda+1],yda.z=xda[Dda+2],zda.x=xda[Bda+Dda+0],zda.y=xda[Bda+Dda+1],zda.z=xda[Bda+Dda+2],Ada.addVectors(yda,zda).normalize(),xda[Dda+0]=xda[Bda+Dda+0]=Ada.x,xda[Dda+1]=xda[Bda+Dda+1]=Ada.y,xda[Dda+2]=xda[Bda+Dda+2]=Ada.z}}static fromJSON(Eda){return new ada(Eda.points,Eda.segments,Eda.phiStart,Eda.phiLength)}}class Fda extends v4{constructor(Gda=1,Hda=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],Gda,Hda),this.type="OctahedronGeometry",this.parameters={radius:Gda,detail:Hda}}static fromJSON(Ida){return new Fda(Ida.radius,Ida.detail)}}class Jda extends zJ{constructor(Kda=.5,Lda=1,Mda=8,Nda=1,Oda=0,Pda=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:Kda,outerRadius:Lda,thetaSegments:Mda,phiSegments:Nda,thetaStart:Oda,thetaLength:Pda},Mda=Math.max(3,Mda),Nda=Math.max(1,Nda);const Qda=[],Rda=[],Sda=[],Tda=[];let Uda=Kda;const Vda=(Lda-Kda)/Nda,Wda=new Jp(),Xda=new Xg();for(let Yda=0;Yda<=Nda;Yda++){for(let Zda=0;Zda<=Mda;Zda++){const $da=Oda+Zda/Mda*Pda;Wda.x=Uda*Math.cos($da),Wda.y=Uda*Math.sin($da),Rda.push(Wda.x,Wda.y,Wda.z),Sda.push(0,0,1),Xda.x=(Wda.x/Lda+1)/2,Xda.y=(Wda.y/Lda+1)/2,Tda.push(Xda.x,Xda.y)}Uda+=Vda}for(let _da=0;_da<Nda;_da++){const aea=_da*(Mda+1);for(let bea=0;bea<Mda;bea++){const cea=bea+aea,dea=cea,eea=cea+Mda+1,fea=cea+Mda+2,gea=cea+1;Qda.push(dea,eea,gea),Qda.push(eea,fea,gea)}}this.setIndex(Qda),this.setAttribute("position",new oJ(Rda,3)),this.setAttribute("normal",new oJ(Sda,3)),this.setAttribute("uv",new oJ(Tda,2))}static fromJSON(hea){return new Jda(hea.innerRadius,hea.outerRadius,hea.thetaSegments,hea.phiSegments,hea.thetaStart,hea.thetaLength)}}class iea extends zJ{constructor(jea=new mba([new Xg(0,.5),new Xg(-0.5,-0.5),new Xg(.5,-0.5)]),kea=12){super(),this.type="ShapeGeometry",this.parameters={shapes:jea,curveSegments:kea};const lea=[],mea=[],nea=[],oea=[];let pea=0,qea=0;if(!1===Array.isArray(jea))sea(jea);else for(let rea=0;rea<jea.length;rea++)sea(jea[rea]),this.addGroup(pea,qea,rea),pea+=qea,qea=0;function sea(a){const b=mea.length/3,c=a.extractPoints(kea);let d=c.shape;const e=c.holes;!1===jca.isClockWise(d)&&(d=d.reverse());for(let f=0,g=e.length;f<g;f++){const h=e[f];!0===jca.isClockWise(h)&&(e[f]=h.reverse())}const i=jca.triangulateShape(d,e);for(let j=0,k=e.length;j<k;j++){const l=e[j];d=d.concat(l)}for(let m=0,n=d.length;m<n;m++){const o=d[m];mea.push(o.x,o.y,0),nea.push(0,0,1),oea.push(o.x,o.y)}for(let p=0,q=i.length;p<q;p++){const r=i[p],s=r[0]+b,t=r[1]+b,u=r[2]+b;lea.push(s,t,u),qea+=3}}this.setIndex(lea),this.setAttribute("position",new oJ(mea,3)),this.setAttribute("normal",new oJ(nea,3)),this.setAttribute("uv",new oJ(oea,2))}toJSON(){const tea=super.toJSON(),uea=this.parameters.shapes;return Bea(uea,tea)}static fromJSON(vea,wea){const xea=[];for(let yea=0,zea=vea.shapes.length;yea<zea;yea++){const Aea=wea[vea.shapes[yea]];xea.push(Aea)}return new iea(xea,vea.curveSegments)}}function Bea(a,b){if(b.shapes=[],Array.isArray(a))for(let c=0,d=a.length;c<d;c++){const e=a[c];b.shapes.push(e.uuid)}else b.shapes.push(a.uuid);return b}class Cea extends zJ{constructor(Dea=1,Eea=32,Fea=16,Gea=0,Hea=2*Math.PI,Iea=0,Jea=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:Dea,widthSegments:Eea,heightSegments:Fea,phiStart:Gea,phiLength:Hea,thetaStart:Iea,thetaLength:Jea},Eea=Math.max(3,Math.floor(Eea)),Fea=Math.max(2,Math.floor(Fea));const Kea=Math.min(Iea+Jea,Math.PI);let Lea=0;const Mea=[],Nea=new Jp(),Oea=new Jp(),Pea=[],Qea=[],Rea=[],Sea=[];for(let Tea=0;Tea<=Fea;Tea++){const Uea=[],Vea=Tea/Fea;let Wea=0;0==Tea&&0==Iea?Wea=.5/Eea:Tea==Fea&&Kea==Math.PI&&(Wea=-0.5/Eea);for(let Xea=0;Xea<=Eea;Xea++){const Yea=Xea/Eea;Nea.x=-Dea*Math.cos(Gea+Yea*Hea)*Math.sin(Iea+Vea*Jea),Nea.y=Dea*Math.cos(Iea+Vea*Jea),Nea.z=Dea*Math.sin(Gea+Yea*Hea)*Math.sin(Iea+Vea*Jea),Qea.push(Nea.x,Nea.y,Nea.z),Oea.copy(Nea).normalize(),Rea.push(Oea.x,Oea.y,Oea.z),Sea.push(Yea+Wea,1-Vea),Uea.push(Lea++)}Mea.push(Uea)}for(let Zea=0;Zea<Fea;Zea++)for(let $ea=0;$ea<Eea;$ea++){const _ea=Mea[Zea][$ea+1],afa=Mea[Zea][$ea],bfa=Mea[Zea+1][$ea],cfa=Mea[Zea+1][$ea+1];(0!==Zea||Iea>0)&&Pea.push(_ea,afa,cfa),(Zea!==Fea-1||Kea<Math.PI)&&Pea.push(afa,bfa,cfa)}this.setIndex(Pea),this.setAttribute("position",new oJ(Qea,3)),this.setAttribute("normal",new oJ(Rea,3)),this.setAttribute("uv",new oJ(Sea,2))}static fromJSON(dfa){return new Cea(dfa.radius,dfa.widthSegments,dfa.heightSegments,dfa.phiStart,dfa.phiLength,dfa.thetaStart,dfa.thetaLength)}}class efa extends v4{constructor(ffa=1,gfa=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],ffa,gfa),this.type="TetrahedronGeometry",this.parameters={radius:ffa,detail:gfa}}static fromJSON(hfa){return new efa(hfa.radius,hfa.detail)}}class ifa extends zJ{constructor(jfa=1,kfa=.4,lfa=8,mfa=6,nfa=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:jfa,tube:kfa,radialSegments:lfa,tubularSegments:mfa,arc:nfa},lfa=Math.floor(lfa),mfa=Math.floor(mfa);const ofa=[],pfa=[],qfa=[],rfa=[],sfa=new Jp(),tfa=new Jp(),ufa=new Jp();for(let vfa=0;vfa<=lfa;vfa++)for(let wfa=0;wfa<=mfa;wfa++){const xfa=wfa/mfa*nfa,yfa=vfa/lfa*Math.PI*2;tfa.x=(jfa+kfa*Math.cos(yfa))*Math.cos(xfa),tfa.y=(jfa+kfa*Math.cos(yfa))*Math.sin(xfa),tfa.z=kfa*Math.sin(yfa),pfa.push(tfa.x,tfa.y,tfa.z),sfa.x=jfa*Math.cos(xfa),sfa.y=jfa*Math.sin(xfa),ufa.subVectors(tfa,sfa).normalize(),qfa.push(ufa.x,ufa.y,ufa.z),rfa.push(wfa/mfa),rfa.push(vfa/lfa)}for(let zfa=1;zfa<=lfa;zfa++)for(let Afa=1;Afa<=mfa;Afa++){const Bfa=(mfa+1)*zfa+Afa-1,Cfa=(mfa+1)*(zfa-1)+Afa-1,Dfa=(mfa+1)*(zfa-1)+Afa,Efa=(mfa+1)*zfa+Afa;ofa.push(Bfa,Cfa,Efa),ofa.push(Cfa,Dfa,Efa)}this.setIndex(ofa),this.setAttribute("position",new oJ(pfa,3)),this.setAttribute("normal",new oJ(qfa,3)),this.setAttribute("uv",new oJ(rfa,2))}static fromJSON(Ffa){return new ifa(Ffa.radius,Ffa.tube,Ffa.radialSegments,Ffa.tubularSegments,Ffa.arc)}}class Gfa extends zJ{constructor(Hfa=1,Ifa=.4,Jfa=64,Kfa=8,Lfa=2,Mfa=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:Hfa,tube:Ifa,tubularSegments:Jfa,radialSegments:Kfa,p:Lfa,q:Mfa},Jfa=Math.floor(Jfa),Kfa=Math.floor(Kfa);const Nfa=[],Ofa=[],Pfa=[],Qfa=[],Rfa=new Jp(),Sfa=new Jp(),Tfa=new Jp(),Ufa=new Jp(),Vfa=new Jp(),Wfa=new Jp(),Xfa=new Jp();for(let Yfa=0;Yfa<=Jfa;++Yfa){const Zfa=Yfa/Jfa*Lfa*Math.PI*2;iga(Zfa,Lfa,Mfa,Hfa,Tfa),iga(Zfa+.01,Lfa,Mfa,Hfa,Ufa),Wfa.subVectors(Ufa,Tfa),Xfa.addVectors(Ufa,Tfa),Vfa.crossVectors(Wfa,Xfa),Xfa.crossVectors(Vfa,Wfa),Vfa.normalize(),Xfa.normalize();for(let $fa=0;$fa<=Kfa;++$fa){const _fa=$fa/Kfa*Math.PI*2,aga=-Ifa*Math.cos(_fa),bga=Ifa*Math.sin(_fa);Rfa.x=Tfa.x+(aga*Xfa.x+bga*Vfa.x),Rfa.y=Tfa.y+(aga*Xfa.y+bga*Vfa.y),Rfa.z=Tfa.z+(aga*Xfa.z+bga*Vfa.z),Ofa.push(Rfa.x,Rfa.y,Rfa.z),Sfa.subVectors(Rfa,Tfa).normalize(),Pfa.push(Sfa.x,Sfa.y,Sfa.z),Qfa.push(Yfa/Jfa),Qfa.push($fa/Kfa)}}for(let cga=1;cga<=Jfa;cga++)for(let dga=1;dga<=Kfa;dga++){const ega=(Kfa+1)*(cga-1)+(dga-1),fga=(Kfa+1)*cga+(dga-1),gga=(Kfa+1)*cga+dga,hga=(Kfa+1)*(cga-1)+dga;Nfa.push(ega,fga,hga),Nfa.push(fga,gga,hga)}function iga(a,b,c,d,e){const f=c/b*a,g=Math.cos(f);e.x=d*(2+g)*.5*Math.cos(a),e.y=d*(2+g)*Math.sin(a)*.5,e.z=d*Math.sin(f)*.5}this.setIndex(Nfa),this.setAttribute("position",new oJ(Ofa,3)),this.setAttribute("normal",new oJ(Pfa,3)),this.setAttribute("uv",new oJ(Qfa,2))}static fromJSON(jga){return new Gfa(jga.radius,jga.tube,jga.tubularSegments,jga.radialSegments,jga.p,jga.q)}}class kga extends zJ{constructor(lga=new t8(new Jp(-1,-1,0),new Jp(-1,1,0),new Jp(1,1,0)),mga=64,nga=1,oga=8,pga=!1){super(),this.type="TubeGeometry",this.parameters={path:lga,tubularSegments:mga,radius:nga,radialSegments:oga,closed:pga};const qga=lga.computeFrenetFrames(mga,pga);this.tangents=qga.tangents,this.normals=qga.normals,this.binormals=qga.binormals;const rga=new Jp(),sga=new Jp(),tga=new Xg();let uga=new Jp();const vga=[],wga=[],xga=[],yga=[];function zga(a){uga=lga.getPointAt(a/mga,uga);const b=qga.normals[a],c=qga.binormals[a];for(let d=0;d<=oga;d++){const e=d/oga*Math.PI*2,f=Math.sin(e),g=-Math.cos(e);sga.x=g*b.x+f*c.x,sga.y=g*b.y+f*c.y,sga.z=g*b.z+f*c.z,sga.normalize(),wga.push(sga.x,sga.y,sga.z),rga.x=uga.x+nga*sga.x,rga.y=uga.y+nga*sga.y,rga.z=uga.z+nga*sga.z,vga.push(rga.x,rga.y,rga.z)}}(function(){for(let a=0;a<mga;a++)zga(a);zga(!1===pga?mga:0),(function(){for(let a=0;a<=mga;a++)for(let b=0;b<=oga;b++)tga.x=a/mga,tga.y=b/oga,xga.push(tga.x,tga.y)})(),(function(){for(let a=1;a<=mga;a++)for(let b=1;b<=oga;b++){const c=(oga+1)*(a-1)+(b-1),d=(oga+1)*a+(b-1),e=(oga+1)*a+b,f=(oga+1)*(a-1)+b;yga.push(c,d,f),yga.push(d,e,f)}})()})(),this.setIndex(yga),this.setAttribute("position",new oJ(vga,3)),this.setAttribute("normal",new oJ(wga,3)),this.setAttribute("uv",new oJ(xga,2))}toJSON(){const Aga=super.toJSON();return Aga.path=this.parameters.path.toJSON(),Aga}static fromJSON(Bga){return new kga(new d9[Bga.path.type]().fromJSON(Bga.path),Bga.tubularSegments,Bga.radius,Bga.radialSegments,Bga.closed)}}function Cga(a,b,c){const d=`${a.x},${a.y},${a.z}-${b.x},${b.y},${b.z}`,e=`${b.x},${b.y},${b.z}-${a.x},${a.y},${a.z}`;return!0!==c.has(d)&& !0!==c.has(e)&&(c.add(d,e),!0)}Object.freeze({__proto__:null,BoxGeometry:rO,BoxBufferGeometry:rO,CircleGeometry:E3,CircleBufferGeometry:E3,ConeGeometry:m4,ConeBufferGeometry:m4,CylinderGeometry:U3,CylinderBufferGeometry:U3,DodecahedronGeometry:J4,DodecahedronBufferGeometry:J4,EdgesGeometry:class extends zJ{constructor(Dga=null,Ega=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:Dga,thresholdAngle:Ega},null!==Dga){const Fga=4,Gga=Math.pow(10,Fga),Hga=Math.cos(Ng*Ega),Iga=Dga.getIndex(),Jga=Dga.getAttribute("position"),Kga=Iga?Iga.count:Jga.count,Lga=[0,0,0],Mga=["a","b","c"],Nga=new Array(3),Oga={},Pga=[];for(let Qga=0;Qga<Kga;Qga+=3){Iga?(Lga[0]=Iga.getX(Qga),Lga[1]=Iga.getX(Qga+1),Lga[2]=Iga.getX(Qga+2)):(Lga[0]=Qga,Lga[1]=Qga+1,Lga[2]=Qga+2);const{a:Rga,b:Sga,c:Tga}=S4;if(Rga.fromBufferAttribute(Jga,Lga[0]),Sga.fromBufferAttribute(Jga,Lga[1]),Tga.fromBufferAttribute(Jga,Lga[2]),S4.getNormal(R4),Nga[0]=`${Math.round(Rga.x*Gga)},${Math.round(Rga.y*Gga)},${Math.round(Rga.z*Gga)}`,Nga[1]=`${Math.round(Sga.x*Gga)},${Math.round(Sga.y*Gga)},${Math.round(Sga.z*Gga)}`,Nga[2]=`${Math.round(Tga.x*Gga)},${Math.round(Tga.y*Gga)},${Math.round(Tga.z*Gga)}`,Nga[0]!==Nga[1]&&Nga[1]!==Nga[2]&&Nga[2]!==Nga[0])for(let Uga=0;Uga<3;Uga++){const Vga=(Uga+1)%3,Wga=Nga[Uga],Xga=Nga[Vga],Yga=S4[Mga[Uga]],Zga=S4[Mga[Vga]],$ga=`${Wga}_${Xga}`,_ga=`${Xga}_${Wga}`;_ga in Oga&&Oga[_ga]?(R4.dot(Oga[_ga].normal)<=Hga&&(Pga.push(Yga.x,Yga.y,Yga.z),Pga.push(Zga.x,Zga.y,Zga.z)),Oga[_ga]=null):$ga in Oga||(Oga[$ga]={index0:Lga[Uga],index1:Lga[Vga],normal:R4.clone()})}}for(const aha in Oga)if(Oga[aha]){const{index0:bha,index1:cha}=Oga[aha];P4.fromBufferAttribute(Jga,bha),Q4.fromBufferAttribute(Jga,cha),Pga.push(P4.x,P4.y,P4.z),Pga.push(Q4.x,Q4.y,Q4.z)}this.setAttribute("position",new oJ(Pga,3))}}},ExtrudeGeometry:Bca,ExtrudeBufferGeometry:Bca,IcosahedronGeometry:Xca,IcosahedronBufferGeometry:Xca,LatheGeometry:ada,LatheBufferGeometry:ada,OctahedronGeometry:Fda,OctahedronBufferGeometry:Fda,PlaneGeometry:pS,PlaneBufferGeometry:pS,PolyhedronGeometry:v4,PolyhedronBufferGeometry:v4,RingGeometry:Jda,RingBufferGeometry:Jda,ShapeGeometry:iea,ShapeBufferGeometry:iea,SphereGeometry:Cea,SphereBufferGeometry:Cea,TetrahedronGeometry:efa,TetrahedronBufferGeometry:efa,TorusGeometry:ifa,TorusBufferGeometry:ifa,TorusKnotGeometry:Gfa,TorusKnotBufferGeometry:Gfa,TubeGeometry:kga,TubeBufferGeometry:kga,WireframeGeometry:class extends zJ{constructor(dha=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:dha},null!==dha){const eha=[],fha=new Set(),gha=new Jp(),hha=new Jp();if(null!==dha.index){const iha=dha.attributes.position,jha=dha.index;let kha=dha.groups;0===kha.length&&(kha=[{start:0,count:jha.count,materialIndex:0}]);for(let lha=0,mha=kha.length;lha<mha;++lha){const nha=kha[lha],oha=nha.start,pha=nha.count;for(let qha=oha,rha=oha+pha;qha<rha;qha+=3)for(let sha=0;sha<3;sha++){const tha=jha.getX(qha+sha),uha=jha.getX(qha+(sha+1)%3);gha.fromBufferAttribute(iha,tha),hha.fromBufferAttribute(iha,uha),!0===Cga(gha,hha,fha)&&(eha.push(gha.x,gha.y,gha.z),eha.push(hha.x,hha.y,hha.z))}}}else{const vha=dha.attributes.position;for(let wha=0,xha=vha.count/3;wha<xha;wha++)for(let yha=0;yha<3;yha++){const zha=3*wha+yha,Aha=3*wha+(yha+1)%3;gha.fromBufferAttribute(vha,zha),hha.fromBufferAttribute(vha,Aha),!0===Cga(gha,hha,fha)&&(eha.push(gha.x,gha.y,gha.z),eha.push(hha.x,hha.y,hha.z))}}this.setAttribute("position",new oJ(eha,3))}}}});class Bha extends KF{constructor(Cha){super(),this.type="ShadowMaterial",this.color=new gG(0),this.transparent=!0,this.setValues(Cha)}copy(Dha){return super.copy(Dha),this.color.copy(Dha.color),this}}Bha.prototype.isShadowMaterial=!0;class Eha extends KF{constructor(Fha){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new gG(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Xg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(Fha)}copy(Gha){return super.copy(Gha),this.defines={STANDARD:""},this.color.copy(Gha.color),this.roughness=Gha.roughness,this.metalness=Gha.metalness,this.map=Gha.map,this.lightMap=Gha.lightMap,this.lightMapIntensity=Gha.lightMapIntensity,this.aoMap=Gha.aoMap,this.aoMapIntensity=Gha.aoMapIntensity,this.emissive.copy(Gha.emissive),this.emissiveMap=Gha.emissiveMap,this.emissiveIntensity=Gha.emissiveIntensity,this.bumpMap=Gha.bumpMap,this.bumpScale=Gha.bumpScale,this.normalMap=Gha.normalMap,this.normalMapType=Gha.normalMapType,this.normalScale.copy(Gha.normalScale),this.displacementMap=Gha.displacementMap,this.displacementScale=Gha.displacementScale,this.displacementBias=Gha.displacementBias,this.roughnessMap=Gha.roughnessMap,this.metalnessMap=Gha.metalnessMap,this.alphaMap=Gha.alphaMap,this.envMap=Gha.envMap,this.envMapIntensity=Gha.envMapIntensity,this.refractionRatio=Gha.refractionRatio,this.wireframe=Gha.wireframe,this.wireframeLinewidth=Gha.wireframeLinewidth,this.wireframeLinecap=Gha.wireframeLinecap,this.wireframeLinejoin=Gha.wireframeLinejoin,this.flatShading=Gha.flatShading,this}}Eha.prototype.isMeshStandardMaterial=!0;class Hha extends Eha{constructor(Iha){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xg(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qg(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(a){this.ior=(1+.4*a)/(1-.4*a)}}),this.sheenColor=new gG(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new gG(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gG(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(Iha)}get sheen(){return this._sheen}set sheen(Jha){this._sheen>0!=Jha>0&&this.version++,this._sheen=Jha}get clearcoat(){return this._clearcoat}set clearcoat(Kha){this._clearcoat>0!=Kha>0&&this.version++,this._clearcoat=Kha}get transmission(){return this._transmission}set transmission(Lha){this._transmission>0!=Lha>0&&this.version++,this._transmission=Lha}copy(Mha){return super.copy(Mha),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=Mha.clearcoat,this.clearcoatMap=Mha.clearcoatMap,this.clearcoatRoughness=Mha.clearcoatRoughness,this.clearcoatRoughnessMap=Mha.clearcoatRoughnessMap,this.clearcoatNormalMap=Mha.clearcoatNormalMap,this.clearcoatNormalScale.copy(Mha.clearcoatNormalScale),this.ior=Mha.ior,this.sheen=Mha.sheen,this.sheenColor.copy(Mha.sheenColor),this.sheenColorMap=Mha.sheenColorMap,this.sheenRoughness=Mha.sheenRoughness,this.sheenRoughnessMap=Mha.sheenRoughnessMap,this.transmission=Mha.transmission,this.transmissionMap=Mha.transmissionMap,this.thickness=Mha.thickness,this.thicknessMap=Mha.thicknessMap,this.attenuationDistance=Mha.attenuationDistance,this.attenuationColor.copy(Mha.attenuationColor),this.specularIntensity=Mha.specularIntensity,this.specularIntensityMap=Mha.specularIntensityMap,this.specularColor.copy(Mha.specularColor),this.specularColorMap=Mha.specularColorMap,this}}Hha.prototype.isMeshPhysicalMaterial=!0;class Nha extends KF{constructor(Oha){super(),this.type="MeshPhongMaterial",this.color=new gG(16777215),this.specular=new gG(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Xg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(Oha)}copy(Pha){return super.copy(Pha),this.color.copy(Pha.color),this.specular.copy(Pha.specular),this.shininess=Pha.shininess,this.map=Pha.map,this.lightMap=Pha.lightMap,this.lightMapIntensity=Pha.lightMapIntensity,this.aoMap=Pha.aoMap,this.aoMapIntensity=Pha.aoMapIntensity,this.emissive.copy(Pha.emissive),this.emissiveMap=Pha.emissiveMap,this.emissiveIntensity=Pha.emissiveIntensity,this.bumpMap=Pha.bumpMap,this.bumpScale=Pha.bumpScale,this.normalMap=Pha.normalMap,this.normalMapType=Pha.normalMapType,this.normalScale.copy(Pha.normalScale),this.displacementMap=Pha.displacementMap,this.displacementScale=Pha.displacementScale,this.displacementBias=Pha.displacementBias,this.specularMap=Pha.specularMap,this.alphaMap=Pha.alphaMap,this.envMap=Pha.envMap,this.combine=Pha.combine,this.reflectivity=Pha.reflectivity,this.refractionRatio=Pha.refractionRatio,this.wireframe=Pha.wireframe,this.wireframeLinewidth=Pha.wireframeLinewidth,this.wireframeLinecap=Pha.wireframeLinecap,this.wireframeLinejoin=Pha.wireframeLinejoin,this.flatShading=Pha.flatShading,this}}Nha.prototype.isMeshPhongMaterial=!0;class Qha extends KF{constructor(Rha){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gG(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Xg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(Rha)}copy(Sha){return super.copy(Sha),this.color.copy(Sha.color),this.map=Sha.map,this.gradientMap=Sha.gradientMap,this.lightMap=Sha.lightMap,this.lightMapIntensity=Sha.lightMapIntensity,this.aoMap=Sha.aoMap,this.aoMapIntensity=Sha.aoMapIntensity,this.emissive.copy(Sha.emissive),this.emissiveMap=Sha.emissiveMap,this.emissiveIntensity=Sha.emissiveIntensity,this.bumpMap=Sha.bumpMap,this.bumpScale=Sha.bumpScale,this.normalMap=Sha.normalMap,this.normalMapType=Sha.normalMapType,this.normalScale.copy(Sha.normalScale),this.displacementMap=Sha.displacementMap,this.displacementScale=Sha.displacementScale,this.displacementBias=Sha.displacementBias,this.alphaMap=Sha.alphaMap,this.wireframe=Sha.wireframe,this.wireframeLinewidth=Sha.wireframeLinewidth,this.wireframeLinecap=Sha.wireframeLinecap,this.wireframeLinejoin=Sha.wireframeLinejoin,this}}Qha.prototype.isMeshToonMaterial=!0;class Tha extends KF{constructor(Uha){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Xg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(Uha)}copy(Vha){return super.copy(Vha),this.bumpMap=Vha.bumpMap,this.bumpScale=Vha.bumpScale,this.normalMap=Vha.normalMap,this.normalMapType=Vha.normalMapType,this.normalScale.copy(Vha.normalScale),this.displacementMap=Vha.displacementMap,this.displacementScale=Vha.displacementScale,this.displacementBias=Vha.displacementBias,this.wireframe=Vha.wireframe,this.wireframeLinewidth=Vha.wireframeLinewidth,this.flatShading=Vha.flatShading,this}}Tha.prototype.isMeshNormalMaterial=!0;class Wha extends KF{constructor(Xha){super(),this.type="MeshLambertMaterial",this.color=new gG(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(Xha)}copy(Yha){return super.copy(Yha),this.color.copy(Yha.color),this.map=Yha.map,this.lightMap=Yha.lightMap,this.lightMapIntensity=Yha.lightMapIntensity,this.aoMap=Yha.aoMap,this.aoMapIntensity=Yha.aoMapIntensity,this.emissive.copy(Yha.emissive),this.emissiveMap=Yha.emissiveMap,this.emissiveIntensity=Yha.emissiveIntensity,this.specularMap=Yha.specularMap,this.alphaMap=Yha.alphaMap,this.envMap=Yha.envMap,this.combine=Yha.combine,this.reflectivity=Yha.reflectivity,this.refractionRatio=Yha.refractionRatio,this.wireframe=Yha.wireframe,this.wireframeLinewidth=Yha.wireframeLinewidth,this.wireframeLinecap=Yha.wireframeLinecap,this.wireframeLinejoin=Yha.wireframeLinejoin,this}}Wha.prototype.isMeshLambertMaterial=!0;class Zha extends KF{constructor($ha){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gG(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Xg(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues($ha)}copy(_ha){return super.copy(_ha),this.defines={MATCAP:""},this.color.copy(_ha.color),this.matcap=_ha.matcap,this.map=_ha.map,this.bumpMap=_ha.bumpMap,this.bumpScale=_ha.bumpScale,this.normalMap=_ha.normalMap,this.normalMapType=_ha.normalMapType,this.normalScale.copy(_ha.normalScale),this.displacementMap=_ha.displacementMap,this.displacementScale=_ha.displacementScale,this.displacementBias=_ha.displacementBias,this.alphaMap=_ha.alphaMap,this.flatShading=_ha.flatShading,this}}Zha.prototype.isMeshMatcapMaterial=!0;class aia extends Z0{constructor(bia){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(bia)}copy(cia){return super.copy(cia),this.scale=cia.scale,this.dashSize=cia.dashSize,this.gapSize=cia.gapSize,this}}aia.prototype.isLineDashedMaterial=!0,Object.freeze({__proto__:null,ShadowMaterial:Bha,SpriteMaterial:q$,RawShaderMaterial:zT,ShaderMaterial:KO,PointsMaterial:l2,MeshPhysicalMaterial:Hha,MeshStandardMaterial:Eha,MeshPhongMaterial:Nha,MeshToonMaterial:Qha,MeshNormalMaterial:Tha,MeshLambertMaterial:Wha,MeshDepthMaterial:qX,MeshDistanceMaterial:tX,MeshBasicMaterial:BH,MeshMatcapMaterial:Zha,LineDashedMaterial:aia,LineBasicMaterial:Z0,Material:KF});const dia={arraySlice:function(a,b,c){return dia.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return a&&(c||a.constructor!==b)?"number"==typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a):a},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){const b=a.length,c=new Array(b);for(let d=0;d!==b;++d)c[d]=d;return c.sort(function(b,c){return a[b]-a[c]}),c},sortedArray:function(a,b,c){const d=a.length,e=new a.constructor(d);for(let f=0,g=0;g!==d;++f){const h=c[f]*b;for(let i=0;i!==b;++i)e[g++]=a[h+i]}return e},flattenJSON:function(a,b,c,d){let e=1,f=a[0];for(;void 0!==f&& void 0===f[d];)f=a[e++];if(void 0===f)return;let g=f[d];if(void 0!==g)if(Array.isArray(g))do void 0!==(g=f[d])&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f);else if(void 0!==g.toArray)do void 0!==(g=f[d])&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f);else do void 0!==(g=f[d])&&(b.push(f.time),c.push(g)),f=a[e++];while(void 0!==f)},subclip:function(a,b,c,d,e=30){const f=a.clone();f.name=b;const g=[];for(let h=0;h<f.tracks.length;++h){const i=f.tracks[h],j=i.getValueSize(),k=[],l=[];for(let m=0;m<i.times.length;++m){const n=i.times[m]*e;if(!(n<c)&&!(n>=d)){k.push(i.times[m]);for(let o=0;o<j;++o)l.push(i.values[m*j+o])}}0!==k.length&&(i.times=dia.convertArray(k,i.times.constructor),i.values=dia.convertArray(l,i.values.constructor),g.push(i))}f.tracks=g;let p=1/0;for(let q=0;q<f.tracks.length;++q)p>f.tracks[q].times[0]&&(p=f.tracks[q].times[0]);for(let r=0;r<f.tracks.length;++r)f.tracks[r].shift(-1*p);return f.resetDuration(),f},makeClipAdditive:function(a,b=0,c=a,d=30){d<=0&&(d=30);const e=c.tracks.length,f=b/d;for(let g=0;g<e;++g){const h=c.tracks[g],i=h.ValueTypeName;if("bool"===i||"string"===i)continue;const j=a.tracks.find(function(a){return a.name===h.name&&a.ValueTypeName===i});if(void 0===j)continue;let k=0;const l=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(k=l/3);let m=0;const n=j.getValueSize();j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=n/3);const o=h.times.length-1;let p;if(f<=h.times[0]){const q=k,r=l-k;p=dia.arraySlice(h.values,q,r)}else if(f>=h.times[o]){const s=o*l+k,t=s+l-k;p=dia.arraySlice(h.values,s,t)}else{const u=h.createInterpolant(),v=k,w=l-k;u.evaluate(f),p=dia.arraySlice(u.resultBuffer,v,w)}if("quaternion"===i){const x=new an().fromArray(p).normalize().conjugate();x.toArray(p)}const y=j.times.length;for(let z=0;z<y;++z){const A=z*n+m;if("quaternion"===i)an.multiplyQuaternionsFlat(j.values,A,p,0,j.values,A);else{const B=n-2*m;for(let C=0;C<B;++C)j.values[A+C]-=p[C]}}}return a.blendMode=2501,a}};class eia{constructor(fia,gia,hia,iia){this.parameterPositions=fia,this._cachedIndex=0,this.resultBuffer=void 0!==iia?iia:new gia.constructor(hia),this.sampleValues=gia,this.valueSize=hia,this.settings=null,this.DefaultSettings_={}}evaluate(jia){const kia=this.parameterPositions;let lia=this._cachedIndex,mia=kia[lia],nia=kia[lia-1];validate_interval:{seek:{let oia;linear_scan:{forward_scan:if(!(jia<mia)){for(let pia=lia+2;;){if(void 0===mia){if(jia<nia)break forward_scan;return lia=kia.length,this._cachedIndex=lia,this.afterEnd_(lia-1,jia,nia)}if(lia===pia)break;if(nia=mia,jia<(mia=kia[++lia]))break seek}oia=kia.length;break linear_scan}if(!(jia>=nia)){const qia=kia[1];jia<qia&&(lia=2,nia=qia);for(let ria=lia-2;;){if(void 0===nia)return this._cachedIndex=0,this.beforeStart_(0,jia,mia);if(lia===ria)break;if(mia=nia,jia>=(nia=kia[--lia-1]))break seek}oia=lia,lia=0;break linear_scan}break validate_interval}for(;lia<oia;){const sia=lia+oia>>>1;jia<kia[sia]?oia=sia:lia=sia+1}if(mia=kia[lia],nia=kia[lia-1],void 0===nia)return this._cachedIndex=0,this.beforeStart_(0,jia,mia);if(void 0===mia)return lia=kia.length,this._cachedIndex=lia,this.afterEnd_(lia-1,nia,jia)}this._cachedIndex=lia,this.intervalChanged_(lia,nia,mia)}return this.interpolate_(lia,nia,jia,mia)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(tia){const uia=this.resultBuffer,via=this.sampleValues,wia=this.valueSize,xia=tia*wia;for(let yia=0;yia!==wia;++yia)uia[yia]=via[xia+yia];return uia}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}eia.prototype.beforeStart_=eia.prototype.copySampleValue_,eia.prototype.afterEnd_=eia.prototype.copySampleValue_;class zia extends eia{constructor(Aia,Bia,Cia,Dia){super(Aia,Bia,Cia,Dia),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(Eia,Fia,Gia){const Hia=this.parameterPositions;let Iia=Eia-2,Jia=Eia+1,Kia=Hia[Iia],Lia=Hia[Jia];if(void 0===Kia)switch(this.getSettings_().endingStart){case 2401:Iia=Eia,Kia=2*Fia-Gia;break;case 2402:Iia=Hia.length-2,Kia=Fia+Hia[Iia]-Hia[Iia+1];break;default:Iia=Eia,Kia=Gia}if(void 0===Lia)switch(this.getSettings_().endingEnd){case 2401:Jia=Eia,Lia=2*Gia-Fia;break;case 2402:Jia=1,Lia=Gia+Hia[1]-Hia[0];break;default:Jia=Eia-1,Lia=Fia}const Mia=(Gia-Fia)*.5,Nia=this.valueSize;this._weightPrev=Mia/(Fia-Kia),this._weightNext=Mia/(Lia-Gia),this._offsetPrev=Iia*Nia,this._offsetNext=Jia*Nia}interpolate_(Oia,Pia,Qia,Ria){const Sia=this.resultBuffer,Tia=this.sampleValues,Uia=this.valueSize,Via=Oia*Uia,Wia=Via-Uia,Xia=this._offsetPrev,Yia=this._offsetNext,Zia=this._weightPrev,$ia=this._weightNext,_ia=(Qia-Pia)/(Ria-Pia),aja=_ia*_ia,bja=aja*_ia,cja=-Zia*bja+2*Zia*aja-Zia*_ia,dja=(1+Zia)*bja+(-1.5-2*Zia)*aja+(-0.5+Zia)*_ia+1,eja=(-1-$ia)*bja+(1.5+$ia)*aja+.5*_ia,fja=$ia*bja-$ia*aja;for(let gja=0;gja!==Uia;++gja)Sia[gja]=cja*Tia[Xia+gja]+dja*Tia[Wia+gja]+eja*Tia[Via+gja]+fja*Tia[Yia+gja];return Sia}}class hja extends eia{constructor(ija,jja,kja,lja){super(ija,jja,kja,lja)}interpolate_(mja,nja,oja,pja){const qja=this.resultBuffer,rja=this.sampleValues,sja=this.valueSize,tja=mja*sja,uja=tja-sja,vja=(oja-nja)/(pja-nja),wja=1-vja;for(let xja=0;xja!==sja;++xja)qja[xja]=rja[uja+xja]*wja+rja[tja+xja]*vja;return qja}}class yja extends eia{constructor(zja,Aja,Bja,Cja){super(zja,Aja,Bja,Cja)}interpolate_(Dja){return this.copySampleValue_(Dja-1)}}class Eja{constructor(Fja,Gja,Hja,Ija){if(void 0===Fja)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===Gja||0===Gja.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+Fja);this.name=Fja,this.times=dia.convertArray(Gja,this.TimeBufferType),this.values=dia.convertArray(Hja,this.ValueBufferType),this.setInterpolation(Ija||this.DefaultInterpolation)}static toJSON(Jja){const Kja=Jja.constructor;let Lja;if(Kja.toJSON!==this.toJSON)Lja=Kja.toJSON(Jja);else{Lja={name:Jja.name,times:dia.convertArray(Jja.times,Array),values:dia.convertArray(Jja.values,Array)};const Mja=Jja.getInterpolation();Mja!==Jja.DefaultInterpolation&&(Lja.interpolation=Mja)}return Lja.type=Jja.ValueTypeName,Lja}InterpolantFactoryMethodDiscrete(Nja){return new yja(this.times,this.values,this.getValueSize(),Nja)}InterpolantFactoryMethodLinear(Oja){return new hja(this.times,this.values,this.getValueSize(),Oja)}InterpolantFactoryMethodSmooth(Pja){return new zia(this.times,this.values,this.getValueSize(),Pja)}setInterpolation(Qja){let Rja;switch(Qja){case 2300:Rja=this.InterpolantFactoryMethodDiscrete;break;case 2301:Rja=this.InterpolantFactoryMethodLinear;break;case 2302:Rja=this.InterpolantFactoryMethodSmooth;break}if(void 0===Rja){const Sja="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(Qja!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(Sja);return console.warn("THREE.KeyframeTrack:",Sja),this}return this.createInterpolant=Rja,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(Tja){if(0!==Tja){const Uja=this.times;for(let Vja=0,Wja=Uja.length;Vja!==Wja;++Vja)Uja[Vja]+=Tja}return this}scale(Xja){if(1!==Xja){const Yja=this.times;for(let Zja=0,$ja=Yja.length;Zja!==$ja;++Zja)Yja[Zja]*=Xja}return this}trim(_ja,aka){const bka=this.times,cka=bka.length;let dka=0,eka=cka-1;for(;dka!==cka&&bka[dka]<_ja;)++dka;for(;-1!==eka&&bka[eka]>aka;)--eka;if(++eka,0!==dka||eka!==cka){dka>=eka&&(dka=(eka=Math.max(eka,1))-1);const fka=this.getValueSize();this.times=dia.arraySlice(bka,dka,eka),this.values=dia.arraySlice(this.values,dka*fka,eka*fka)}return this}validate(){let gka=!0;const hka=this.getValueSize();hka-Math.floor(hka)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),gka=!1);const ika=this.times,jka=this.values,kka=ika.length;0===kka&&(console.error("THREE.KeyframeTrack: Track is empty.",this),gka=!1);let lka=null;for(let mka=0;mka!==kka;mka++){const nka=ika[mka];if("number"==typeof nka&&isNaN(nka)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,mka,nka),gka=!1;break}if(null!==lka&&lka>nka){console.error("THREE.KeyframeTrack: Out of order keys.",this,mka,nka,lka),gka=!1;break}lka=nka}if(void 0!==jka&&dia.isTypedArray(jka))for(let oka=0,pka=jka.length;oka!==pka;++oka){const qka=jka[oka];if(isNaN(qka)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,oka,qka),gka=!1;break}}return gka}optimize(){const rka=dia.arraySlice(this.times),ska=dia.arraySlice(this.values),tka=this.getValueSize(),uka=2302===this.getInterpolation(),vka=rka.length-1;let wka=1;for(let xka=1;xka<vka;++xka){let yka=!1;const zka=rka[xka],Aka=rka[xka+1];if(zka!==Aka&&(1!==xka||zka!==rka[0]))if(uka)yka=!0;else{const Bka=xka*tka,Cka=Bka-tka,Dka=Bka+tka;for(let Eka=0;Eka!==tka;++Eka){const Fka=ska[Bka+Eka];if(Fka!==ska[Cka+Eka]||Fka!==ska[Dka+Eka]){yka=!0;break}}}if(yka){if(xka!==wka){rka[wka]=rka[xka];const Gka=xka*tka,Hka=wka*tka;for(let Ika=0;Ika!==tka;++Ika)ska[Hka+Ika]=ska[Gka+Ika]}++wka}}if(vka>0){rka[wka]=rka[vka];for(let Jka=vka*tka,Kka=wka*tka,Lka=0;Lka!==tka;++Lka)ska[Kka+Lka]=ska[Jka+Lka];++wka}return wka!==rka.length?(this.times=dia.arraySlice(rka,0,wka),this.values=dia.arraySlice(ska,0,wka*tka)):(this.times=rka,this.values=ska),this}clone(){const Mka=dia.arraySlice(this.times,0),Nka=dia.arraySlice(this.values,0),Oka=this.constructor,Pka=new Oka(this.name,Mka,Nka);return Pka.createInterpolant=this.createInterpolant,Pka}}Eja.prototype.TimeBufferType=Float32Array,Eja.prototype.ValueBufferType=Float32Array,Eja.prototype.DefaultInterpolation=2301;class Qka extends Eja{}Qka.prototype.ValueTypeName="bool",Qka.prototype.ValueBufferType=Array,Qka.prototype.DefaultInterpolation=2300,Qka.prototype.InterpolantFactoryMethodLinear=void 0,Qka.prototype.InterpolantFactoryMethodSmooth=void 0;class Rka extends Eja{}Rka.prototype.ValueTypeName="color";class Ska extends Eja{}Ska.prototype.ValueTypeName="number";class Tka extends eia{constructor(Uka,Vka,Wka,Xka){super(Uka,Vka,Wka,Xka)}interpolate_(Yka,Zka,$ka,_ka){const ala=this.resultBuffer,bla=this.sampleValues,cla=this.valueSize,dla=($ka-Zka)/(_ka-Zka);let ela=Yka*cla;for(let fla=ela+cla;ela!==fla;ela+=4)an.slerpFlat(ala,0,bla,ela-cla,bla,ela,dla);return ala}}class gla extends Eja{InterpolantFactoryMethodLinear(hla){return new Tka(this.times,this.values,this.getValueSize(),hla)}}gla.prototype.ValueTypeName="quaternion",gla.prototype.DefaultInterpolation=2301,gla.prototype.InterpolantFactoryMethodSmooth=void 0;class ila extends Eja{}ila.prototype.ValueTypeName="string",ila.prototype.ValueBufferType=Array,ila.prototype.DefaultInterpolation=2300,ila.prototype.InterpolantFactoryMethodLinear=void 0,ila.prototype.InterpolantFactoryMethodSmooth=void 0;class jla extends Eja{}jla.prototype.ValueTypeName="vector";class kla{constructor(lla,mla=-1,nla,ola=2500){this.name=lla,this.tracks=nla,this.duration=mla,this.blendMode=ola,this.uuid=Pg(),this.duration<0&&this.resetDuration()}static parse(pla){const qla=[],rla=pla.tracks,sla=1/(pla.fps||1);for(let tla=0,ula=rla.length;tla!==ula;++tla)qla.push(Ima(rla[tla]).scale(sla));const vla=new this(pla.name,pla.duration,qla,pla.blendMode);return vla.uuid=pla.uuid,vla}static toJSON(wla){const xla=[],yla=wla.tracks,zla={name:wla.name,duration:wla.duration,tracks:xla,uuid:wla.uuid,blendMode:wla.blendMode};for(let Ala=0,Bla=yla.length;Ala!==Bla;++Ala)xla.push(Eja.toJSON(yla[Ala]));return zla}static CreateFromMorphTargetSequence(Cla,Dla,Ela,Fla){const Gla=Dla.length,Hla=[];for(let Ila=0;Ila<Gla;Ila++){let Jla=[],Kla=[];Jla.push((Ila+Gla-1)%Gla,Ila,(Ila+1)%Gla),Kla.push(0,1,0);const Lla=dia.getKeyframeOrder(Jla);Jla=dia.sortedArray(Jla,1,Lla),Kla=dia.sortedArray(Kla,1,Lla),Fla||0!==Jla[0]||(Jla.push(Gla),Kla.push(Kla[0])),Hla.push(new Ska(".morphTargetInfluences["+Dla[Ila].name+"]",Jla,Kla).scale(1/Ela))}return new this(Cla,-1,Hla)}static findByName(Mla,Nla){let Ola=Mla;if(!Array.isArray(Mla)){const Pla=Mla;Ola=Pla.geometry&&Pla.geometry.animations||Pla.animations}for(let Qla=0;Qla<Ola.length;Qla++)if(Ola[Qla].name===Nla)return Ola[Qla];return null}static CreateClipsFromMorphTargetSequences(Rla,Sla,Tla){const Ula={},Vla=/^([\w-]*?)([\d]+)$/;for(let Wla=0,Xla=Rla.length;Wla<Xla;Wla++){const Yla=Rla[Wla],Zla=Yla.name.match(Vla);if(Zla&&Zla.length>1){const $la=Zla[1];let _la=Ula[$la];_la||(Ula[$la]=_la=[]),_la.push(Yla)}}const ama=[];for(const bma in Ula)ama.push(this.CreateFromMorphTargetSequence(bma,Ula[bma],Sla,Tla));return ama}static parseAnimation(cma,dma){if(!cma)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const ema=function(a,b,c,d,e){if(0!==c.length){const f=[],g=[];dia.flattenJSON(c,f,g,d),0!==f.length&&e.push(new a(b,f,g))}},fma=[],gma=cma.name||"default",hma=cma.fps||30,ima=cma.blendMode;let jma=cma.length|| -1;const kma=cma.hierarchy||[];for(let lma=0;lma<kma.length;lma++){const mma=kma[lma].keys;if(mma&&0!==mma.length)if(mma[0].morphTargets){const nma={};let oma;for(oma=0;oma<mma.length;oma++)if(mma[oma].morphTargets)for(let pma=0;pma<mma[oma].morphTargets.length;pma++)nma[mma[oma].morphTargets[pma]]=-1;for(const qma in nma){const rma=[],sma=[];for(let tma=0;tma!==mma[oma].morphTargets.length;++tma){const uma=mma[oma];rma.push(uma.time),sma.push(uma.morphTarget===qma?1:0)}fma.push(new Ska(".morphTargetInfluence["+qma+"]",rma,sma))}jma=nma.length*(hma||1)}else{const vma=".bones["+dma[lma].name+"]";ema(jla,vma+".position",mma,"pos",fma),ema(gla,vma+".quaternion",mma,"rot",fma),ema(jla,vma+".scale",mma,"scl",fma)}}if(0===fma.length)return null;const wma=new this(gma,jma,fma,ima);return wma}resetDuration(){const xma=this.tracks;let yma=0;for(let zma=0,Ama=xma.length;zma!==Ama;++zma){const Bma=this.tracks[zma];yma=Math.max(yma,Bma.times[Bma.times.length-1])}return this.duration=yma,this}trim(){for(let Cma=0;Cma<this.tracks.length;Cma++)this.tracks[Cma].trim(0,this.duration);return this}validate(){let Dma=!0;for(let Ema=0;Ema<this.tracks.length;Ema++)Dma=Dma&&this.tracks[Ema].validate();return Dma}optimize(){for(let Fma=0;Fma<this.tracks.length;Fma++)this.tracks[Fma].optimize();return this}clone(){const Gma=[];for(let Hma=0;Hma<this.tracks.length;Hma++)Gma.push(this.tracks[Hma].clone());return new this.constructor(this.name,this.duration,Gma,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ima(a){if(void 0===a.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const b=function(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ska;case"vector":case"vector2":case"vector3":case"vector4":return jla;case"color":return Rka;case"quaternion":return gla;case"bool":case"boolean":return Qka;case"string":return ila}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}(a.type);if(void 0===a.times){const c=[],d=[];dia.flattenJSON(a.keys,c,d,"value"),a.times=c,a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}const Jma={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},Kma=new class{constructor(Lma,Mma,Nma){const Oma=this;let Pma=!1,Qma=0,Rma=0,Sma;const Tma=[];this.onStart=void 0,this.onLoad=Lma,this.onProgress=Mma,this.onError=Nma,this.itemStart=function(a){Rma++,!1===Pma&& void 0!==Oma.onStart&&Oma.onStart(a,Qma,Rma),Pma=!0},this.itemEnd=function(a){Qma++,void 0!==Oma.onProgress&&Oma.onProgress(a,Qma,Rma),Qma===Rma&&(Pma=!1,void 0!==Oma.onLoad&&Oma.onLoad())},this.itemError=function(a){void 0!==Oma.onError&&Oma.onError(a)},this.resolveURL=function(a){return Sma?Sma(a):a},this.setURLModifier=function(a){return Sma=a,this},this.addHandler=function(a,b){return Tma.push(a,b),this},this.removeHandler=function(a){const b=Tma.indexOf(a);return -1!==b&&Tma.splice(b,2),this},this.getHandler=function(a){for(let b=0,c=Tma.length;b<c;b+=2){const d=Tma[b],e=Tma[b+1];if(d.global&&(d.lastIndex=0),d.test(a))return e}return null}}}();class Uma{constructor(Vma){this.manager=void 0!==Vma?Vma:Kma,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(Wma,Xma){const Yma=this;return new Promise(function(a,b){Yma.load(Wma,a,Xma,b)})}parse(){}setCrossOrigin(Zma){return this.crossOrigin=Zma,this}setWithCredentials($ma){return this.withCredentials=$ma,this}setPath(_ma){return this.path=_ma,this}setResourcePath(ana){return this.resourcePath=ana,this}setRequestHeader(bna){return this.requestHeader=bna,this}}const cna={};class dna extends Uma{constructor(ena){super(ena)}load(fna,gna,hna,ina){void 0===fna&&(fna=""),void 0!==this.path&&(fna=this.path+fna),fna=this.manager.resolveURL(fna);const jna=Jma.get(fna);if(void 0!==jna)return this.manager.itemStart(fna),setTimeout(()=>{gna&&gna(jna),this.manager.itemEnd(fna)},0),jna;if(void 0!==cna[fna]){cna[fna].push({onLoad:gna,onProgress:hna,onError:ina});return}cna[fna]=[],cna[fna].push({onLoad:gna,onProgress:hna,onError:ina});const kna=new Request(fna,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(kna).then(a=>{if(200===a.status||0===a.status){0===a.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const b=cna[fna],c=a.body.getReader(),d=a.headers.get("Content-Length"),e=d?parseInt(d):0,f=0!==e;let g=0;return new ReadableStream({start(a){d();function d(){c.read().then(({done:c,value:h})=>{if(c)a.close();else{g+=h.byteLength;const i=new ProgressEvent("progress",{lengthComputable:f,loaded:g,total:e});for(let j=0,k=b.length;j<k;j++){const l=b[j];l.onProgress&&l.onProgress(i)}a.enqueue(h),d()}})}}})}throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const b=new Response(a);switch(this.responseType){case"arraybuffer":return b.arrayBuffer();case"blob":return b.blob();case"document":return b.text().then(a=>{const b=new DOMParser();return b.parseFromString(a,this.mimeType)});case"json":return b.json();default:return b.text()}}).then(a=>{Jma.add(fna,a);const b=cna[fna];delete cna[fna];for(let c=0,d=b.length;c<d;c++){const e=b[c];e.onLoad&&e.onLoad(a)}this.manager.itemEnd(fna)}).catch(a=>{const b=cna[fna];delete cna[fna];for(let c=0,d=b.length;c<d;c++){const e=b[c];e.onError&&e.onError(a)}this.manager.itemError(fna),this.manager.itemEnd(fna)}),this.manager.itemStart(fna)}setResponseType(lna){return this.responseType=lna,this}setMimeType(mna){return this.mimeType=mna,this}}class nna extends Uma{constructor(ona){super(ona)}load(pna,qna,rna,sna){void 0!==this.path&&(pna=this.path+pna),pna=this.manager.resolveURL(pna);const tna=this,una=Jma.get(pna);if(void 0!==una)return tna.manager.itemStart(pna),setTimeout(function(){qna&&qna(una),tna.manager.itemEnd(pna)},0),una;const vna=qk("img");function wna(){yna(),Jma.add(pna,this),qna&&qna(this),tna.manager.itemEnd(pna)}function xna(a){yna(),sna&&sna(a),tna.manager.itemError(pna),tna.manager.itemEnd(pna)}function yna(){vna.removeEventListener("load",wna,!1),vna.removeEventListener("error",xna,!1)}return vna.addEventListener("load",wna,!1),vna.addEventListener("error",xna,!1),"data:"!==pna.substr(0,5)&& void 0!==this.crossOrigin&&(vna.crossOrigin=this.crossOrigin),tna.manager.itemStart(pna),vna.src=pna,vna}}class zna extends Uma{constructor(Ana){super(Ana)}load(Bna,Cna,Dna,Ena){const Fna=new XP(),Gna=new nna(this.manager);Gna.setCrossOrigin(this.crossOrigin),Gna.setPath(this.path);let Hna=0;function Ina(a){Gna.load(Bna[a],function(b){Fna.images[a]=b,Hna++,6===Hna&&(Fna.needsUpdate=!0,Cna&&Cna(Fna))},void 0,Ena)}for(let Jna=0;Jna<Bna.length;++Jna)Ina(Jna);return Fna}}class Kna extends Uma{constructor(Lna){super(Lna)}load(Mna,Nna,Ona,Pna){const Qna=new yk(),Rna=new nna(this.manager);return Rna.setCrossOrigin(this.crossOrigin),Rna.setPath(this.path),Rna.load(Mna,function(a){Qna.image=a,Qna.needsUpdate=!0,void 0!==Nna&&Nna(Qna)},Ona,Pna),Qna}}class Sna extends $B{constructor(Tna,Una=1){super(),this.type="Light",this.color=new gG(Tna),this.intensity=Una}dispose(){}copy(Vna){return super.copy(Vna),this.color.copy(Vna.color),this.intensity=Vna.intensity,this}toJSON(Wna){const Xna=super.toJSON(Wna);return Xna.object.color=this.color.getHex(),Xna.object.intensity=this.intensity,void 0!==this.groundColor&&(Xna.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(Xna.object.distance=this.distance),void 0!==this.angle&&(Xna.object.angle=this.angle),void 0!==this.decay&&(Xna.object.decay=this.decay),void 0!==this.penumbra&&(Xna.object.penumbra=this.penumbra),void 0!==this.shadow&&(Xna.object.shadow=this.shadow.toJSON()),Xna}}Sna.prototype.isLight=!0,(class extends Sna{constructor(Yna,Zna,$na){super(Yna,$na),this.type="HemisphereLight",this.position.copy($B.DefaultUp),this.updateMatrix(),this.groundColor=new gG(Zna)}copy(_na){return Sna.prototype.copy.call(this,_na),this.groundColor.copy(_na.groundColor),this}}).prototype.isHemisphereLight=!0;const aoa=new Wv(),boa=new Jp(),coa=new Jp();class doa{constructor(eoa){this.camera=eoa,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xg(512,512),this.map=null,this.mapPass=null,this.matrix=new Wv(),this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new pR(),this._frameExtents=new Xg(1,1),this._viewportCount=1,this._viewports=[new Uk(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(foa){const goa=this.camera,hoa=this.matrix;boa.setFromMatrixPosition(foa.matrixWorld),goa.position.copy(boa),coa.setFromMatrixPosition(foa.target.matrixWorld),goa.lookAt(coa),goa.updateMatrixWorld(),aoa.multiplyMatrices(goa.projectionMatrix,goa.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aoa),hoa.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),hoa.multiply(goa.projectionMatrix),hoa.multiply(goa.matrixWorldInverse)}getViewport(ioa){return this._viewports[ioa]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(joa){return this.camera=joa.camera.clone(),this.bias=joa.bias,this.radius=joa.radius,this.mapSize.copy(joa.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const koa={};return 0!==this.bias&&(koa.bias=this.bias),0!==this.normalBias&&(koa.normalBias=this.normalBias),1!==this.radius&&(koa.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(koa.mapSize=this.mapSize.toArray()),koa.camera=this.camera.toJSON(!1).object,delete koa.camera.matrix,koa}}class loa extends doa{constructor(){super(new aP(50,1,.5,500)),this.focus=1}updateMatrices(moa){const noa=this.camera,ooa=2*Og*moa.angle*this.focus,poa=this.mapSize.width/this.mapSize.height,qoa=moa.distance||noa.far;(ooa!==noa.fov||poa!==noa.aspect||qoa!==noa.far)&&(noa.fov=ooa,noa.aspect=poa,noa.far=qoa,noa.updateProjectionMatrix()),super.updateMatrices(moa)}copy(roa){return super.copy(roa),this.focus=roa.focus,this}}loa.prototype.isSpotLightShadow=!0;class soa extends Sna{constructor(toa,uoa,voa=0,woa=Math.PI/3,xoa=0,yoa=1){super(toa,uoa),this.type="SpotLight",this.position.copy($B.DefaultUp),this.updateMatrix(),this.target=new $B(),this.distance=voa,this.angle=woa,this.penumbra=xoa,this.decay=yoa,this.shadow=new loa()}get power(){return this.intensity*Math.PI}set power(zoa){this.intensity=zoa/Math.PI}dispose(){this.shadow.dispose()}copy(Aoa){return super.copy(Aoa),this.distance=Aoa.distance,this.angle=Aoa.angle,this.penumbra=Aoa.penumbra,this.decay=Aoa.decay,this.target=Aoa.target.clone(),this.shadow=Aoa.shadow.clone(),this}}soa.prototype.isSpotLight=!0;const Boa=new Wv(),Coa=new Jp(),Doa=new Jp();class Eoa extends doa{constructor(){super(new aP(90,1,.5,500)),this._frameExtents=new Xg(4,2),this._viewportCount=6,this._viewports=[new Uk(2,1,1,1),new Uk(0,1,1,1),new Uk(3,1,1,1),new Uk(1,1,1,1),new Uk(3,0,1,1),new Uk(1,0,1,1)],this._cubeDirections=[new Jp(1,0,0),new Jp(-1,0,0),new Jp(0,0,1),new Jp(0,0,-1),new Jp(0,1,0),new Jp(0,-1,0)],this._cubeUps=[new Jp(0,1,0),new Jp(0,1,0),new Jp(0,1,0),new Jp(0,1,0),new Jp(0,0,1),new Jp(0,0,-1)]}updateMatrices(Foa,Goa=0){const Hoa=this.camera,Ioa=this.matrix,Joa=Foa.distance||Hoa.far;Joa!==Hoa.far&&(Hoa.far=Joa,Hoa.updateProjectionMatrix()),Coa.setFromMatrixPosition(Foa.matrixWorld),Hoa.position.copy(Coa),Doa.copy(Hoa.position),Doa.add(this._cubeDirections[Goa]),Hoa.up.copy(this._cubeUps[Goa]),Hoa.lookAt(Doa),Hoa.updateMatrixWorld(),Ioa.makeTranslation(-Coa.x,-Coa.y,-Coa.z),Boa.multiplyMatrices(Hoa.projectionMatrix,Hoa.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Boa)}}Eoa.prototype.isPointLightShadow=!0;class Koa extends Sna{constructor(Loa,Moa,Noa=0,Ooa=1){super(Loa,Moa),this.type="PointLight",this.distance=Noa,this.decay=Ooa,this.shadow=new Eoa()}get power(){return 4*this.intensity*Math.PI}set power(Poa){this.intensity=Poa/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(Qoa){return super.copy(Qoa),this.distance=Qoa.distance,this.decay=Qoa.decay,this.shadow=Qoa.shadow.clone(),this}}Koa.prototype.isPointLight=!0;class Roa extends doa{constructor(){super(new $S(-5,5,5,-5,.5,500))}}Roa.prototype.isDirectionalLightShadow=!0;class Soa extends Sna{constructor(Toa,Uoa){super(Toa,Uoa),this.type="DirectionalLight",this.position.copy($B.DefaultUp),this.updateMatrix(),this.target=new $B(),this.shadow=new Roa()}dispose(){this.shadow.dispose()}copy(Voa){return super.copy(Voa),this.target=Voa.target.clone(),this.shadow=Voa.shadow.clone(),this}}Soa.prototype.isDirectionalLight=!0;class Woa extends Sna{constructor(Xoa,Yoa){super(Xoa,Yoa),this.type="AmbientLight"}}Woa.prototype.isAmbientLight=!0,(class extends Sna{constructor(Zoa,$oa,_oa=10,apa=10){super(Zoa,$oa),this.type="RectAreaLight",this.width=_oa,this.height=apa}get power(){return this.intensity*this.width*this.height*Math.PI}set power(bpa){this.intensity=bpa/(this.width*this.height*Math.PI)}copy(cpa){return super.copy(cpa),this.width=cpa.width,this.height=cpa.height,this}toJSON(dpa){const epa=super.toJSON(dpa);return epa.object.width=this.width,epa.object.height=this.height,epa}}).prototype.isRectAreaLight=!0;class fpa{constructor(){this.coefficients=[];for(let gpa=0;gpa<9;gpa++)this.coefficients.push(new Jp())}set(hpa){for(let ipa=0;ipa<9;ipa++)this.coefficients[ipa].copy(hpa[ipa]);return this}zero(){for(let jpa=0;jpa<9;jpa++)this.coefficients[jpa].set(0,0,0);return this}getAt(kpa,lpa){const mpa=kpa.x,npa=kpa.y,opa=kpa.z,ppa=this.coefficients;return lpa.copy(ppa[0]).multiplyScalar(.282095),lpa.addScaledVector(ppa[1],.488603*npa),lpa.addScaledVector(ppa[2],.488603*opa),lpa.addScaledVector(ppa[3],.488603*mpa),lpa.addScaledVector(ppa[4],1.092548*(mpa*npa)),lpa.addScaledVector(ppa[5],1.092548*(npa*opa)),lpa.addScaledVector(ppa[6],.315392*(3*opa*opa-1)),lpa.addScaledVector(ppa[7],1.092548*(mpa*opa)),lpa.addScaledVector(ppa[8],.546274*(mpa*mpa-npa*npa)),lpa}getIrradianceAt(qpa,rpa){const spa=qpa.x,tpa=qpa.y,upa=qpa.z,vpa=this.coefficients;return rpa.copy(vpa[0]).multiplyScalar(.886227),rpa.addScaledVector(vpa[1],1.023328*tpa),rpa.addScaledVector(vpa[2],1.023328*upa),rpa.addScaledVector(vpa[3],1.023328*spa),rpa.addScaledVector(vpa[4],.858086*spa*tpa),rpa.addScaledVector(vpa[5],.858086*tpa*upa),rpa.addScaledVector(vpa[6],.743125*upa*upa-.247708),rpa.addScaledVector(vpa[7],.858086*spa*upa),rpa.addScaledVector(vpa[8],.429043*(spa*spa-tpa*tpa)),rpa}add(wpa){for(let xpa=0;xpa<9;xpa++)this.coefficients[xpa].add(wpa.coefficients[xpa]);return this}addScaledSH(ypa,zpa){for(let Apa=0;Apa<9;Apa++)this.coefficients[Apa].addScaledVector(ypa.coefficients[Apa],zpa);return this}scale(Bpa){for(let Cpa=0;Cpa<9;Cpa++)this.coefficients[Cpa].multiplyScalar(Bpa);return this}lerp(Dpa,Epa){for(let Fpa=0;Fpa<9;Fpa++)this.coefficients[Fpa].lerp(Dpa.coefficients[Fpa],Epa);return this}equals(Gpa){for(let Hpa=0;Hpa<9;Hpa++)if(!this.coefficients[Hpa].equals(Gpa.coefficients[Hpa]))return!1;return!0}copy(Ipa){return this.set(Ipa.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(Jpa,Kpa=0){const Lpa=this.coefficients;for(let Mpa=0;Mpa<9;Mpa++)Lpa[Mpa].fromArray(Jpa,Kpa+3*Mpa);return this}toArray(Npa=[],Opa=0){const Ppa=this.coefficients;for(let Qpa=0;Qpa<9;Qpa++)Ppa[Qpa].toArray(Npa,Opa+3*Qpa);return Npa}static getBasisAt(Rpa,Spa){const Tpa=Rpa.x,Upa=Rpa.y,Vpa=Rpa.z;Spa[0]=.282095,Spa[1]=.488603*Upa,Spa[2]=.488603*Vpa,Spa[3]=.488603*Tpa,Spa[4]=1.092548*Tpa*Upa,Spa[5]=1.092548*Upa*Vpa,Spa[6]=.315392*(3*Vpa*Vpa-1),Spa[7]=1.092548*Tpa*Vpa,Spa[8]=.546274*(Tpa*Tpa-Upa*Upa)}}fpa.prototype.isSphericalHarmonics3=!0;class Wpa extends Sna{constructor(Xpa=new fpa(),Ypa=1){super(void 0,Ypa),this.sh=Xpa}copy(Zpa){return super.copy(Zpa),this.sh.copy(Zpa.sh),this}fromJSON($pa){return this.intensity=$pa.intensity,this.sh.fromArray($pa.sh),this}toJSON(_pa){const aqa=super.toJSON(_pa);return aqa.object.sh=this.sh.toArray(),aqa}}Wpa.prototype.isLightProbe=!0;class bqa{static decodeText(cqa){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(cqa);let dqa="";for(let eqa=0,fqa=cqa.length;eqa<fqa;eqa++)dqa+=String.fromCharCode(cqa[eqa]);try{return decodeURIComponent(escape(dqa))}catch(gqa){return dqa}}static extractUrlBase(hqa){const iqa=hqa.lastIndexOf("/");return -1===iqa?"./":hqa.substr(0,iqa+1)}static resolveURL(jqa,kqa){return"string"!=typeof jqa||""===jqa?"":(/^https?:\/\//i.test(kqa)&&/^\//.test(jqa)&&(kqa=kqa.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(jqa))?jqa:/^data:.*,.*$/i.test(jqa)?jqa:/^blob:.*$/i.test(jqa)?jqa:kqa+jqa}}(class extends zJ{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(lqa){return super.copy(lqa),this.instanceCount=lqa.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const mqa=super.toJSON(this);return mqa.instanceCount=this.instanceCount,mqa.isInstancedBufferGeometry=!0,mqa}}).prototype.isInstancedBufferGeometry=!0;class nqa extends Uma{constructor(oqa){super(oqa),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(pqa){return this.options=pqa,this}load(qqa,rqa,sqa,tqa){void 0===qqa&&(qqa=""),void 0!==this.path&&(qqa=this.path+qqa),qqa=this.manager.resolveURL(qqa);const uqa=this,vqa=Jma.get(qqa);if(void 0!==vqa)return uqa.manager.itemStart(qqa),setTimeout(function(){rqa&&rqa(vqa),uqa.manager.itemEnd(qqa)},0),vqa;const wqa={};wqa.credentials="anonymous"===this.crossOrigin?"same-origin":"include",wqa.headers=this.requestHeader,fetch(qqa,wqa).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,Object.assign(uqa.options,{colorSpaceConversion:"none"}))}).then(function(a){Jma.add(qqa,a),rqa&&rqa(a),uqa.manager.itemEnd(qqa)}).catch(function(a){tqa&&tqa(a),uqa.manager.itemError(qqa),uqa.manager.itemEnd(qqa)}),uqa.manager.itemStart(qqa)}}nqa.prototype.isImageBitmapLoader=!0;let xqa;const yqa={getContext:function(){return void 0===xqa&&(xqa=new(window.AudioContext||window.webkitAudioContext)()),xqa},setContext:function(a){xqa=a}};class zqa extends Uma{constructor(Aqa){super(Aqa)}load(Bqa,Cqa,Dqa,Eqa){const Fqa=this,Gqa=new dna(this.manager);Gqa.setResponseType("arraybuffer"),Gqa.setPath(this.path),Gqa.setRequestHeader(this.requestHeader),Gqa.setWithCredentials(this.withCredentials),Gqa.load(Bqa,function(a){try{const b=a.slice(0),c=yqa.getContext();c.decodeAudioData(b,function(a){Cqa(a)})}catch(d){Eqa?Eqa(d):console.error(d),Fqa.manager.itemError(Bqa)}},Dqa,Eqa)}}(class extends Wpa{constructor(Hqa,Iqa,Jqa=1){super(void 0,Jqa);const Kqa=new gG().set(Hqa),Lqa=new gG().set(Iqa),Mqa=new Jp(Kqa.r,Kqa.g,Kqa.b),Nqa=new Jp(Lqa.r,Lqa.g,Lqa.b),Oqa=Math.sqrt(Math.PI);this.sh.coefficients[0].copy(Mqa).add(Nqa).multiplyScalar(Oqa),this.sh.coefficients[1].copy(Mqa).sub(Nqa).multiplyScalar(Oqa*Math.sqrt(.75))}}).prototype.isHemisphereLightProbe=!0,(class extends Wpa{constructor(Pqa,Qqa=1){super(void 0,Qqa);const Rqa=new gG().set(Pqa);this.sh.coefficients[0].set(Rqa.r,Rqa.g,Rqa.b).multiplyScalar(2*Math.sqrt(Math.PI))}}).prototype.isAmbientLightProbe=!0,new Wv(),new Wv(),new Wv(),new Jp(),new an(),new Jp(),new Jp(),new Jp(),new an(),new Jp(),new Jp();class Sqa{constructor(Tqa,Uqa,Vqa){this.binding=Tqa,this.valueSize=Vqa;let Wqa,Xqa,Yqa;switch(Uqa){case"quaternion":Wqa=this._slerp,Xqa=this._slerpAdditive,Yqa=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*Vqa),this._workIndex=5;break;case"string":case"bool":Wqa=this._select,Xqa=this._select,Yqa=this._setAdditiveIdentityOther,this.buffer=new Array(5*Vqa);break;default:Wqa=this._lerp,Xqa=this._lerpAdditive,Yqa=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*Vqa)}this._mixBufferRegion=Wqa,this._mixBufferRegionAdditive=Xqa,this._setIdentity=Yqa,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(Zqa,$qa){const _qa=this.buffer,ara=this.valueSize,bra=Zqa*ara+ara;let cra=this.cumulativeWeight;if(0===cra){for(let dra=0;dra!==ara;++dra)_qa[bra+dra]=_qa[dra];cra=$qa}else{cra+=$qa;const era=$qa/cra;this._mixBufferRegion(_qa,bra,0,era,ara)}this.cumulativeWeight=cra}accumulateAdditive(fra){const gra=this.buffer,hra=this.valueSize,ira=hra*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(gra,ira,0,fra,hra),this.cumulativeWeightAdditive+=fra}apply(jra){const kra=this.valueSize,lra=this.buffer,mra=jra*kra+kra,nra=this.cumulativeWeight,ora=this.cumulativeWeightAdditive,pra=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,nra<1){const qra=kra*this._origIndex;this._mixBufferRegion(lra,mra,qra,1-nra,kra)}ora>0&&this._mixBufferRegionAdditive(lra,mra,this._addIndex*kra,1,kra);for(let rra=kra,sra=kra+kra;rra!==sra;++rra)if(lra[rra]!==lra[rra+kra]){pra.setValue(lra,mra);break}}saveOriginalState(){const tra=this.binding,ura=this.buffer,vra=this.valueSize,wra=vra*this._origIndex;tra.getValue(ura,wra);for(let xra=vra,yra=wra;xra!==yra;++xra)ura[xra]=ura[wra+xra%vra];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const zra=3*this.valueSize;this.binding.setValue(this.buffer,zra)}_setAdditiveIdentityNumeric(){const Ara=this._addIndex*this.valueSize,Bra=Ara+this.valueSize;for(let Cra=Ara;Cra<Bra;Cra++)this.buffer[Cra]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const Dra=this._origIndex*this.valueSize,Era=this._addIndex*this.valueSize;for(let Fra=0;Fra<this.valueSize;Fra++)this.buffer[Era+Fra]=this.buffer[Dra+Fra]}_select(Gra,Hra,Ira,Jra,Kra){if(Jra>=.5)for(let Lra=0;Lra!==Kra;++Lra)Gra[Hra+Lra]=Gra[Ira+Lra]}_slerp(Mra,Nra,Ora,Pra){an.slerpFlat(Mra,Nra,Mra,Nra,Mra,Ora,Pra)}_slerpAdditive(Qra,Rra,Sra,Tra,Ura){const Vra=this._workIndex*Ura;an.multiplyQuaternionsFlat(Qra,Vra,Qra,Rra,Qra,Sra),an.slerpFlat(Qra,Rra,Qra,Rra,Qra,Vra,Tra)}_lerp(Wra,Xra,Yra,Zra,$ra){const _ra=1-Zra;for(let asa=0;asa!==$ra;++asa){const bsa=Xra+asa;Wra[bsa]=Wra[bsa]*_ra+Wra[Yra+asa]*Zra}}_lerpAdditive(csa,dsa,esa,fsa,gsa){for(let hsa=0;hsa!==gsa;++hsa){const isa=dsa+hsa;csa[isa]=csa[isa]+csa[esa+hsa]*fsa}}}const jsa="\\[\\]\\.:\\/",ksa=new RegExp("["+jsa+"]","g"),lsa="[^"+jsa+"]",msa="[^"+jsa.replace("\\.","")+"]",nsa=/((?:WC+[\/:])*)/.source.replace("WC",lsa),osa=/(WCOD+)?/.source.replace("WCOD",msa),psa=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lsa),qsa=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lsa),rsa=new RegExp("^"+nsa+osa+psa+qsa+"$"),ssa=["material","materials","bones"];class tsa{constructor(usa,vsa,wsa){this.path=vsa,this.parsedPath=wsa||tsa.parseTrackName(vsa),this.node=tsa.findNode(usa,this.parsedPath.nodeName)||usa,this.rootNode=usa,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(xsa,ysa,zsa){return xsa&&xsa.isAnimationObjectGroup?new tsa.Composite(xsa,ysa,zsa):new tsa(xsa,ysa,zsa)}static sanitizeNodeName(Asa){return Asa.replace(/\s/g,"_").replace(ksa,"")}static parseTrackName(Bsa){const Csa=rsa.exec(Bsa);if(!Csa)throw new Error("PropertyBinding: Cannot parse trackName: "+Bsa);const Dsa={nodeName:Csa[2],objectName:Csa[3],objectIndex:Csa[4],propertyName:Csa[5],propertyIndex:Csa[6]},Esa=Dsa.nodeName&&Dsa.nodeName.lastIndexOf(".");if(void 0!==Esa&& -1!==Esa){const Fsa=Dsa.nodeName.substring(Esa+1);-1!==ssa.indexOf(Fsa)&&(Dsa.nodeName=Dsa.nodeName.substring(0,Esa),Dsa.objectName=Fsa)}if(null===Dsa.propertyName||0===Dsa.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+Bsa);return Dsa}static findNode(Gsa,Hsa){if(!Hsa||""===Hsa||"."===Hsa|| -1===Hsa||Hsa===Gsa.name||Hsa===Gsa.uuid)return Gsa;if(Gsa.skeleton){const Isa=Gsa.skeleton.getBoneByName(Hsa);if(void 0!==Isa)return Isa}if(Gsa.children){const Jsa=function(a){for(let b=0;b<a.length;b++){const c=a[b];if(c.name===Hsa||c.uuid===Hsa)return c;const d=Jsa(c.children);if(d)return d}return null},Ksa=Jsa(Gsa.children);if(Ksa)return Ksa}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(Lsa,Msa){Lsa[Msa]=this.targetObject[this.propertyName]}_getValue_array(Nsa,Osa){const Psa=this.resolvedProperty;for(let Qsa=0,Rsa=Psa.length;Qsa!==Rsa;++Qsa)Nsa[Osa++]=Psa[Qsa]}_getValue_arrayElement(Ssa,Tsa){Ssa[Tsa]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(Usa,Vsa){this.resolvedProperty.toArray(Usa,Vsa)}_setValue_direct(Wsa,Xsa){this.targetObject[this.propertyName]=Wsa[Xsa]}_setValue_direct_setNeedsUpdate(Ysa,Zsa){this.targetObject[this.propertyName]=Ysa[Zsa],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate($sa,_sa){this.targetObject[this.propertyName]=$sa[_sa],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(ata,bta){const cta=this.resolvedProperty;for(let dta=0,eta=cta.length;dta!==eta;++dta)cta[dta]=ata[bta++]}_setValue_array_setNeedsUpdate(fta,gta){const hta=this.resolvedProperty;for(let ita=0,jta=hta.length;ita!==jta;++ita)hta[ita]=fta[gta++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(kta,lta){const mta=this.resolvedProperty;for(let nta=0,ota=mta.length;nta!==ota;++nta)mta[nta]=kta[lta++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(pta,qta){this.resolvedProperty[this.propertyIndex]=pta[qta]}_setValue_arrayElement_setNeedsUpdate(rta,sta){this.resolvedProperty[this.propertyIndex]=rta[sta],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(tta,uta){this.resolvedProperty[this.propertyIndex]=tta[uta],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(vta,wta){this.resolvedProperty.fromArray(vta,wta)}_setValue_fromArray_setNeedsUpdate(xta,yta){this.resolvedProperty.fromArray(xta,yta),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(zta,Ata){this.resolvedProperty.fromArray(zta,Ata),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(Bta,Cta){this.bind(),this.getValue(Bta,Cta)}_setValue_unbound(Dta,Eta){this.bind(),this.setValue(Dta,Eta)}bind(){let Fta=this.node;const Gta=this.parsedPath,Hta=Gta.objectName,Ita=Gta.propertyName;let Jta=Gta.propertyIndex;if(Fta||(Fta=tsa.findNode(this.rootNode,Gta.nodeName)||this.rootNode,this.node=Fta),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!Fta){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(Hta){let Kta=Gta.objectIndex;switch(Hta){case"materials":if(!Fta.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!Fta.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}Fta=Fta.material.materials;break;case"bones":if(!Fta.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}Fta=Fta.skeleton.bones;for(let Lta=0;Lta<Fta.length;Lta++)if(Fta[Lta].name===Kta){Kta=Lta;break}break;default:if(void 0===Fta[Hta]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}Fta=Fta[Hta]}if(void 0!==Kta){if(void 0===Fta[Kta]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,Fta);return}Fta=Fta[Kta]}}const Mta=Fta[Ita];if(void 0===Mta){const Nta=Gta.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Nta+"."+Ita+" but it wasn't found.",Fta);return}let Ota=this.Versioning.None;this.targetObject=Fta,void 0!==Fta.needsUpdate?Ota=this.Versioning.NeedsUpdate:void 0!==Fta.matrixWorldNeedsUpdate&&(Ota=this.Versioning.MatrixWorldNeedsUpdate);let Pta=this.BindingType.Direct;if(void 0!==Jta){if("morphTargetInfluences"===Ita){if(!Fta.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(Fta.geometry.isBufferGeometry){if(!Fta.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}void 0!==Fta.morphTargetDictionary[Jta]&&(Jta=Fta.morphTargetDictionary[Jta])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}Pta=this.BindingType.ArrayElement,this.resolvedProperty=Mta,this.propertyIndex=Jta}else void 0!==Mta.fromArray&& void 0!==Mta.toArray?(Pta=this.BindingType.HasFromToArray,this.resolvedProperty=Mta):Array.isArray(Mta)?(Pta=this.BindingType.EntireArray,this.resolvedProperty=Mta):this.propertyName=Ita;this.getValue=this.GetterByBindingType[Pta],this.setValue=this.SetterByBindingTypeAndVersioning[Pta][Ota]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}tsa.Composite=class{constructor(Qta,Rta,Sta){const Tta=Sta||tsa.parseTrackName(Rta);this._targetGroup=Qta,this._bindings=Qta.subscribe_(Rta,Tta)}getValue(Uta,Vta){this.bind();const Wta=this._targetGroup.nCachedObjects_,Xta=this._bindings[Wta];void 0!==Xta&&Xta.getValue(Uta,Vta)}setValue(Yta,Zta){const $ta=this._bindings;for(let _ta=this._targetGroup.nCachedObjects_,aua=$ta.length;_ta!==aua;++_ta)$ta[_ta].setValue(Yta,Zta)}bind(){const bua=this._bindings;for(let cua=this._targetGroup.nCachedObjects_,dua=bua.length;cua!==dua;++cua)bua[cua].bind()}unbind(){const eua=this._bindings;for(let fua=this._targetGroup.nCachedObjects_,gua=eua.length;fua!==gua;++fua)eua[fua].unbind()}},tsa.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},tsa.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},tsa.prototype.GetterByBindingType=[tsa.prototype._getValue_direct,tsa.prototype._getValue_array,tsa.prototype._getValue_arrayElement,tsa.prototype._getValue_toArray,],tsa.prototype.SetterByBindingTypeAndVersioning=[[tsa.prototype._setValue_direct,tsa.prototype._setValue_direct_setNeedsUpdate,tsa.prototype._setValue_direct_setMatrixWorldNeedsUpdate,],[tsa.prototype._setValue_array,tsa.prototype._setValue_array_setNeedsUpdate,tsa.prototype._setValue_array_setMatrixWorldNeedsUpdate,],[tsa.prototype._setValue_arrayElement,tsa.prototype._setValue_arrayElement_setNeedsUpdate,tsa.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,],[tsa.prototype._setValue_fromArray,tsa.prototype._setValue_fromArray_setNeedsUpdate,tsa.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,]],(class{constructor(){this.uuid=Pg(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const hua={};this._indicesByUUID=hua;for(let iua=0,jua=arguments.length;iua!==jua;++iua)hua[arguments[iua].uuid]=iua;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={},this.stats={objects:{get total(){return this._objects.length},get inUse(){return this.total-this.nCachedObjects_}},get bindingsPerObject(){return this._bindings.length}}}add(){const kua=this._objects,lua=this._indicesByUUID,mua=this._paths,nua=this._parsedPaths,oua=this._bindings,pua=oua.length;let qua,rua=kua.length,sua=this.nCachedObjects_;for(let tua=0,uua=arguments.length;tua!==uua;++tua){const vua=arguments[tua],wua=vua.uuid;let xua=lua[wua];if(void 0===xua){xua=rua++,lua[wua]=xua,kua.push(vua);for(let yua=0,zua=pua;yua!==zua;++yua)oua[yua].push(new tsa(vua,mua[yua],nua[yua]))}else if(xua<sua){qua=kua[xua];const Aua=--sua,Bua=kua[Aua];lua[Bua.uuid]=xua,kua[xua]=Bua,lua[wua]=Aua,kua[Aua]=vua;for(let Cua=0,Dua=pua;Cua!==Dua;++Cua){const Eua=oua[Cua],Fua=Eua[Aua];let Gua=Eua[xua];Eua[xua]=Fua,void 0===Gua&&(Gua=new tsa(vua,mua[Cua],nua[Cua])),Eua[Aua]=Gua}}else kua[xua]!==qua&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=sua}remove(){const Hua=this._objects,Iua=this._indicesByUUID,Jua=this._bindings,Kua=Jua.length;let Lua=this.nCachedObjects_;for(let Mua=0,Nua=arguments.length;Mua!==Nua;++Mua){const Oua=arguments[Mua],Pua=Oua.uuid,Qua=Iua[Pua];if(void 0!==Qua&&Qua>=Lua){const Rua=Lua++,Sua=Hua[Rua];Iua[Sua.uuid]=Qua,Hua[Qua]=Sua,Iua[Pua]=Rua,Hua[Rua]=Oua;for(let Tua=0,Uua=Kua;Tua!==Uua;++Tua){const Vua=Jua[Tua],Wua=Vua[Rua],Xua=Vua[Qua];Vua[Qua]=Wua,Vua[Rua]=Xua}}}this.nCachedObjects_=Lua}uncache(){const Yua=this._objects,Zua=this._indicesByUUID,$ua=this._bindings,_ua=$ua.length;let ava=this.nCachedObjects_,bva=Yua.length;for(let cva=0,dva=arguments.length;cva!==dva;++cva){const eva=arguments[cva],fva=eva.uuid,gva=Zua[fva];if(void 0!==gva)if(delete Zua[fva],gva<ava){const hva=--ava,iva=Yua[hva],jva=--bva,kva=Yua[jva];Zua[iva.uuid]=gva,Yua[gva]=iva,Zua[kva.uuid]=hva,Yua[hva]=kva,Yua.pop();for(let lva=0,mva=_ua;lva!==mva;++lva){const nva=$ua[lva],ova=nva[hva],pva=nva[jva];nva[gva]=ova,nva[hva]=pva,nva.pop()}}else{const qva=--bva,rva=Yua[qva];qva>0&&(Zua[rva.uuid]=gva),Yua[gva]=rva,Yua.pop();for(let sva=0,tva=_ua;sva!==tva;++sva){const uva=$ua[sva];uva[gva]=uva[qva],uva.pop()}}}this.nCachedObjects_=ava}subscribe_(vva,wva){const xva=this._bindingsIndicesByPath;let yva=xva[vva];const zva=this._bindings;if(void 0!==yva)return zva[yva];const Ava=this._paths,Bva=this._parsedPaths,Cva=this._objects,Dva=Cva.length,Eva=this.nCachedObjects_,Fva=new Array(Dva);yva=zva.length,xva[vva]=yva,Ava.push(vva),Bva.push(wva),zva.push(Fva);for(let Gva=Eva,Hva=Cva.length;Gva!==Hva;++Gva){const Iva=Cva[Gva];Fva[Gva]=new tsa(Iva,vva,wva)}return Fva}unsubscribe_(Jva){const Kva=this._bindingsIndicesByPath,Lva=Kva[Jva];if(void 0!==Lva){const Mva=this._paths,Nva=this._parsedPaths,Ova=this._bindings,Pva=Ova.length-1,Qva=Ova[Pva],Rva=Jva[Pva];Kva[Rva]=Lva,Ova[Lva]=Qva,Ova.pop(),Nva[Lva]=Nva[Pva],Nva.pop(),Mva[Lva]=Mva[Pva],Mva.pop()}}}).prototype.isAnimationObjectGroup=!0;class Sva{constructor(Tva,Uva,Vva=null,Wva=Uva.blendMode){this._mixer=Tva,this._clip=Uva,this._localRoot=Vva,this.blendMode=Wva;const Xva=Uva.tracks,Yva=Xva.length,Zva=new Array(Yva),$va={endingStart:2400,endingEnd:2400};for(let _va=0;_va!==Yva;++_va){const awa=Xva[_va].createInterpolant(null);Zva[_va]=awa,awa.settings=$va}this._interpolantSettings=$va,this._interpolants=Zva,this._propertyBindings=new Array(Yva),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(bwa){return this._startTime=bwa,this}setLoop(cwa,dwa){return this.loop=cwa,this.repetitions=dwa,this}setEffectiveWeight(ewa){return this.weight=ewa,this._effectiveWeight=this.enabled?ewa:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(fwa){return this._scheduleFading(fwa,0,1)}fadeOut(gwa){return this._scheduleFading(gwa,1,0)}crossFadeFrom(hwa,iwa,jwa){if(hwa.fadeOut(iwa),this.fadeIn(iwa),jwa){const kwa=this._clip.duration,lwa=hwa._clip.duration,mwa=lwa/kwa,nwa=kwa/lwa;hwa.warp(1,mwa,iwa),this.warp(nwa,1,iwa)}return this}crossFadeTo(owa,pwa,qwa){return owa.crossFadeFrom(this,pwa,qwa)}stopFading(){const rwa=this._weightInterpolant;return null!==rwa&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(rwa)),this}setEffectiveTimeScale(swa){return this.timeScale=swa,this._effectiveTimeScale=this.paused?0:swa,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(twa){return this.timeScale=this._clip.duration/twa,this.stopWarping()}syncWith(uwa){return this.time=uwa.time,this.timeScale=uwa.timeScale,this.stopWarping()}halt(vwa){return this.warp(this._effectiveTimeScale,0,vwa)}warp(wwa,xwa,ywa){const zwa=this._mixer,Awa=zwa.time,Bwa=this.timeScale;let Cwa=this._timeScaleInterpolant;null===Cwa&&(Cwa=zwa._lendControlInterpolant(),this._timeScaleInterpolant=Cwa);const Dwa=Cwa.parameterPositions,Ewa=Cwa.sampleValues;return Dwa[0]=Awa,Dwa[1]=Awa+ywa,Ewa[0]=wwa/Bwa,Ewa[1]=xwa/Bwa,this}stopWarping(){const Fwa=this._timeScaleInterpolant;return null!==Fwa&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(Fwa)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(Gwa,Hwa,Iwa,Jwa){if(!this.enabled){this._updateWeight(Gwa);return}const Kwa=this._startTime;if(null!==Kwa){const Lwa=(Gwa-Kwa)*Iwa;if(Lwa<0||0===Iwa)return;this._startTime=null,Hwa=Iwa*Lwa}Hwa*=this._updateTimeScale(Gwa);const Mwa=this._updateTime(Hwa),Nwa=this._updateWeight(Gwa);if(Nwa>0){const Owa=this._interpolants,Pwa=this._propertyBindings;switch(this.blendMode){case 2501:for(let Qwa=0,Rwa=Owa.length;Qwa!==Rwa;++Qwa)Owa[Qwa].evaluate(Mwa),Pwa[Qwa].accumulateAdditive(Nwa);break;case 2500:default:for(let Swa=0,Twa=Owa.length;Swa!==Twa;++Swa)Owa[Swa].evaluate(Mwa),Pwa[Swa].accumulate(Jwa,Nwa)}}}_updateWeight(Uwa){let Vwa=0;if(this.enabled){Vwa=this.weight;const Wwa=this._weightInterpolant;if(null!==Wwa){const Xwa=Wwa.evaluate(Uwa)[0];Vwa*=Xwa,Uwa>Wwa.parameterPositions[1]&&(this.stopFading(),0===Xwa&&(this.enabled=!1))}}return this._effectiveWeight=Vwa,Vwa}_updateTimeScale(Ywa){let Zwa=0;if(!this.paused){Zwa=this.timeScale;const $wa=this._timeScaleInterpolant;if(null!==$wa){const _wa=$wa.evaluate(Ywa)[0];Zwa*=_wa,Ywa>$wa.parameterPositions[1]&&(this.stopWarping(),0===Zwa?this.paused=!0:this.timeScale=Zwa)}}return this._effectiveTimeScale=Zwa,Zwa}_updateTime(axa){const bxa=this._clip.duration,cxa=this.loop;let dxa=this.time+axa,exa=this._loopCount;const fxa=2202===cxa;if(0===axa)return -1===exa?dxa:fxa&&(1&exa)==1?bxa-dxa:dxa;if(2200===cxa){-1===exa&&(this._loopCount=0,this._setEndings(!0,!0,!1));handle_stop:{if(dxa>=bxa)dxa=bxa;else if(dxa<0)dxa=0;else{this.time=dxa;break handle_stop}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=dxa,this._mixer.dispatchEvent({type:"finished",action:this,direction:axa<0?-1:1})}}else{if(-1===exa&&(axa>=0?(exa=0,this._setEndings(!0,0===this.repetitions,fxa)):this._setEndings(0===this.repetitions,!0,fxa)),dxa>=bxa||dxa<0){const gxa=Math.floor(dxa/bxa);dxa-=bxa*gxa,exa+=Math.abs(gxa);const hxa=this.repetitions-exa;if(hxa<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,dxa=axa>0?bxa:0,this.time=dxa,this._mixer.dispatchEvent({type:"finished",action:this,direction:axa>0?1:-1});else{if(1===hxa){const ixa=axa<0;this._setEndings(ixa,!ixa,fxa)}else this._setEndings(!1,!1,fxa);this._loopCount=exa,this.time=dxa,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:gxa})}}else this.time=dxa;if(fxa&&(1&exa)==1)return bxa-dxa}return dxa}_setEndings(jxa,kxa,lxa){const mxa=this._interpolantSettings;lxa?(mxa.endingStart=2401,mxa.endingEnd=2401):(jxa?mxa.endingStart=this.zeroSlopeAtStart?2401:2400:mxa.endingStart=2402,kxa?mxa.endingEnd=this.zeroSlopeAtEnd?2401:2400:mxa.endingEnd=2402)}_scheduleFading(nxa,oxa,pxa){const qxa=this._mixer,rxa=qxa.time;let sxa=this._weightInterpolant;null===sxa&&(sxa=qxa._lendControlInterpolant(),this._weightInterpolant=sxa);const txa=sxa.parameterPositions,uxa=sxa.sampleValues;return txa[0]=rxa,uxa[0]=oxa,txa[1]=rxa+nxa,uxa[1]=pxa,this}}(class extends sg{constructor(vxa){super(),this._root=vxa,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(wxa,xxa){const yxa=wxa._localRoot||this._root,zxa=wxa._clip.tracks,Axa=zxa.length,Bxa=wxa._propertyBindings,Cxa=wxa._interpolants,Dxa=yxa.uuid,Exa=this._bindingsByRootAndName;let Fxa=Exa[Dxa];void 0===Fxa&&(Fxa={},Exa[Dxa]=Fxa);for(let Gxa=0;Gxa!==Axa;++Gxa){const Hxa=zxa[Gxa],Ixa=Hxa.name;let Jxa=Fxa[Ixa];if(void 0!==Jxa)Bxa[Gxa]=Jxa;else{if(void 0!==(Jxa=Bxa[Gxa])){null===Jxa._cacheIndex&&(++Jxa.referenceCount,this._addInactiveBinding(Jxa,Dxa,Ixa));continue}const Kxa=xxa&&xxa._propertyBindings[Gxa].binding.parsedPath;Jxa=new Sqa(tsa.create(yxa,Ixa,Kxa),Hxa.ValueTypeName,Hxa.getValueSize()),++Jxa.referenceCount,this._addInactiveBinding(Jxa,Dxa,Ixa),Bxa[Gxa]=Jxa}Cxa[Gxa].resultBuffer=Jxa.buffer}}_activateAction(Lxa){if(!this._isActiveAction(Lxa)){if(null===Lxa._cacheIndex){const Mxa=(Lxa._localRoot||this._root).uuid,Nxa=Lxa._clip.uuid,Oxa=this._actionsByClip[Nxa];this._bindAction(Lxa,Oxa&&Oxa.knownActions[0]),this._addInactiveAction(Lxa,Nxa,Mxa)}const Pxa=Lxa._propertyBindings;for(let Qxa=0,Rxa=Pxa.length;Qxa!==Rxa;++Qxa){const Sxa=Pxa[Qxa];0==Sxa.useCount++&&(this._lendBinding(Sxa),Sxa.saveOriginalState())}this._lendAction(Lxa)}}_deactivateAction(Txa){if(this._isActiveAction(Txa)){const Uxa=Txa._propertyBindings;for(let Vxa=0,Wxa=Uxa.length;Vxa!==Wxa;++Vxa){const Xxa=Uxa[Vxa];0== --Xxa.useCount&&(Xxa.restoreOriginalState(),this._takeBackBinding(Xxa))}this._takeBackAction(Txa)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0,this.stats={actions:{get total(){return this._actions.length},get inUse(){return this._nActiveActions}},bindings:{get total(){return this._bindings.length},get inUse(){return this._nActiveBindings}},controlInterpolants:{get total(){return this._controlInterpolants.length},get inUse(){return this._nActiveControlInterpolants}}}}_isActiveAction(Yxa){const Zxa=Yxa._cacheIndex;return null!==Zxa&&Zxa<this._nActiveActions}_addInactiveAction($xa,_xa,aya){const bya=this._actions,cya=this._actionsByClip;let dya=cya[_xa];if(void 0===dya)dya={knownActions:[$xa],actionByRoot:{}},$xa._byClipCacheIndex=0,cya[_xa]=dya;else{const eya=dya.knownActions;$xa._byClipCacheIndex=eya.length,eya.push($xa)}$xa._cacheIndex=bya.length,bya.push($xa),dya.actionByRoot[aya]=$xa}_removeInactiveAction(fya){const gya=this._actions,hya=gya[gya.length-1],iya=fya._cacheIndex;hya._cacheIndex=iya,gya[iya]=hya,gya.pop(),fya._cacheIndex=null;const jya=fya._clip.uuid,kya=this._actionsByClip,lya=kya[jya],mya=lya.knownActions,nya=mya[mya.length-1],oya=fya._byClipCacheIndex;nya._byClipCacheIndex=oya,mya[oya]=nya,mya.pop(),fya._byClipCacheIndex=null;const pya=lya.actionByRoot,qya=(fya._localRoot||this._root).uuid;delete pya[qya],0===mya.length&&delete kya[jya],this._removeInactiveBindingsForAction(fya)}_removeInactiveBindingsForAction(rya){const sya=rya._propertyBindings;for(let tya=0,uya=sya.length;tya!==uya;++tya){const vya=sya[tya];0== --vya.referenceCount&&this._removeInactiveBinding(vya)}}_lendAction(wya){const xya=this._actions,yya=wya._cacheIndex,zya=this._nActiveActions++,Aya=xya[zya];wya._cacheIndex=zya,xya[zya]=wya,Aya._cacheIndex=yya,xya[yya]=Aya}_takeBackAction(Bya){const Cya=this._actions,Dya=Bya._cacheIndex,Eya=--this._nActiveActions,Fya=Cya[Eya];Bya._cacheIndex=Eya,Cya[Eya]=Bya,Fya._cacheIndex=Dya,Cya[Dya]=Fya}_addInactiveBinding(Gya,Hya,Iya){const Jya=this._bindingsByRootAndName,Kya=this._bindings;let Lya=Jya[Hya];void 0===Lya&&(Lya={},Jya[Hya]=Lya),Lya[Iya]=Gya,Gya._cacheIndex=Kya.length,Kya.push(Gya)}_removeInactiveBinding(Mya){const Nya=this._bindings,Oya=Mya.binding,Pya=Oya.rootNode.uuid,Qya=Oya.path,Rya=this._bindingsByRootAndName,Sya=Rya[Pya],Tya=Nya[Nya.length-1],Uya=Mya._cacheIndex;Tya._cacheIndex=Uya,Nya[Uya]=Tya,Nya.pop(),delete Sya[Qya],0===Object.keys(Sya).length&&delete Rya[Pya]}_lendBinding(Vya){const Wya=this._bindings,Xya=Vya._cacheIndex,Yya=this._nActiveBindings++,Zya=Wya[Yya];Vya._cacheIndex=Yya,Wya[Yya]=Vya,Zya._cacheIndex=Xya,Wya[Xya]=Zya}_takeBackBinding($ya){const _ya=this._bindings,aza=$ya._cacheIndex,bza=--this._nActiveBindings,cza=_ya[bza];$ya._cacheIndex=bza,_ya[bza]=$ya,cza._cacheIndex=aza,_ya[aza]=cza}_lendControlInterpolant(){const dza=this._controlInterpolants,eza=this._nActiveControlInterpolants++;let fza=dza[eza];return void 0===fza&&((fza=new hja(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=eza,dza[eza]=fza),fza}_takeBackControlInterpolant(gza){const hza=this._controlInterpolants,iza=gza.__cacheIndex,jza=--this._nActiveControlInterpolants,kza=hza[jza];gza.__cacheIndex=jza,hza[jza]=gza,kza.__cacheIndex=iza,hza[iza]=kza}clipAction(lza,mza,nza){const oza=mza||this._root,pza=oza.uuid;let qza="string"==typeof lza?kla.findByName(oza,lza):lza;const rza=null!==qza?qza.uuid:lza,sza=this._actionsByClip[rza];let tza=null;if(void 0===nza&&(nza=null!==qza?qza.blendMode:2500),void 0!==sza){const uza=sza.actionByRoot[pza];if(void 0!==uza&&uza.blendMode===nza)return uza;tza=sza.knownActions[0],null===qza&&(qza=tza._clip)}if(null===qza)return null;const vza=new Sva(this,qza,mza,nza);return this._bindAction(vza,tza),this._addInactiveAction(vza,rza,pza),vza}existingAction(wza,xza){const yza=xza||this._root,zza=yza.uuid,Aza="string"==typeof wza?kla.findByName(yza,wza):wza,Bza=Aza?Aza.uuid:wza,Cza=this._actionsByClip[Bza];return void 0!==Cza?Cza.actionByRoot[zza]||null:null}stopAllAction(){const Dza=this._actions,Eza=this._nActiveActions;for(let Fza=Eza-1;Fza>=0;--Fza)Dza[Fza].stop();return this}update(Gza){Gza*=this.timeScale;const Hza=this._actions,Iza=this._nActiveActions,Jza=this.time+=Gza,Kza=Math.sign(Gza),Lza=this._accuIndex^=1;for(let Mza=0;Mza!==Iza;++Mza){const Nza=Hza[Mza];Nza._update(Jza,Gza,Kza,Lza)}const Oza=this._bindings,Pza=this._nActiveBindings;for(let Qza=0;Qza!==Pza;++Qza)Oza[Qza].apply(Lza);return this}setTime(Rza){this.time=0;for(let Sza=0;Sza<this._actions.length;Sza++)this._actions[Sza].time=0;return this.update(Rza)}getRoot(){return this._root}uncacheClip(Tza){const Uza=this._actions,Vza=Tza.uuid,Wza=this._actionsByClip,Xza=Wza[Vza];if(void 0!==Xza){const Yza=Xza.knownActions;for(let Zza=0,$za=Yza.length;Zza!==$za;++Zza){const _za=Yza[Zza];this._deactivateAction(_za);const aAa=_za._cacheIndex,bAa=Uza[Uza.length-1];_za._cacheIndex=null,_za._byClipCacheIndex=null,bAa._cacheIndex=aAa,Uza[aAa]=bAa,Uza.pop(),this._removeInactiveBindingsForAction(_za)}delete Wza[Vza]}}uncacheRoot(cAa){const dAa=cAa.uuid,eAa=this._actionsByClip;for(const fAa in eAa){const gAa=eAa[fAa].actionByRoot,hAa=gAa[dAa];void 0!==hAa&&(this._deactivateAction(hAa),this._removeInactiveAction(hAa))}const iAa=this._bindingsByRootAndName,jAa=iAa[dAa];if(void 0!==jAa)for(const kAa in jAa){const lAa=jAa[kAa];lAa.restoreOriginalState(),this._removeInactiveBinding(lAa)}}uncacheAction(mAa,nAa){const oAa=this.existingAction(mAa,nAa);null!==oAa&&(this._deactivateAction(oAa),this._removeInactiveAction(oAa))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class pAa{constructor(qAa){"string"==typeof qAa&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),qAa=arguments[1]),this.value=qAa}clone(){return new pAa(void 0===this.value.clone?this.value:this.value.clone())}}function rAa(a,b,c,d){if(a.layers.test(b.layers)&&a.raycast(b,c),!0===d){const e=a.children;for(let f=0,g=e.length;f<g;f++)rAa(e[f],b,c,!0)}}(class extends cZ{constructor(sAa,tAa,uAa=1){super(sAa,tAa),this.meshPerAttribute=uAa}copy(vAa){return super.copy(vAa),this.meshPerAttribute=vAa.meshPerAttribute,this}clone(wAa){const xAa=super.clone(wAa);return xAa.meshPerAttribute=this.meshPerAttribute,xAa}toJSON(yAa){const zAa=super.toJSON(yAa);return zAa.isInstancedInterleavedBuffer=!0,zAa.meshPerAttribute=this.meshPerAttribute,zAa}}).prototype.isInstancedInterleavedBuffer=!0,(class{constructor(AAa,BAa,CAa,DAa,EAa){this.buffer=AAa,this.type=BAa,this.itemSize=CAa,this.elementSize=DAa,this.count=EAa,this.version=0}set needsUpdate(FAa){!0===FAa&&this.version++}setBuffer(GAa){return this.buffer=GAa,this}setType(HAa,IAa){return this.type=HAa,this.elementSize=IAa,this}setItemSize(JAa){return this.itemSize=JAa,this}setCount(KAa){return this.count=KAa,this}}).prototype.isGLBufferAttribute=!0;class LAa{constructor(MAa=1,NAa=0,OAa=0){return this.radius=MAa,this.phi=NAa,this.theta=OAa,this}set(PAa,QAa,RAa){return this.radius=PAa,this.phi=QAa,this.theta=RAa,this}copy(SAa){return this.radius=SAa.radius,this.phi=SAa.phi,this.theta=SAa.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(TAa){return this.setFromCartesianCoords(TAa.x,TAa.y,TAa.z)}setFromCartesianCoords(UAa,VAa,WAa){return this.radius=Math.sqrt(UAa*UAa+VAa*VAa+WAa*WAa),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(UAa,WAa),this.phi=Math.acos(Qg(VAa/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const XAa=new Xg();class YAa{constructor(ZAa=new Xg(Infinity,Infinity),$Aa=new Xg(-1/0,-1/0)){this.min=ZAa,this.max=$Aa}set(_Aa,aBa){return this.min.copy(_Aa),this.max.copy(aBa),this}setFromPoints(bBa){this.makeEmpty();for(let cBa=0,dBa=bBa.length;cBa<dBa;cBa++)this.expandByPoint(bBa[cBa]);return this}setFromCenterAndSize(eBa,fBa){const gBa=XAa.copy(fBa).multiplyScalar(.5);return this.min.copy(eBa).sub(gBa),this.max.copy(eBa).add(gBa),this}clone(){return new this.constructor().copy(this)}copy(hBa){return this.min.copy(hBa.min),this.max.copy(hBa.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(iBa){return this.isEmpty()?iBa.set(0,0):iBa.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(jBa){return this.isEmpty()?jBa.set(0,0):jBa.subVectors(this.max,this.min)}expandByPoint(kBa){return this.min.min(kBa),this.max.max(kBa),this}expandByVector(lBa){return this.min.sub(lBa),this.max.add(lBa),this}expandByScalar(mBa){return this.min.addScalar(-mBa),this.max.addScalar(mBa),this}containsPoint(nBa){return!(nBa.x<this.min.x)&&!(nBa.x>this.max.x)&&!(nBa.y<this.min.y)&&!(nBa.y>this.max.y)}containsBox(oBa){return this.min.x<=oBa.min.x&&oBa.max.x<=this.max.x&&this.min.y<=oBa.min.y&&oBa.max.y<=this.max.y}getParameter(pBa,qBa){return qBa.set((pBa.x-this.min.x)/(this.max.x-this.min.x),(pBa.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(rBa){return!(rBa.max.x<this.min.x)&&!(rBa.min.x>this.max.x)&&!(rBa.max.y<this.min.y)&&!(rBa.min.y>this.max.y)}clampPoint(sBa,tBa){return tBa.copy(sBa).clamp(this.min,this.max)}distanceToPoint(uBa){const vBa=XAa.copy(uBa).clamp(this.min,this.max);return vBa.sub(uBa).length()}intersect(wBa){return this.min.max(wBa.min),this.max.min(wBa.max),this}union(xBa){return this.min.min(xBa.min),this.max.max(xBa.max),this}translate(yBa){return this.min.add(yBa),this.max.add(yBa),this}equals(zBa){return zBa.min.equals(this.min)&&zBa.max.equals(this.max)}}YAa.prototype.isBox2=!0;const ABa=new Jp(),BBa=new Jp(),CBa=new Jp(),DBa=new Jp(),EBa=new Wv(),FBa=new Wv();function GBa(a){const b=[];a&&a.isBone&&b.push(a);for(let c=0;c<a.children.length;c++)b.push.apply(b,GBa(a.children[c]));return b}new Jp(),new gG(),new gG(),new Jp(),new Jp(),new Jp(),new Jp(),new UO(),new ns(),new Jp();const HBa=new Float32Array(1);new Int32Array(HBa.buffer),T4.create=function(a,b){return console.log("THREE.Curve.create() has been deprecated"),a.prototype=Object.create(T4.prototype),a.prototype.constructor=a,a.prototype.getPoint=b,a},daa.prototype.fromPoints=function(a){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(a)},(class extends a2{constructor(IBa=10,JBa=10,KBa=4473924,LBa=8947848){KBa=new gG(KBa),LBa=new gG(LBa);const MBa=JBa/2,NBa=IBa/JBa,OBa=IBa/2,PBa=[],QBa=[];for(let RBa=0,SBa=0,TBa=-OBa;RBa<=JBa;RBa++,TBa+=NBa){PBa.push(-OBa,0,TBa,OBa,0,TBa),PBa.push(TBa,0,-OBa,TBa,0,OBa);const UBa=RBa===MBa?KBa:LBa;UBa.toArray(QBa,SBa),SBa+=3,UBa.toArray(QBa,SBa),SBa+=3,UBa.toArray(QBa,SBa),SBa+=3,UBa.toArray(QBa,SBa),SBa+=3}const VBa=new zJ();VBa.setAttribute("position",new oJ(PBa,3)),VBa.setAttribute("color",new oJ(QBa,3));const WBa=new Z0({vertexColors:!0,toneMapped:!1});super(VBa,WBa),this.type="GridHelper"}}).prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},(class extends a2{constructor(XBa){const YBa=GBa(XBa),ZBa=new zJ(),$Ba=[],_Ba=[],aCa=new gG(0,0,1),bCa=new gG(0,1,0);for(let cCa=0;cCa<YBa.length;cCa++){const dCa=YBa[cCa];dCa.parent&&dCa.parent.isBone&&($Ba.push(0,0,0),$Ba.push(0,0,0),_Ba.push(aCa.r,aCa.g,aCa.b),_Ba.push(bCa.r,bCa.g,bCa.b))}ZBa.setAttribute("position",new oJ($Ba,3)),ZBa.setAttribute("color",new oJ(_Ba,3));const eCa=new Z0({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(ZBa,eCa),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=XBa,this.bones=YBa,this.matrix=XBa.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(fCa){const gCa=this.bones,hCa=this.geometry,iCa=hCa.getAttribute("position");FBa.copy(this.root.matrixWorld).invert();for(let jCa=0,kCa=0;jCa<gCa.length;jCa++){const lCa=gCa[jCa];lCa.parent&&lCa.parent.isBone&&(EBa.multiplyMatrices(FBa,lCa.matrixWorld),DBa.setFromMatrixPosition(EBa),iCa.setXYZ(kCa,DBa.x,DBa.y,DBa.z),EBa.multiplyMatrices(FBa,lCa.parent.matrixWorld),DBa.setFromMatrixPosition(EBa),iCa.setXYZ(kCa+1,DBa.x,DBa.y,DBa.z),kCa+=2)}hCa.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(fCa)}}).prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Uma.prototype.extractUrlBase=function(a){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),bqa.extractUrlBase(a)},Uma.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},YAa.prototype.center=function(a){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(a)},YAa.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},YAa.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},YAa.prototype.size=function(a){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(a)},ns.prototype.center=function(a){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(a)},ns.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ns.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},ns.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)},ns.prototype.size=function(a){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(a)},Tt.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},pR.prototype.setFromMatrix=function(a){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(a)},(class{constructor(mCa=new Jp(),nCa=new Jp()){this.start=mCa,this.end=nCa}set(oCa,pCa){return this.start.copy(oCa),this.end.copy(pCa),this}copy(qCa){return this.start.copy(qCa.start),this.end.copy(qCa.end),this}getCenter(rCa){return rCa.addVectors(this.start,this.end).multiplyScalar(.5)}delta(sCa){return sCa.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(tCa,uCa){return this.delta(uCa).multiplyScalar(tCa).add(this.start)}closestPointToPointParameter(vCa,wCa){ABa.subVectors(vCa,this.start),BBa.subVectors(this.end,this.start);const xCa=BBa.dot(BBa),yCa=BBa.dot(ABa);let zCa=yCa/xCa;return wCa&&(zCa=Qg(zCa,0,1)),zCa}closestPointToPoint(ACa,BCa,CCa){const DCa=this.closestPointToPointParameter(ACa,BCa);return this.delta(CCa).multiplyScalar(DCa).add(this.start)}applyMatrix4(ECa){return this.start.applyMatrix4(ECa),this.end.applyMatrix4(ECa),this}equals(FCa){return FCa.start.equals(this.start)&&FCa.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}).prototype.center=function(a){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(a)},mi.prototype.flattenToArrayOffset=function(a,b){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,b)},mi.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},mi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},mi.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},mi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},mi.prototype.getInverse=function(a){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()},Wv.prototype.extractPosition=function(a){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(a)},Wv.prototype.flattenToArrayOffset=function(a,b){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,b)},Wv.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Jp().setFromMatrixColumn(this,3)},Wv.prototype.setRotationFromQuaternion=function(a){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(a)},Wv.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Wv.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},Wv.prototype.multiplyVector4=function(a){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},Wv.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Wv.prototype.rotateAxis=function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),a.transformDirection(this)},Wv.prototype.crossVector=function(a){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},Wv.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Wv.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Wv.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Wv.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Wv.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Wv.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},Wv.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Wv.prototype.makeFrustum=function(a,b,c,d,e,f){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(a,b,d,c,e,f)},Wv.prototype.getInverse=function(a){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()},CQ.prototype.isIntersectionLine=function(a){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(a)},an.prototype.multiplyVector3=function(a){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),a.applyQuaternion(this)},an.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Cu.prototype.isIntersectionBox=function(a){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},Cu.prototype.isIntersectionPlane=function(a){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(a)},Cu.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)},hE.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},hE.prototype.barycoordFromPoint=function(a,b){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(a,b)},hE.prototype.midpoint=function(a){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(a)},hE.prototypenormal=function(a){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(a)},hE.prototype.plane=function(a){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(a)},hE.barycoordFromPoint=function(a,b,c,d,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),hE.getBarycoord(a,b,c,d,e)},hE.normal=function(a,b,c,d){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),hE.getNormal(a,b,c,d)},mba.prototype.extractAllPoints=function(a){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(a)},mba.prototype.extrude=function(a){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Bca(this,a)},mba.prototype.makeGeometry=function(a){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new iea(this,a)},Xg.prototype.fromAttribute=function(a,b,c){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,b,c)},Xg.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)},Xg.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Jp.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Jp.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Jp.prototype.getPositionFromMatrix=function(a){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(a)},Jp.prototype.getScaleFromMatrix=function(a){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(a)},Jp.prototype.getColumnFromMatrix=function(a,b){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(b,a)},Jp.prototype.applyProjection=function(a){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(a)},Jp.prototype.fromAttribute=function(a,b,c){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,b,c)},Jp.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)},Jp.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Uk.prototype.fromAttribute=function(a,b,c){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,b,c)},Uk.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},$B.prototype.getChildByName=function(a){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(a)},$B.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},$B.prototype.translate=function(a,b){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(b,a)},$B.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},$B.prototype.applyMatrix=function(a){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)},Object.defineProperties($B.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),iN.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(iN.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Y$.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},aP.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==b&&(this.filmGauge=b),this.setFocalLength(a)},Object.defineProperties(Sna.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=a}}}),Object.defineProperties(GH.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),GH.prototype.setDynamic=function(a){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===a?35048:35044),this},GH.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},GH.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},zJ.prototype.addIndex=function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(a)},zJ.prototype.addAttribute=function(a,b){return(console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute)?"index"===a?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),this):this.setAttribute(a,b):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new GH(arguments[1],arguments[2])))},zJ.prototype.addDrawCall=function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(a,b)},zJ.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},zJ.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},zJ.prototype.removeAttribute=function(a){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(a)},zJ.prototype.applyMatrix=function(a){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)},Object.defineProperties(zJ.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),cZ.prototype.setDynamic=function(a){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===a?35048:35044),this},cZ.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Bca.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Bca.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Bca.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},ZY.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},pAa.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(KF.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new gG()}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===a}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(a){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=a}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(KO.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=a}}}),RY.prototype.clearTarget=function(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(a),this.clear(b,c,d)},RY.prototype.animate=function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(a)},RY.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},RY.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},RY.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},RY.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},RY.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},RY.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},RY.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},RY.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},RY.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},RY.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},RY.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},RY.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},RY.prototype.enableScissorTest=function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(a)},RY.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},RY.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},RY.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},RY.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},RY.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},RY.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},RY.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},RY.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},RY.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},RY.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(RY.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===a?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(wX.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Bm.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=a}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=a}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=a}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=a}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=a}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=a}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=a}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=a}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=a}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=a}}}),(class extends $B{constructor(GCa){super(),this.type="Audio",this.listener=GCa,this.context=GCa.context,this.gain=this.context.createGain(),this.gain.connect(GCa.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(HCa){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=HCa,this.connect(),this}setMediaElementSource(ICa){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(ICa),this.connect(),this}setMediaStreamSource(JCa){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(JCa),this.connect(),this}setBuffer(KCa){return this.buffer=KCa,this.sourceType="buffer",this.autoplay&&this.play(),this}play(LCa=0){if(!0===this.isPlaying){console.warn("THREE.Audio: Audio is already playing.");return}if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+LCa;const MCa=this.context.createBufferSource();return MCa.buffer=this.buffer,MCa.loop=this.loop,MCa.loopStart=this.loopStart,MCa.loopEnd=this.loopEnd,MCa.onended=this.onEnded.bind(this),MCa.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=MCa,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let NCa=1,OCa=this.filters.length;NCa<OCa;NCa++)this.filters[NCa-1].connect(this.filters[NCa]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let PCa=1,QCa=this.filters.length;PCa<QCa;PCa++)this.filters[PCa-1].disconnect(this.filters[PCa]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(RCa){return RCa||(RCa=[]),!0===this._connected?(this.disconnect(),this.filters=RCa.slice(),this.connect()):this.filters=RCa.slice(),this}setDetune(SCa){if(this.detune=SCa,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(TCa){return this.setFilters(TCa?[TCa]:[])}setPlaybackRate(UCa){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=UCa,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(VCa){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=VCa,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(WCa){return this.loopStart=WCa,this}setLoopEnd(XCa){return this.loopEnd=XCa,this}getVolume(){return this.gain.gain.value}setVolume(YCa){return this.gain.gain.setTargetAtTime(YCa,this.context.currentTime,.01),this}}).prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const b=this,c=new zqa();return c.load(a,function(a){b.setBuffer(a)}),this},(class{constructor(ZCa,$Ca=2048){this.analyser=ZCa.context.createAnalyser(),this.analyser.fftSize=$Ca,this.data=new Uint8Array(this.analyser.frequencyBinCount),ZCa.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _Ca=0;const aDa=this.getFrequencyData();for(let bDa=0;bDa<aDa.length;bDa++)_Ca+=aDa[bDa];return _Ca/aDa.length}}).prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},BP.prototype.updateCubeMap=function(a,b){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(a,b)},BP.prototype.clear=function(a,b,c,d){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(a,b,c,d)},tk.crossOrigin=void 0,tk.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const e=new Kna();e.setCrossOrigin(this.crossOrigin);const f=e.load(a,c,void 0,d);return b&&(f.mapping=b),f},tk.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const e=new zna();e.setCrossOrigin(this.crossOrigin);const f=e.load(a,c,void 0,d);return b&&(f.mapping=b),f},tk.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},tk.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"135"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="135");const cDa={type:"change"},dDa={type:"start"},eDa={type:"end"};class fDa extends sg{constructor(gDa,hDa){super(),void 0===hDa&&console.warn("THREE.OrbitControls: The second parameter \"domElement\" is now mandatory."),hDa===document&&console.error("THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead."),this.object=gDa,this.domElement=hDa,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Jp(),this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return mDa.phi},this.getAzimuthalAngle=function(){return mDa.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",$Da),this._domElementKeyEvents=a},this.saveState=function(){iDa.target0.copy(iDa.target),iDa.position0.copy(iDa.object.position),iDa.zoom0=iDa.object.zoom},this.reset=function(){iDa.target.copy(iDa.target0),iDa.object.position.copy(iDa.position0),iDa.object.zoom=iDa.zoom0,iDa.object.updateProjectionMatrix(),iDa.dispatchEvent(cDa),iDa.update(),kDa=jDa.NONE},this.update=(function(){const a=new Jp(),b=new an().setFromUnitVectors(gDa.up,new Jp(0,1,0)),c=b.clone().invert(),d=new Jp(),e=new an(),f=2*Math.PI;return function(){const g=iDa.object.position;a.copy(g).sub(iDa.target),a.applyQuaternion(b),mDa.setFromVector3(a),iDa.autoRotate&&kDa===jDa.NONE&&EDa(CDa()),iDa.enableDamping?(mDa.theta+=nDa.theta*iDa.dampingFactor,mDa.phi+=nDa.phi*iDa.dampingFactor):(mDa.theta+=nDa.theta,mDa.phi+=nDa.phi);let h=iDa.minAzimuthAngle,i=iDa.maxAzimuthAngle;return isFinite(h)&&isFinite(i)&&(h< -Math.PI?h+=f:h>Math.PI&&(h-=f),i< -Math.PI?i+=f:i>Math.PI&&(i-=f),h<=i?mDa.theta=Math.max(h,Math.min(i,mDa.theta)):mDa.theta=mDa.theta>(h+i)/2?Math.max(h,mDa.theta):Math.min(i,mDa.theta)),mDa.phi=Math.max(iDa.minPolarAngle,Math.min(iDa.maxPolarAngle,mDa.phi)),mDa.makeSafe(),mDa.radius*=oDa,mDa.radius=Math.max(iDa.minDistance,Math.min(iDa.maxDistance,mDa.radius)),!0===iDa.enableDamping?iDa.target.addScaledVector(pDa,iDa.dampingFactor):iDa.target.add(pDa),a.setFromSpherical(mDa),a.applyQuaternion(c),g.copy(iDa.target).add(a),iDa.object.lookAt(iDa.target),!0===iDa.enableDamping?(nDa.theta*=1-iDa.dampingFactor,nDa.phi*=1-iDa.dampingFactor,pDa.multiplyScalar(1-iDa.dampingFactor)):(nDa.set(0,0,0),pDa.set(0,0,0)),oDa=1,!!(qDa||d.distanceToSquared(iDa.object.position)>lDa||8*(1-e.dot(iDa.object.quaternion))>lDa)&&(iDa.dispatchEvent(cDa),d.copy(iDa.object.position),e.copy(iDa.object.quaternion),qDa=!1,!0)}})(),this.dispose=function(){iDa.domElement.removeEventListener("contextmenu",bEa),iDa.domElement.removeEventListener("pointerdown",TDa),iDa.domElement.removeEventListener("pointercancel",WDa),iDa.domElement.removeEventListener("wheel",ZDa),iDa.domElement.removeEventListener("pointermove",UDa),iDa.domElement.removeEventListener("pointerup",VDa),null!==iDa._domElementKeyEvents&&iDa._domElementKeyEvents.removeEventListener("keydown",$Da)};const iDa=this,jDa={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let kDa=jDa.NONE;const lDa=1e-6,mDa=new LAa(),nDa=new LAa();let oDa=1;const pDa=new Jp();let qDa=!1;const rDa=new Xg(),sDa=new Xg(),tDa=new Xg(),uDa=new Xg(),vDa=new Xg(),wDa=new Xg(),xDa=new Xg(),yDa=new Xg(),zDa=new Xg(),ADa=[],BDa={};function CDa(){return 2*Math.PI/60/60*iDa.autoRotateSpeed}function DDa(){return Math.pow(.95,iDa.zoomSpeed)}function EDa(a){nDa.theta-=a}function FDa(a){nDa.phi-=a}const GDa=function(){const a=new Jp();return function(b,c){a.setFromMatrixColumn(c,0),a.multiplyScalar(-b),pDa.add(a)}}(),HDa=function(){const a=new Jp();return function(b,c){!0===iDa.screenSpacePanning?a.setFromMatrixColumn(c,1):(a.setFromMatrixColumn(c,0),a.crossVectors(iDa.object.up,a)),a.multiplyScalar(b),pDa.add(a)}}(),IDa=function(){const a=new Jp();return function(b,c){const d=iDa.domElement;if(iDa.object.isPerspectiveCamera){const e=iDa.object.position;a.copy(e).sub(iDa.target);let f=a.length();GDa(2*b*(f*=Math.tan(iDa.object.fov/2*Math.PI/180))/d.clientHeight,iDa.object.matrix),HDa(2*c*f/d.clientHeight,iDa.object.matrix)}else iDa.object.isOrthographicCamera?(GDa(b*(iDa.object.right-iDa.object.left)/iDa.object.zoom/d.clientWidth,iDa.object.matrix),HDa(c*(iDa.object.top-iDa.object.bottom)/iDa.object.zoom/d.clientHeight,iDa.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),iDa.enablePan=!1)}}();function JDa(a){iDa.object.isPerspectiveCamera?oDa/=a:iDa.object.isOrthographicCamera?(iDa.object.zoom=Math.max(iDa.minZoom,Math.min(iDa.maxZoom,iDa.object.zoom*a)),iDa.object.updateProjectionMatrix(),qDa=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),iDa.enableZoom=!1)}function KDa(a){iDa.object.isPerspectiveCamera?oDa*=a:iDa.object.isOrthographicCamera?(iDa.object.zoom=Math.max(iDa.minZoom,Math.min(iDa.maxZoom,iDa.object.zoom/a)),iDa.object.updateProjectionMatrix(),qDa=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),iDa.enableZoom=!1)}function LDa(a){rDa.set(a.clientX,a.clientY)}function MDa(a){uDa.set(a.clientX,a.clientY)}function NDa(){if(1===ADa.length)rDa.set(ADa[0].pageX,ADa[0].pageY);else{const a=.5*(ADa[0].pageX+ADa[1].pageX),b=.5*(ADa[0].pageY+ADa[1].pageY);rDa.set(a,b)}}function ODa(){if(1===ADa.length)uDa.set(ADa[0].pageX,ADa[0].pageY);else{const a=.5*(ADa[0].pageX+ADa[1].pageX),b=.5*(ADa[0].pageY+ADa[1].pageY);uDa.set(a,b)}}function PDa(){const a=ADa[0].pageX-ADa[1].pageX,b=ADa[0].pageY-ADa[1].pageY;xDa.set(0,Math.sqrt(a*a+b*b))}function QDa(a){if(1==ADa.length)sDa.set(a.pageX,a.pageY);else{const b=fEa(a),c=.5*(a.pageX+b.x),d=.5*(a.pageY+b.y);sDa.set(c,d)}tDa.subVectors(sDa,rDa).multiplyScalar(iDa.rotateSpeed);const e=iDa.domElement;EDa(2*Math.PI*tDa.x/e.clientHeight),FDa(2*Math.PI*tDa.y/e.clientHeight),rDa.copy(sDa)}function RDa(a){if(1===ADa.length)vDa.set(a.pageX,a.pageY);else{const b=fEa(a),c=.5*(a.pageX+b.x),d=.5*(a.pageY+b.y);vDa.set(c,d)}wDa.subVectors(vDa,uDa).multiplyScalar(iDa.panSpeed),IDa(wDa.x,wDa.y),uDa.copy(vDa)}function SDa(a){const b=fEa(a),c=a.pageX-b.x,d=a.pageY-b.y;yDa.set(0,Math.sqrt(c*c+d*d)),zDa.set(0,Math.pow(yDa.y/xDa.y,iDa.zoomSpeed)),JDa(zDa.y),xDa.copy(yDa)}function TDa(a){!1!==iDa.enabled&&(0===ADa.length&&(iDa.domElement.setPointerCapture(a.pointerId),iDa.domElement.addEventListener("pointermove",UDa),iDa.domElement.addEventListener("pointerup",VDa)),cEa(a),"touch"===a.pointerType?_Da(a):XDa(a))}function UDa(a){!1!==iDa.enabled&&("touch"===a.pointerType?aEa(a):YDa(a))}function VDa(a){dEa(a),0===ADa.length&&(iDa.domElement.releasePointerCapture(a.pointerId),iDa.domElement.removeEventListener("pointermove",UDa),iDa.domElement.removeEventListener("pointerup",VDa)),iDa.dispatchEvent(eDa),kDa=jDa.NONE}function WDa(a){dEa(a)}function XDa(a){let b;switch(a.button){case 0:b=iDa.mouseButtons.LEFT;break;case 1:b=iDa.mouseButtons.MIDDLE;break;case 2:b=iDa.mouseButtons.RIGHT;break;default:b=-1}switch(b){case 1:var c;if(!1===iDa.enableZoom)return;c=a,xDa.set(c.clientX,c.clientY),kDa=jDa.DOLLY;break;case 0:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===iDa.enablePan)return;MDa(a),kDa=jDa.PAN}else{if(!1===iDa.enableRotate)return;LDa(a),kDa=jDa.ROTATE}break;case 2:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===iDa.enableRotate)return;LDa(a),kDa=jDa.ROTATE}else{if(!1===iDa.enablePan)return;MDa(a),kDa=jDa.PAN}break;default:kDa=jDa.NONE}kDa!==jDa.NONE&&iDa.dispatchEvent(dDa)}function YDa(a){var b,c;if(!1!==iDa.enabled)switch(kDa){case jDa.ROTATE:if(!1===iDa.enableRotate)return;!function(a){sDa.set(a.clientX,a.clientY),tDa.subVectors(sDa,rDa).multiplyScalar(iDa.rotateSpeed);const b=iDa.domElement;EDa(2*Math.PI*tDa.x/b.clientHeight),FDa(2*Math.PI*tDa.y/b.clientHeight),rDa.copy(sDa),iDa.update()}(a);break;case jDa.DOLLY:if(!1===iDa.enableZoom)return;b=a,yDa.set(b.clientX,b.clientY),zDa.subVectors(yDa,xDa),zDa.y>0?JDa(DDa()):zDa.y<0&&KDa(DDa()),xDa.copy(yDa),iDa.update();break;case jDa.PAN:if(!1===iDa.enablePan)return;c=a,vDa.set(c.clientX,c.clientY),wDa.subVectors(vDa,uDa).multiplyScalar(iDa.panSpeed),IDa(wDa.x,wDa.y),uDa.copy(vDa),iDa.update();break}}function ZDa(a){if(!1!==iDa.enabled&& !1!==iDa.enableZoom&&kDa===jDa.NONE){var b;a.preventDefault(),iDa.dispatchEvent(dDa),(b=a).deltaY<0?KDa(DDa()):b.deltaY>0&&JDa(DDa()),iDa.update(),iDa.dispatchEvent(eDa)}}function $Da(a){!1!==iDa.enabled&& !1!==iDa.enablePan&&(function(a){let b=!1;switch(a.code){case iDa.keys.UP:IDa(0,iDa.keyPanSpeed),b=!0;break;case iDa.keys.BOTTOM:IDa(0,-iDa.keyPanSpeed),b=!0;break;case iDa.keys.LEFT:IDa(iDa.keyPanSpeed,0),b=!0;break;case iDa.keys.RIGHT:IDa(-iDa.keyPanSpeed,0),b=!0;break}b&&(a.preventDefault(),iDa.update())})(a)}function _Da(a){switch(eEa(a),ADa.length){case 1:switch(iDa.touches.ONE){case 0:if(!1===iDa.enableRotate)return;NDa(),kDa=jDa.TOUCH_ROTATE;break;case 1:if(!1===iDa.enablePan)return;ODa(),kDa=jDa.TOUCH_PAN;break;default:kDa=jDa.NONE}break;case 2:switch(iDa.touches.TWO){case 2:if(!1===iDa.enableZoom&& !1===iDa.enablePan)return;iDa.enableZoom&&PDa(),iDa.enablePan&&ODa(),kDa=jDa.TOUCH_DOLLY_PAN;break;case 3:if(!1===iDa.enableZoom&& !1===iDa.enableRotate)return;iDa.enableZoom&&PDa(),iDa.enableRotate&&NDa(),kDa=jDa.TOUCH_DOLLY_ROTATE;break;default:kDa=jDa.NONE}break;default:kDa=jDa.NONE}kDa!==jDa.NONE&&iDa.dispatchEvent(dDa)}function aEa(a){var b,c;switch(eEa(a),kDa){case jDa.TOUCH_ROTATE:if(!1===iDa.enableRotate)return;QDa(a),iDa.update();break;case jDa.TOUCH_PAN:if(!1===iDa.enablePan)return;RDa(a),iDa.update();break;case jDa.TOUCH_DOLLY_PAN:if(!1===iDa.enableZoom&& !1===iDa.enablePan)return;b=a,iDa.enableZoom&&SDa(b),iDa.enablePan&&RDa(b),iDa.update();break;case jDa.TOUCH_DOLLY_ROTATE:if(!1===iDa.enableZoom&& !1===iDa.enableRotate)return;c=a,iDa.enableZoom&&SDa(c),iDa.enableRotate&&QDa(c),iDa.update();break;default:kDa=jDa.NONE}}function bEa(a){!1!==iDa.enabled&&a.preventDefault()}function cEa(a){ADa.push(a)}function dEa(a){delete BDa[a.pointerId];for(let b=0;b<ADa.length;b++)if(ADa[b].pointerId==a.pointerId){ADa.splice(b,1);return}}function eEa(a){let b=BDa[a.pointerId];void 0===b&&(b=new Xg(),BDa[a.pointerId]=b),b.set(a.pageX,a.pageY)}function fEa(a){const b=a.pointerId===ADa[0].pointerId?ADa[1]:ADa[0];return BDa[b.pointerId]}iDa.domElement.addEventListener("contextmenu",bEa),iDa.domElement.addEventListener("pointerdown",TDa),iDa.domElement.addEventListener("pointercancel",WDa),iDa.domElement.addEventListener("wheel",ZDa,{passive:!1}),this.update()}}class gEa extends Uma{constructor(hEa){super(hEa),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new tFa(a)}),this.register(function(a){return new HGa(a)}),this.register(function(a){return new QGa(a)}),this.register(function(a){return new FFa(a)}),this.register(function(a){return new QFa(a)}),this.register(function(a){return new _Fa(a)}),this.register(function(a){return new lGa(a)}),this.register(function(a){return new vGa(a)}),this.register(function(a){return new PEa(a)}),this.register(function(a){return new _Ga(a)})}load(iEa,jEa,kEa,lEa){const mEa=this;let nEa;nEa=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:bqa.extractUrlBase(iEa),this.manager.itemStart(iEa);const oEa=function(a){lEa?lEa(a):console.error(a),mEa.manager.itemError(iEa),mEa.manager.itemEnd(iEa)},pEa=new dna(this.manager);pEa.setPath(this.path),pEa.setResponseType("arraybuffer"),pEa.setRequestHeader(this.requestHeader),pEa.setWithCredentials(this.withCredentials),pEa.load(iEa,function(a){try{mEa.parse(a,nEa,function(a){jEa(a),mEa.manager.itemEnd(iEa)},oEa)}catch(b){oEa(b)}},kEa,oEa)}setDRACOLoader(qEa){return this.dracoLoader=qEa,this}setDDSLoader(){throw new Error("THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".")}setKTX2Loader(rEa){return this.ktx2Loader=rEa,this}setMeshoptDecoder(sEa){return this.meshoptDecoder=sEa,this}register(tEa){return -1===this.pluginCallbacks.indexOf(tEa)&&this.pluginCallbacks.push(tEa),this}unregister(uEa){return -1!==this.pluginCallbacks.indexOf(uEa)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(uEa),1),this}parse(vEa,wEa,xEa,yEa){let zEa;const AEa={},BEa={};if("string"==typeof vEa)zEa=vEa;else{const CEa=bqa.decodeText(new Uint8Array(vEa,0,4));if(CEa===hHa){try{AEa[OEa.KHR_BINARY_GLTF]=new jHa(vEa)}catch(DEa){yEa&&yEa(DEa);return}zEa=AEa[OEa.KHR_BINARY_GLTF].content}else zEa=bqa.decodeText(new Uint8Array(vEa))}const EEa=JSON.parse(zEa);if(void 0===EEa.asset||EEa.asset.version[0]<2){yEa&&yEa(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const FEa=new IIa(EEa,{path:wEa||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});FEa.fileLoader.setRequestHeader(this.requestHeader);for(let GEa=0;GEa<this.pluginCallbacks.length;GEa++){const HEa=this.pluginCallbacks[GEa](FEa);BEa[HEa.name]=HEa,AEa[HEa.name]=!0}if(EEa.extensionsUsed)for(let IEa=0;IEa<EEa.extensionsUsed.length;++IEa){const JEa=EEa.extensionsUsed[IEa],KEa=EEa.extensionsRequired||[];switch(JEa){case OEa.KHR_MATERIALS_UNLIT:AEa[JEa]=new mFa();break;case OEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:AEa[JEa]=new SHa();break;case OEa.KHR_DRACO_MESH_COMPRESSION:AEa[JEa]=new tHa(EEa,this.dracoLoader);break;case OEa.KHR_TEXTURE_TRANSFORM:AEa[JEa]=new LHa();break;case OEa.KHR_MESH_QUANTIZATION:AEa[JEa]=new aIa();break;default:KEa.indexOf(JEa)>=0&& void 0===BEa[JEa]&&console.warn("THREE.GLTFLoader: Unknown extension \""+JEa+"\".")}}FEa.setExtensions(AEa),FEa.setPlugins(BEa),FEa.parse(xEa,yEa)}parseAsync(LEa,MEa){const NEa=this;return new Promise(function(a,b){NEa.parse(LEa,MEa,a,b)})}}const OEa={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class PEa{constructor(QEa){this.parser=QEa,this.name=OEa.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const REa=this.parser,SEa=this.parser.json.nodes||[];for(let TEa=0,UEa=SEa.length;TEa<UEa;TEa++){const VEa=SEa[TEa];VEa.extensions&&VEa.extensions[this.name]&& void 0!==VEa.extensions[this.name].light&&REa._addNodeRef(this.cache,VEa.extensions[this.name].light)}}_loadLight(WEa){const XEa=this.parser,YEa="light:"+WEa;let ZEa=XEa.cache.get(YEa);if(ZEa)return ZEa;const $Ea=XEa.json,_Ea=$Ea.extensions&&$Ea.extensions[this.name]||{},aFa=_Ea.lights||[],bFa=aFa[WEa];let cFa;const dFa=new gG(16777215);void 0!==bFa.color&&dFa.fromArray(bFa.color);const eFa=void 0!==bFa.range?bFa.range:0;switch(bFa.type){case"directional":(cFa=new Soa(dFa)).target.position.set(0,0,-1),cFa.add(cFa.target);break;case"point":(cFa=new Koa(dFa)).distance=eFa;break;case"spot":(cFa=new soa(dFa)).distance=eFa,bFa.spot=bFa.spot||{},bFa.spot.innerConeAngle=void 0!==bFa.spot.innerConeAngle?bFa.spot.innerConeAngle:0,bFa.spot.outerConeAngle=void 0!==bFa.spot.outerConeAngle?bFa.spot.outerConeAngle:Math.PI/4,cFa.angle=bFa.spot.outerConeAngle,cFa.penumbra=1-bFa.spot.innerConeAngle/bFa.spot.outerConeAngle,cFa.target.position.set(0,0,-1),cFa.add(cFa.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+bFa.type)}return cFa.position.set(0,0,0),cFa.decay=2,void 0!==bFa.intensity&&(cFa.intensity=bFa.intensity),cFa.name=XEa.createUniqueName(bFa.name||"light_"+WEa),ZEa=Promise.resolve(cFa),XEa.cache.add(YEa,ZEa),ZEa}createNodeAttachment(fFa){const gFa=this,hFa=this.parser,iFa=hFa.json,jFa=iFa.nodes[fFa],kFa=jFa.extensions&&jFa.extensions[this.name]||{},lFa=kFa.light;return void 0===lFa?null:this._loadLight(lFa).then(function(a){return hFa._getNodeRef(gFa.cache,lFa,a)})}}class mFa{constructor(){this.name=OEa.KHR_MATERIALS_UNLIT}getMaterialType(){return BH}extendParams(nFa,oFa,pFa){const qFa=[];nFa.color=new gG(1,1,1),nFa.opacity=1;const rFa=oFa.pbrMetallicRoughness;if(rFa){if(Array.isArray(rFa.baseColorFactor)){const sFa=rFa.baseColorFactor;nFa.color.fromArray(sFa),nFa.opacity=sFa[3]}void 0!==rFa.baseColorTexture&&qFa.push(pFa.assignTexture(nFa,"map",rFa.baseColorTexture))}return Promise.all(qFa)}}class tFa{constructor(uFa){this.parser=uFa,this.name=OEa.KHR_MATERIALS_CLEARCOAT}getMaterialType(vFa){const wFa=this.parser,xFa=wFa.json.materials[vFa];return xFa.extensions&&xFa.extensions[this.name]?Hha:null}extendMaterialParams(yFa,zFa){const AFa=this.parser,BFa=AFa.json.materials[yFa];if(!BFa.extensions||!BFa.extensions[this.name])return Promise.resolve();const CFa=[],DFa=BFa.extensions[this.name];if(void 0!==DFa.clearcoatFactor&&(zFa.clearcoat=DFa.clearcoatFactor),void 0!==DFa.clearcoatTexture&&CFa.push(AFa.assignTexture(zFa,"clearcoatMap",DFa.clearcoatTexture)),void 0!==DFa.clearcoatRoughnessFactor&&(zFa.clearcoatRoughness=DFa.clearcoatRoughnessFactor),void 0!==DFa.clearcoatRoughnessTexture&&CFa.push(AFa.assignTexture(zFa,"clearcoatRoughnessMap",DFa.clearcoatRoughnessTexture)),void 0!==DFa.clearcoatNormalTexture&&(CFa.push(AFa.assignTexture(zFa,"clearcoatNormalMap",DFa.clearcoatNormalTexture)),void 0!==DFa.clearcoatNormalTexture.scale)){const EFa=DFa.clearcoatNormalTexture.scale;zFa.clearcoatNormalScale=new Xg(EFa,EFa)}return Promise.all(CFa)}}class FFa{constructor(GFa){this.parser=GFa,this.name=OEa.KHR_MATERIALS_SHEEN}getMaterialType(HFa){const IFa=this.parser,JFa=IFa.json.materials[HFa];return JFa.extensions&&JFa.extensions[this.name]?Hha:null}extendMaterialParams(KFa,LFa){const MFa=this.parser,NFa=MFa.json.materials[KFa];if(!NFa.extensions||!NFa.extensions[this.name])return Promise.resolve();const OFa=[];LFa.sheenColor=new gG(0,0,0),LFa.sheenRoughness=0,LFa.sheen=1;const PFa=NFa.extensions[this.name];return void 0!==PFa.sheenColorFactor&&LFa.sheenColor.fromArray(PFa.sheenColorFactor),void 0!==PFa.sheenRoughnessFactor&&(LFa.sheenRoughness=PFa.sheenRoughnessFactor),void 0!==PFa.sheenColorTexture&&OFa.push(MFa.assignTexture(LFa,"sheenColorMap",PFa.sheenColorTexture)),void 0!==PFa.sheenRoughnessTexture&&OFa.push(MFa.assignTexture(LFa,"sheenRoughnessMap",PFa.sheenRoughnessTexture)),Promise.all(OFa)}}class QFa{constructor(RFa){this.parser=RFa,this.name=OEa.KHR_MATERIALS_TRANSMISSION}getMaterialType(SFa){const TFa=this.parser,UFa=TFa.json.materials[SFa];return UFa.extensions&&UFa.extensions[this.name]?Hha:null}extendMaterialParams(VFa,WFa){const XFa=this.parser,YFa=XFa.json.materials[VFa];if(!YFa.extensions||!YFa.extensions[this.name])return Promise.resolve();const ZFa=[],$Fa=YFa.extensions[this.name];return void 0!==$Fa.transmissionFactor&&(WFa.transmission=$Fa.transmissionFactor),void 0!==$Fa.transmissionTexture&&ZFa.push(XFa.assignTexture(WFa,"transmissionMap",$Fa.transmissionTexture)),Promise.all(ZFa)}}class _Fa{constructor(aGa){this.parser=aGa,this.name=OEa.KHR_MATERIALS_VOLUME}getMaterialType(bGa){const cGa=this.parser,dGa=cGa.json.materials[bGa];return dGa.extensions&&dGa.extensions[this.name]?Hha:null}extendMaterialParams(eGa,fGa){const gGa=this.parser,hGa=gGa.json.materials[eGa];if(!hGa.extensions||!hGa.extensions[this.name])return Promise.resolve();const iGa=[],jGa=hGa.extensions[this.name];fGa.thickness=void 0!==jGa.thicknessFactor?jGa.thicknessFactor:0,void 0!==jGa.thicknessTexture&&iGa.push(gGa.assignTexture(fGa,"thicknessMap",jGa.thicknessTexture)),fGa.attenuationDistance=jGa.attenuationDistance||0;const kGa=jGa.attenuationColor||[1,1,1];return fGa.attenuationColor=new gG(kGa[0],kGa[1],kGa[2]),Promise.all(iGa)}}class lGa{constructor(mGa){this.parser=mGa,this.name=OEa.KHR_MATERIALS_IOR}getMaterialType(nGa){const oGa=this.parser,pGa=oGa.json.materials[nGa];return pGa.extensions&&pGa.extensions[this.name]?Hha:null}extendMaterialParams(qGa,rGa){const sGa=this.parser,tGa=sGa.json.materials[qGa];if(!tGa.extensions||!tGa.extensions[this.name])return Promise.resolve();const uGa=tGa.extensions[this.name];return rGa.ior=void 0!==uGa.ior?uGa.ior:1.5,Promise.resolve()}}class vGa{constructor(wGa){this.parser=wGa,this.name=OEa.KHR_MATERIALS_SPECULAR}getMaterialType(xGa){const yGa=this.parser,zGa=yGa.json.materials[xGa];return zGa.extensions&&zGa.extensions[this.name]?Hha:null}extendMaterialParams(AGa,BGa){const CGa=this.parser,DGa=CGa.json.materials[AGa];if(!DGa.extensions||!DGa.extensions[this.name])return Promise.resolve();const EGa=[],FGa=DGa.extensions[this.name];BGa.specularIntensity=void 0!==FGa.specularFactor?FGa.specularFactor:1,void 0!==FGa.specularTexture&&EGa.push(CGa.assignTexture(BGa,"specularIntensityMap",FGa.specularTexture));const GGa=FGa.specularColorFactor||[1,1,1];return BGa.specularColor=new gG(GGa[0],GGa[1],GGa[2]),void 0!==FGa.specularColorTexture&&EGa.push(CGa.assignTexture(BGa,"specularColorMap",FGa.specularColorTexture).then(function(a){a.encoding=3001})),Promise.all(EGa)}}class HGa{constructor(IGa){this.parser=IGa,this.name=OEa.KHR_TEXTURE_BASISU}loadTexture(JGa){const KGa=this.parser,LGa=KGa.json,MGa=LGa.textures[JGa];if(!MGa.extensions||!MGa.extensions[this.name])return null;const NGa=MGa.extensions[this.name],OGa=LGa.images[NGa.source],PGa=KGa.options.ktx2Loader;if(!PGa){if(!(LGa.extensionsRequired&&LGa.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return KGa.loadTextureImage(JGa,OGa,PGa)}}class QGa{constructor(RGa){this.parser=RGa,this.name=OEa.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(SGa){const TGa=this.name,UGa=this.parser,VGa=UGa.json,WGa=VGa.textures[SGa];if(!WGa.extensions||!WGa.extensions[TGa])return null;const XGa=WGa.extensions[TGa],YGa=VGa.images[XGa.source];let ZGa=UGa.textureLoader;if(YGa.uri){const $Ga=UGa.options.manager.getHandler(YGa.uri);null!==$Ga&&(ZGa=$Ga)}return this.detectSupport().then(function(a){if(a)return UGa.loadTextureImage(SGa,YGa,ZGa);if(VGa.extensionsRequired&&VGa.extensionsRequired.indexOf(TGa)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return UGa.loadTexture(SGa)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(a){const b=new Image();b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",b.onload=b.onerror=function(){a(1===b.height)}})),this.isSupported}}class _Ga{constructor(aHa){this.name=OEa.EXT_MESHOPT_COMPRESSION,this.parser=aHa}loadBufferView(bHa){const cHa=this.parser.json,dHa=cHa.bufferViews[bHa];if(!dHa.extensions||!dHa.extensions[this.name])return null;{const eHa=dHa.extensions[this.name],fHa=this.parser.getDependency("buffer",eHa.buffer),gHa=this.parser.options.meshoptDecoder;if(!gHa||!gHa.supported){if(!(cHa.extensionsRequired&&cHa.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return Promise.all([fHa,gHa.ready]).then(function(a){const b=eHa.byteOffset||0,c=eHa.byteLength||0,d=eHa.count,e=eHa.byteStride,f=new ArrayBuffer(d*e),g=new Uint8Array(a[0],b,c);return gHa.decodeGltfBuffer(new Uint8Array(f),d,e,g,eHa.mode,eHa.filter),f})}}}const hHa="glTF",iHa=12;class jHa{constructor(kHa){this.name=OEa.KHR_BINARY_GLTF,this.content=null,this.body=null;const lHa=new DataView(kHa,0,iHa);if(this.header={magic:bqa.decodeText(new Uint8Array(kHa.slice(0,4))),version:lHa.getUint32(4,!0),length:lHa.getUint32(8,!0)},this.header.magic!==hHa)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const mHa=this.header.length-iHa,nHa=new DataView(kHa,iHa);let oHa=0;for(;oHa<mHa;){const pHa=nHa.getUint32(oHa,!0);oHa+=4;const qHa=nHa.getUint32(oHa,!0);if(oHa+=4,1313821514===qHa){const rHa=new Uint8Array(kHa,iHa+oHa,pHa);this.content=bqa.decodeText(rHa)}else if(5130562===qHa){const sHa=iHa+oHa;this.body=kHa.slice(sHa,sHa+pHa)}oHa+=pHa}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class tHa{constructor(uHa,vHa){if(!vHa)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=OEa.KHR_DRACO_MESH_COMPRESSION,this.json=uHa,this.dracoLoader=vHa,this.dracoLoader.preload()}decodePrimitive(wHa,xHa){const yHa=this.json,zHa=this.dracoLoader,AHa=wHa.extensions[this.name].bufferView,BHa=wHa.extensions[this.name].attributes,CHa={},DHa={},EHa={};for(const FHa in BHa){const GHa=xIa[FHa]||FHa.toLowerCase();CHa[GHa]=BHa[FHa]}for(const HHa in wHa.attributes){const IHa=xIa[HHa]||HHa.toLowerCase();if(void 0!==BHa[HHa]){const JHa=yHa.accessors[wHa.attributes[HHa]],KHa=tIa[JHa.componentType];EHa[IHa]=KHa,DHa[IHa]=!0===JHa.normalized}}return xHa.getDependency("bufferView",AHa).then(function(a){return new Promise(function(b){zHa.decodeDracoFile(a,function(a){for(const c in a.attributes){const d=a.attributes[c],e=DHa[c];void 0!==e&&(d.normalized=e)}b(a)},CHa,EHa)})})}}class LHa{constructor(){this.name=OEa.KHR_TEXTURE_TRANSFORM}extendTexture(MHa,NHa){return void 0!==NHa.texCoord&&console.warn("THREE.GLTFLoader: Custom UV sets in \""+this.name+"\" extension not yet supported."),void 0===NHa.offset&& void 0===NHa.rotation&& void 0===NHa.scale||(MHa=MHa.clone(),void 0!==NHa.offset&&MHa.offset.fromArray(NHa.offset),void 0!==NHa.rotation&&(MHa.rotation=NHa.rotation),void 0!==NHa.scale&&MHa.repeat.fromArray(NHa.scale),MHa.needsUpdate=!0),MHa}}class OHa extends Eha{constructor(PHa){super(),this.isGLTFSpecularGlossinessMaterial=!0;const QHa={specular:{value:new gG().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=QHa,this.onBeforeCompile=function(a){for(const b in QHa)a.uniforms[b]=QHa[b];a.fragmentShader=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>","#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif").replace("#include <metalnessmap_pars_fragment>","#ifdef USE_GLOSSINESSMAP\n\tuniform sampler2D glossinessMap;\n#endif").replace("#include <roughnessmap_fragment>","vec3 specularFactor = specular;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\ttexelSpecular = sRGBToLinear( texelSpecular );\n\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tspecularFactor *= texelSpecular.rgb;\n#endif").replace("#include <metalnessmap_fragment>","float glossinessFactor = glossiness;\n#ifdef USE_GLOSSINESSMAP\n\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\n\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tglossinessFactor *= texelGlossiness.a;\n#endif").replace("#include <lights_physical_fragment>","PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\nmaterial.specularColor = specularFactor;")},Object.defineProperties(this,{specular:{get:function(){return QHa.specular.value},set:function(a){QHa.specular.value=a}},specularMap:{get:function(){return QHa.specularMap.value},set:function(a){QHa.specularMap.value=a,a?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return QHa.glossiness.value},set:function(a){QHa.glossiness.value=a}},glossinessMap:{get:function(){return QHa.glossinessMap.value},set:function(a){QHa.glossinessMap.value=a,a?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(PHa)}copy(RHa){return super.copy(RHa),this.specularMap=RHa.specularMap,this.specular.copy(RHa.specular),this.glossinessMap=RHa.glossinessMap,this.glossiness=RHa.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class SHa{constructor(){this.name=OEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio",]}getMaterialType(){return OHa}extendParams(THa,UHa,VHa){const WHa=UHa.extensions[this.name];THa.color=new gG(1,1,1),THa.opacity=1;const XHa=[];if(Array.isArray(WHa.diffuseFactor)){const YHa=WHa.diffuseFactor;THa.color.fromArray(YHa),THa.opacity=YHa[3]}if(void 0!==WHa.diffuseTexture&&XHa.push(VHa.assignTexture(THa,"map",WHa.diffuseTexture)),THa.emissive=new gG(0,0,0),THa.glossiness=void 0!==WHa.glossinessFactor?WHa.glossinessFactor:1,THa.specular=new gG(1,1,1),Array.isArray(WHa.specularFactor)&&THa.specular.fromArray(WHa.specularFactor),void 0!==WHa.specularGlossinessTexture){const ZHa=WHa.specularGlossinessTexture;XHa.push(VHa.assignTexture(THa,"glossinessMap",ZHa)),XHa.push(VHa.assignTexture(THa,"specularMap",ZHa))}return Promise.all(XHa)}createMaterial($Ha){const _Ha=new OHa($Ha);return _Ha.fog=!0,_Ha.color=$Ha.color,_Ha.map=void 0===$Ha.map?null:$Ha.map,_Ha.lightMap=null,_Ha.lightMapIntensity=1,_Ha.aoMap=void 0===$Ha.aoMap?null:$Ha.aoMap,_Ha.aoMapIntensity=1,_Ha.emissive=$Ha.emissive,_Ha.emissiveIntensity=1,_Ha.emissiveMap=void 0===$Ha.emissiveMap?null:$Ha.emissiveMap,_Ha.bumpMap=void 0===$Ha.bumpMap?null:$Ha.bumpMap,_Ha.bumpScale=1,_Ha.normalMap=void 0===$Ha.normalMap?null:$Ha.normalMap,_Ha.normalMapType=0,$Ha.normalScale&&(_Ha.normalScale=$Ha.normalScale),_Ha.displacementMap=null,_Ha.displacementScale=1,_Ha.displacementBias=0,_Ha.specularMap=void 0===$Ha.specularMap?null:$Ha.specularMap,_Ha.specular=$Ha.specular,_Ha.glossinessMap=void 0===$Ha.glossinessMap?null:$Ha.glossinessMap,_Ha.glossiness=$Ha.glossiness,_Ha.alphaMap=null,_Ha.envMap=void 0===$Ha.envMap?null:$Ha.envMap,_Ha.envMapIntensity=1,_Ha.refractionRatio=.98,_Ha}}class aIa{constructor(){this.name=OEa.KHR_MESH_QUANTIZATION}}class bIa extends eia{constructor(cIa,dIa,eIa,fIa){super(cIa,dIa,eIa,fIa)}copySampleValue_(gIa){const hIa=this.resultBuffer,iIa=this.sampleValues,jIa=this.valueSize,kIa=gIa*jIa*3+jIa;for(let lIa=0;lIa!==jIa;lIa++)hIa[lIa]=iIa[kIa+lIa];return hIa}}bIa.prototype.beforeStart_=bIa.prototype.copySampleValue_,bIa.prototype.afterEnd_=bIa.prototype.copySampleValue_,bIa.prototype.interpolate_=function(a,b,c,d){const e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=2*g,i=3*g,j=d-b,k=(c-b)/j,l=k*k,m=l*k,n=a*i,o=n-i,p=-2*m+3*l,q=m-l,r=1-p,s=q-l+k;for(let t=0;t!==g;t++){const u=f[o+t+g],v=f[o+t+h]*j,w=f[n+t+g],x=f[n+t]*j;e[t]=r*u+s*v+p*w+q*x}return e};const mIa=new an();class nIa extends bIa{interpolate_(oIa,pIa,qIa,rIa){const sIa=super.interpolate_(oIa,pIa,qIa,rIa);return mIa.fromArray(sIa).normalize().toArray(sIa),sIa}}const tIa={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},uIa={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},vIa={33071:1001,33648:1002,10497:1e3},wIa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xIa={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yIa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},zIa={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},AIa={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function BIa(a){return void 0===a.DefaultMaterial&&(a.DefaultMaterial=new Eha({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),a.DefaultMaterial}function CIa(a,b,c){for(const d in c.extensions)void 0===a[d]&&(b.userData.gltfExtensions=b.userData.gltfExtensions||{},b.userData.gltfExtensions[d]=c.extensions[d])}function DIa(a,b){void 0!==b.extras&&("object"==typeof b.extras?Object.assign(a.userData,b.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+b.extras))}function EIa(a,b){if(a.updateMorphTargets(),void 0!==b.weights)for(let c=0,d=b.weights.length;c<d;c++)a.morphTargetInfluences[c]=b.weights[c];if(b.extras&&Array.isArray(b.extras.targetNames)){const e=b.extras.targetNames;if(a.morphTargetInfluences.length===e.length){a.morphTargetDictionary={};for(let f=0,g=e.length;f<g;f++)a.morphTargetDictionary[e[f]]=f}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function FIa(a){const b=a.extensions&&a.extensions[OEa.KHR_DRACO_MESH_COMPRESSION];return b?"draco:"+b.bufferView+":"+b.indices+":"+GIa(b.attributes):a.indices+":"+GIa(a.attributes)+":"+a.mode}function GIa(a){let b="";const c=Object.keys(a).sort();for(let d=0,e=c.length;d<e;d++)b+=c[d]+":"+a[c[d]]+";";return b}function HIa(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class IIa{constructor(JIa={},KIa={}){this.json=JIa,this.extensions={},this.plugins={},this.options=KIa,this.cache=new function(){let a={};return{get:function(b){return a[b]},add:function(b,c){a[b]=c},remove:function(b){delete a[b]},removeAll:function(){a={}}}}(),this.associations=new Map(),this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&& !1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new nqa(this.options.manager):this.textureLoader=new Kna(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new dna(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(LIa){this.extensions=LIa}setPlugins(MIa){this.plugins=MIa}parse(NIa,OIa){const PIa=this,QIa=this.json,RIa=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([PIa.getDependencies("scene"),PIa.getDependencies("animation"),PIa.getDependencies("camera"),])}).then(function(a){const b={scene:a[0][QIa.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:QIa.asset,parser:PIa,userData:{}};CIa(RIa,b,QIa),DIa(b,QIa),Promise.all(PIa._invokeAll(function(a){return a.afterRoot&&a.afterRoot(b)})).then(function(){NIa(b)})}).catch(OIa)}_markDefs(){const SIa=this.json.nodes||[],TIa=this.json.skins||[],UIa=this.json.meshes||[];for(let VIa=0,WIa=TIa.length;VIa<WIa;VIa++){const XIa=TIa[VIa].joints;for(let YIa=0,ZIa=XIa.length;YIa<ZIa;YIa++)SIa[XIa[YIa]].isBone=!0}for(let $Ia=0,_Ia=SIa.length;$Ia<_Ia;$Ia++){const aJa=SIa[$Ia];void 0!==aJa.mesh&&(this._addNodeRef(this.meshCache,aJa.mesh),void 0!==aJa.skin&&(UIa[aJa.mesh].isSkinnedMesh=!0)),void 0!==aJa.camera&&this._addNodeRef(this.cameraCache,aJa.camera)}}_addNodeRef(bJa,cJa){void 0!==cJa&&(void 0===bJa.refs[cJa]&&(bJa.refs[cJa]=bJa.uses[cJa]=0),bJa.refs[cJa]++)}_getNodeRef(dJa,eJa,fJa){if(dJa.refs[eJa]<=1)return fJa;const gJa=fJa.clone(),hJa=(a,b)=>{const c=this.associations.get(a);for(const[d,e]of(null!=c&&this.associations.set(b,c),a.children.entries()))hJa(e,b.children[d])};return hJa(fJa,gJa),gJa.name+="_instance_"+dJa.uses[eJa]++,gJa}_invokeOne(iJa){const jJa=Object.values(this.plugins);jJa.push(this);for(let kJa=0;kJa<jJa.length;kJa++){const lJa=iJa(jJa[kJa]);if(lJa)return lJa}return null}_invokeAll(mJa){const nJa=Object.values(this.plugins);nJa.unshift(this);const oJa=[];for(let pJa=0;pJa<nJa.length;pJa++){const qJa=mJa(nJa[pJa]);qJa&&oJa.push(qJa)}return oJa}getDependency(rJa,sJa){const tJa=rJa+":"+sJa;let uJa=this.cache.get(tJa);if(!uJa){switch(rJa){case"scene":uJa=this.loadScene(sJa);break;case"node":uJa=this.loadNode(sJa);break;case"mesh":uJa=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(sJa)});break;case"accessor":uJa=this.loadAccessor(sJa);break;case"bufferView":uJa=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(sJa)});break;case"buffer":uJa=this.loadBuffer(sJa);break;case"material":uJa=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(sJa)});break;case"texture":uJa=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(sJa)});break;case"skin":uJa=this.loadSkin(sJa);break;case"animation":uJa=this.loadAnimation(sJa);break;case"camera":uJa=this.loadCamera(sJa);break;default:throw new Error("Unknown type: "+rJa)}this.cache.add(tJa,uJa)}return uJa}getDependencies(vJa){let wJa=this.cache.get(vJa);if(!wJa){const xJa=this,yJa=this.json[vJa+("mesh"===vJa?"es":"s")]||[];wJa=Promise.all(yJa.map(function(a,b){return xJa.getDependency(vJa,b)})),this.cache.add(vJa,wJa)}return wJa}loadBuffer(zJa){const AJa=this.json.buffers[zJa],BJa=this.fileLoader;if(AJa.type&&"arraybuffer"!==AJa.type)throw new Error("THREE.GLTFLoader: "+AJa.type+" buffer type is not supported.");if(void 0===AJa.uri&&0===zJa)return Promise.resolve(this.extensions[OEa.KHR_BINARY_GLTF].body);const CJa=this.options;return new Promise(function(a,b){BJa.load(bqa.resolveURL(AJa.uri,CJa.path),a,void 0,function(){b(new Error("THREE.GLTFLoader: Failed to load buffer \""+AJa.uri+"\"."))})})}loadBufferView(DJa){const EJa=this.json.bufferViews[DJa];return this.getDependency("buffer",EJa.buffer).then(function(a){const b=EJa.byteLength||0,c=EJa.byteOffset||0;return a.slice(c,c+b)})}loadAccessor(FJa){const GJa=this,HJa=this.json,IJa=this.json.accessors[FJa];if(void 0===IJa.bufferView&& void 0===IJa.sparse)return Promise.resolve(null);const JJa=[];return void 0!==IJa.bufferView?JJa.push(this.getDependency("bufferView",IJa.bufferView)):JJa.push(null),void 0!==IJa.sparse&&(JJa.push(this.getDependency("bufferView",IJa.sparse.indices.bufferView)),JJa.push(this.getDependency("bufferView",IJa.sparse.values.bufferView))),Promise.all(JJa).then(function(a){const b=a[0],c=wIa[IJa.type],d=tIa[IJa.componentType],e=d.BYTES_PER_ELEMENT,f=IJa.byteOffset||0,g=void 0!==IJa.bufferView?HJa.bufferViews[IJa.bufferView].byteStride:void 0,h=!0===IJa.normalized;let i,j;if(g&&g!==e*c){const k=Math.floor(f/g),l="InterleavedBuffer:"+IJa.bufferView+":"+IJa.componentType+":"+k+":"+IJa.count;let m=GJa.cache.get(l);m||(i=new d(b,k*g,IJa.count*g/e),m=new cZ(i,g/e),GJa.cache.add(l,m)),j=new vZ(m,c,f%g/e,h)}else i=null===b?new d(IJa.count*c):new d(b,f,IJa.count*c),j=new GH(i,c,h);if(void 0!==IJa.sparse){const n=wIa.SCALAR,o=tIa[IJa.sparse.indices.componentType],p=IJa.sparse.indices.byteOffset||0,q=IJa.sparse.values.byteOffset||0,r=new o(a[1],p,IJa.sparse.count*n),s=new d(a[2],q,IJa.sparse.count*c);null!==b&&(j=new GH(j.array.slice(),j.itemSize,j.normalized));for(let t=0,u=r.length;t<u;t++){const v=r[t];if(j.setX(v,s[t*c]),c>=2&&j.setY(v,s[t*c+1]),c>=3&&j.setZ(v,s[t*c+2]),c>=4&&j.setW(v,s[t*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return j})}loadTexture(KJa){const LJa=this.json,MJa=this.options,NJa=LJa.textures[KJa],OJa=LJa.images[NJa.source];let PJa=this.textureLoader;if(OJa.uri){const QJa=MJa.manager.getHandler(OJa.uri);null!==QJa&&(PJa=QJa)}return this.loadTextureImage(KJa,OJa,PJa)}loadTextureImage(RJa,SJa,TJa){const UJa=this,VJa=this.json,WJa=this.options,XJa=VJa.textures[RJa],YJa=(SJa.uri||SJa.bufferView)+":"+XJa.sampler;if(this.textureCache[YJa])return this.textureCache[YJa];const ZJa=self.URL||self.webkitURL;let $Ja=SJa.uri||"",_Ja=!1;if(void 0!==SJa.bufferView)$Ja=UJa.getDependency("bufferView",SJa.bufferView).then(function(a){_Ja=!0;const b=new Blob([a],{type:SJa.mimeType});return $Ja=ZJa.createObjectURL(b)});else if(void 0===SJa.uri)throw new Error("THREE.GLTFLoader: Image "+RJa+" is missing URI and bufferView");const aKa=Promise.resolve($Ja).then(function(a){return new Promise(function(b,c){let d=b;!0===TJa.isImageBitmapLoader&&(d=function(a){const c=new yk(a);c.needsUpdate=!0,b(c)}),TJa.load(bqa.resolveURL(a,WJa.path),d,void 0,c)})}).then(function(a){!0===_Ja&&ZJa.revokeObjectURL($Ja),a.flipY=!1,XJa.name&&(a.name=XJa.name);const b=VJa.samplers||{},c=b[XJa.sampler]||{};return a.magFilter=uIa[c.magFilter]||1006,a.minFilter=uIa[c.minFilter]||1008,a.wrapS=vIa[c.wrapS]||1e3,a.wrapT=vIa[c.wrapT]||1e3,UJa.associations.set(a,{textures:RJa}),a}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",$Ja),null});return this.textureCache[YJa]=aKa,aKa}assignTexture(bKa,cKa,dKa){const eKa=this;return this.getDependency("texture",dKa.index).then(function(a){if(void 0===dKa.texCoord||0==dKa.texCoord||"aoMap"===cKa&&1==dKa.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+dKa.texCoord+" for texture "+cKa+" not yet supported."),eKa.extensions[OEa.KHR_TEXTURE_TRANSFORM]){const b=void 0!==dKa.extensions?dKa.extensions[OEa.KHR_TEXTURE_TRANSFORM]:void 0;if(b){const c=eKa.associations.get(a);a=eKa.extensions[OEa.KHR_TEXTURE_TRANSFORM].extendTexture(a,b),eKa.associations.set(a,c)}}return bKa[cKa]=a,a})}assignFinalMaterial(fKa){const gKa=fKa.geometry;let hKa=fKa.material;const iKa=void 0===gKa.attributes.tangent,jKa=void 0!==gKa.attributes.color,kKa=void 0===gKa.attributes.normal;if(fKa.isPoints){const lKa="PointsMaterial:"+hKa.uuid;let mKa=this.cache.get(lKa);mKa||(mKa=new l2(),KF.prototype.copy.call(mKa,hKa),mKa.color.copy(hKa.color),mKa.map=hKa.map,mKa.sizeAttenuation=!1,this.cache.add(lKa,mKa)),hKa=mKa}else if(fKa.isLine){const nKa="LineBasicMaterial:"+hKa.uuid;let oKa=this.cache.get(nKa);oKa||(oKa=new Z0(),KF.prototype.copy.call(oKa,hKa),oKa.color.copy(hKa.color),this.cache.add(nKa,oKa)),hKa=oKa}if(iKa||jKa||kKa){let pKa="ClonedMaterial:"+hKa.uuid+":";hKa.isGLTFSpecularGlossinessMaterial&&(pKa+="specular-glossiness:"),iKa&&(pKa+="derivative-tangents:"),jKa&&(pKa+="vertex-colors:"),kKa&&(pKa+="flat-shading:");let qKa=this.cache.get(pKa);qKa||(qKa=hKa.clone(),jKa&&(qKa.vertexColors=!0),kKa&&(qKa.flatShading=!0),iKa&&(qKa.normalScale&&(qKa.normalScale.y*=-1),qKa.clearcoatNormalScale&&(qKa.clearcoatNormalScale.y*=-1)),this.cache.add(pKa,qKa),this.associations.set(qKa,this.associations.get(hKa))),hKa=qKa}hKa.aoMap&& void 0===gKa.attributes.uv2&& void 0!==gKa.attributes.uv&&gKa.setAttribute("uv2",gKa.attributes.uv),fKa.material=hKa}getMaterialType(){return Eha}loadMaterial(rKa){const sKa=this,tKa=this.json,uKa=this.extensions,vKa=tKa.materials[rKa];let wKa;const xKa={},yKa=vKa.extensions||{},zKa=[];if(yKa[OEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const AKa=uKa[OEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];wKa=AKa.getMaterialType(),zKa.push(AKa.extendParams(xKa,vKa,sKa))}else if(yKa[OEa.KHR_MATERIALS_UNLIT]){const BKa=uKa[OEa.KHR_MATERIALS_UNLIT];wKa=BKa.getMaterialType(),zKa.push(BKa.extendParams(xKa,vKa,sKa))}else{const CKa=vKa.pbrMetallicRoughness||{};if(xKa.color=new gG(1,1,1),xKa.opacity=1,Array.isArray(CKa.baseColorFactor)){const DKa=CKa.baseColorFactor;xKa.color.fromArray(DKa),xKa.opacity=DKa[3]}void 0!==CKa.baseColorTexture&&zKa.push(sKa.assignTexture(xKa,"map",CKa.baseColorTexture)),xKa.metalness=void 0!==CKa.metallicFactor?CKa.metallicFactor:1,xKa.roughness=void 0!==CKa.roughnessFactor?CKa.roughnessFactor:1,void 0!==CKa.metallicRoughnessTexture&&(zKa.push(sKa.assignTexture(xKa,"metalnessMap",CKa.metallicRoughnessTexture)),zKa.push(sKa.assignTexture(xKa,"roughnessMap",CKa.metallicRoughnessTexture))),wKa=this._invokeOne(function(a){return a.getMaterialType&&a.getMaterialType(rKa)}),zKa.push(Promise.all(this._invokeAll(function(a){return a.extendMaterialParams&&a.extendMaterialParams(rKa,xKa)})))}!0===vKa.doubleSided&&(xKa.side=2);const EKa=vKa.alphaMode||AIa.OPAQUE;if(EKa===AIa.BLEND?(xKa.transparent=!0,xKa.depthWrite=!1):(xKa.format=1022,xKa.transparent=!1,EKa===AIa.MASK&&(xKa.alphaTest=void 0!==vKa.alphaCutoff?vKa.alphaCutoff:.5)),void 0!==vKa.normalTexture&&wKa!==BH&&(zKa.push(sKa.assignTexture(xKa,"normalMap",vKa.normalTexture)),xKa.normalScale=new Xg(1,1),void 0!==vKa.normalTexture.scale)){const FKa=vKa.normalTexture.scale;xKa.normalScale.set(FKa,FKa)}return void 0!==vKa.occlusionTexture&&wKa!==BH&&(zKa.push(sKa.assignTexture(xKa,"aoMap",vKa.occlusionTexture)),void 0!==vKa.occlusionTexture.strength&&(xKa.aoMapIntensity=vKa.occlusionTexture.strength)),void 0!==vKa.emissiveFactor&&wKa!==BH&&(xKa.emissive=new gG().fromArray(vKa.emissiveFactor)),void 0!==vKa.emissiveTexture&&wKa!==BH&&zKa.push(sKa.assignTexture(xKa,"emissiveMap",vKa.emissiveTexture)),Promise.all(zKa).then(function(){let a;return a=wKa===OHa?uKa[OEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(xKa):new wKa(xKa),vKa.name&&(a.name=vKa.name),a.map&&(a.map.encoding=3001),a.emissiveMap&&(a.emissiveMap.encoding=3001),DIa(a,vKa),sKa.associations.set(a,{materials:rKa}),vKa.extensions&&CIa(uKa,a,vKa),a})}createUniqueName(GKa){const HKa=tsa.sanitizeNodeName(GKa||"");let IKa=HKa;for(let JKa=1;this.nodeNamesUsed[IKa];++JKa)IKa=HKa+"_"+JKa;return this.nodeNamesUsed[IKa]=!0,IKa}loadGeometries(KKa){const LKa=this,MKa=this.extensions,NKa=this.primitiveCache;function OKa(a){return MKa[OEa.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,LKa).then(function(b){return WLa(b,a,LKa)})}const PKa=[];for(let QKa=0,RKa=KKa.length;QKa<RKa;QKa++){const SKa=KKa[QKa],TKa=FIa(SKa),UKa=NKa[TKa];if(UKa)PKa.push(UKa.promise);else{let VKa;VKa=SKa.extensions&&SKa.extensions[OEa.KHR_DRACO_MESH_COMPRESSION]?OKa(SKa):WLa(new zJ(),SKa,LKa),NKa[TKa]={primitive:SKa,promise:VKa},PKa.push(VKa)}}return Promise.all(PKa)}loadMesh(WKa){const XKa=this,YKa=this.json,ZKa=this.extensions,$Ka=YKa.meshes[WKa],_Ka=$Ka.primitives,aLa=[];for(let bLa=0,cLa=_Ka.length;bLa<cLa;bLa++){const dLa=void 0===_Ka[bLa].material?BIa(this.cache):this.getDependency("material",_Ka[bLa].material);aLa.push(dLa)}return aLa.push(XKa.loadGeometries(_Ka)),Promise.all(aLa).then(function(a){const b=a.slice(0,a.length-1),c=a[a.length-1],d=[];for(let e=0,f=c.length;e<f;e++){const g=c[e],h=_Ka[e];let i;const j=b[e];if(4===h.mode||5===h.mode||6===h.mode|| void 0===h.mode)!0!==(i=!0===$Ka.isSkinnedMesh?new Y$(g,j):new iN(g,j)).isSkinnedMesh||i.geometry.attributes.skinWeight.normalized||i.normalizeSkinWeights(),5===h.mode?i.geometry=XLa(i.geometry,1):6===h.mode&&(i.geometry=XLa(i.geometry,2));else if(1===h.mode)i=new a2(g,j);else if(3===h.mode)i=new f1(g,j);else if(2===h.mode)i=new i2(g,j);else if(0===h.mode)i=new s2(g,j);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);Object.keys(i.geometry.morphAttributes).length>0&&EIa(i,$Ka),i.name=XKa.createUniqueName($Ka.name||"mesh_"+WKa),DIa(i,$Ka),h.extensions&&CIa(ZKa,i,h),XKa.assignFinalMaterial(i),d.push(i)}for(let k=0,l=d.length;k<l;k++)XKa.associations.set(d[k],{meshes:WKa,primitives:k});if(1===d.length)return d[0];const m=new CX();XKa.associations.set(m,{meshes:WKa});for(let n=0,o=d.length;n<o;n++)m.add(d[n]);return m})}loadCamera(eLa){let fLa;const gLa=this.json.cameras[eLa],hLa=gLa[gLa.type];if(!hLa){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===gLa.type?fLa=new aP(Wg.radToDeg(hLa.yfov),hLa.aspectRatio||1,hLa.znear||1,hLa.zfar||2e6):"orthographic"===gLa.type&&(fLa=new $S(-hLa.xmag,hLa.xmag,hLa.ymag,-hLa.ymag,hLa.znear,hLa.zfar)),gLa.name&&(fLa.name=this.createUniqueName(gLa.name)),DIa(fLa,gLa),Promise.resolve(fLa)}loadSkin(iLa){const jLa=this.json.skins[iLa],kLa={joints:jLa.joints};return void 0===jLa.inverseBindMatrices?Promise.resolve(kLa):this.getDependency("accessor",jLa.inverseBindMatrices).then(function(a){return kLa.inverseBindMatrices=a,kLa})}loadAnimation(lLa){const mLa=this.json,nLa=mLa.animations[lLa],oLa=[],pLa=[],qLa=[],rLa=[],sLa=[];for(let tLa=0,uLa=nLa.channels.length;tLa<uLa;tLa++){const vLa=nLa.channels[tLa],wLa=nLa.samplers[vLa.sampler],xLa=vLa.target,yLa=void 0!==xLa.node?xLa.node:xLa.id,zLa=void 0!==nLa.parameters?nLa.parameters[wLa.input]:wLa.input,ALa=void 0!==nLa.parameters?nLa.parameters[wLa.output]:wLa.output;oLa.push(this.getDependency("node",yLa)),pLa.push(this.getDependency("accessor",zLa)),qLa.push(this.getDependency("accessor",ALa)),rLa.push(wLa),sLa.push(xLa)}return Promise.all([Promise.all(oLa),Promise.all(pLa),Promise.all(qLa),Promise.all(rLa),Promise.all(sLa)]).then(function(a){const b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=[];for(let h=0,i=b.length;h<i;h++){const j=b[h],k=c[h],l=d[h],m=e[h],n=f[h];if(void 0===j)continue;j.updateMatrix(),j.matrixAutoUpdate=!0;let o;switch(yIa[n.path]){case yIa.weights:o=Ska;break;case yIa.rotation:o=gla;break;case yIa.position:case yIa.scale:default:o=jla;break}const p=j.name?j.name:j.uuid,q=void 0!==m.interpolation?zIa[m.interpolation]:2301,r=[];yIa[n.path]===yIa.weights?j.traverse(function(a){a.morphTargetInfluences&&r.push(a.name?a.name:a.uuid)}):r.push(p);let s=l.array;if(l.normalized){const t=HIa(s.constructor),u=new Float32Array(s.length);for(let v=0,w=s.length;v<w;v++)u[v]=s[v]*t;s=u}for(let x=0,y=r.length;x<y;x++){const z=new o(r[x]+"."+yIa[n.path],k.array,s,q);"CUBICSPLINE"===m.interpolation&&(z.createInterpolant=function(a){const b=this instanceof gla?nIa:bIa;return new b(this.times,this.values,this.getValueSize()/3,a)},z.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(z)}}const A=nLa.name?nLa.name:"animation_"+lLa;return new kla(A,void 0,g)})}createNodeMesh(BLa){const CLa=this.json,DLa=this,ELa=CLa.nodes[BLa];return void 0===ELa.mesh?null:DLa.getDependency("mesh",ELa.mesh).then(function(a){const b=DLa._getNodeRef(DLa.meshCache,ELa.mesh,a);return void 0!==ELa.weights&&b.traverse(function(a){if(a.isMesh)for(let b=0,c=ELa.weights.length;b<c;b++)a.morphTargetInfluences[b]=ELa.weights[b]}),b})}loadNode(FLa){const GLa=this.json,HLa=this.extensions,ILa=this,JLa=GLa.nodes[FLa],KLa=JLa.name?ILa.createUniqueName(JLa.name):"";return(function(){const a=[],b=ILa._invokeOne(function(a){return a.createNodeMesh&&a.createNodeMesh(FLa)});return b&&a.push(b),void 0!==JLa.camera&&a.push(ILa.getDependency("camera",JLa.camera).then(function(a){return ILa._getNodeRef(ILa.cameraCache,JLa.camera,a)})),ILa._invokeAll(function(a){return a.createNodeAttachment&&a.createNodeAttachment(FLa)}).forEach(function(b){a.push(b)}),Promise.all(a)})().then(function(a){let b;if((b=!0===JLa.isBone?new p_():a.length>1?new CX():1===a.length?a[0]:new $B())!==a[0])for(let c=0,d=a.length;c<d;c++)b.add(a[c]);if(JLa.name&&(b.userData.name=JLa.name,b.name=KLa),DIa(b,JLa),JLa.extensions&&CIa(HLa,b,JLa),void 0!==JLa.matrix){const e=new Wv();e.fromArray(JLa.matrix),b.applyMatrix4(e)}else void 0!==JLa.translation&&b.position.fromArray(JLa.translation),void 0!==JLa.rotation&&b.quaternion.fromArray(JLa.rotation),void 0!==JLa.scale&&b.scale.fromArray(JLa.scale);return ILa.associations.has(b)||ILa.associations.set(b,{}),ILa.associations.get(b).nodes=FLa,b})}loadScene(LLa){const MLa=this.json,NLa=this.extensions,OLa=this.json.scenes[LLa],PLa=this,QLa=new CX();OLa.name&&(QLa.name=PLa.createUniqueName(OLa.name)),DIa(QLa,OLa),OLa.extensions&&CIa(NLa,QLa,OLa);const RLa=OLa.nodes||[],SLa=[];for(let TLa=0,ULa=RLa.length;TLa<ULa;TLa++)SLa.push(VLa(RLa[TLa],QLa,MLa,PLa));return Promise.all(SLa).then(function(){return PLa.associations=(a=>{const b=new Map();for(const[c,d]of PLa.associations)(c instanceof KF||c instanceof yk)&&b.set(c,d);return a.traverse(a=>{const c=PLa.associations.get(a);null!=c&&b.set(a,c)}),b})(QLa),QLa})}}function VLa(a,b,c,d){const e=c.nodes[a];return d.getDependency("node",a).then(function(a){if(void 0===e.skin)return a;let b;return d.getDependency("skin",e.skin).then(function(a){b=a;const c=[];for(let e=0,f=b.joints.length;e<f;e++)c.push(d.getDependency("node",b.joints[e]));return Promise.all(c)}).then(function(c){return a.traverse(function(a){if(!a.isMesh)return;const d=[],e=[];for(let f=0,g=c.length;f<g;f++){const h=c[f];if(h){d.push(h);const i=new Wv();void 0!==b.inverseBindMatrices&&i.fromArray(b.inverseBindMatrices.array,16*f),e.push(i)}else console.warn("THREE.GLTFLoader: Joint \"%s\" could not be found.",b.joints[f])}a.bind(new F_(d,e),a.matrixWorld)}),a})}).then(function(a){b.add(a);const f=[];if(e.children){const g=e.children;for(let h=0,i=g.length;h<i;h++){const j=g[h];f.push(VLa(j,a,c,d))}}return Promise.all(f)})}function WLa(a,b,c){const d=b.attributes,e=[];function f(b,d){return c.getDependency("accessor",b).then(function(b){a.setAttribute(d,b)})}for(const g in d){const h=xIa[g]||g.toLowerCase();h in a.attributes||e.push(f(d[g],h))}if(void 0!==b.indices&&!a.index){const i=c.getDependency("accessor",b.indices).then(function(b){a.setIndex(b)});e.push(i)}return DIa(a,b),!function(a,b,c){const d=b.attributes,e=new ns();if(void 0===d.POSITION)return;{const f=c.json.accessors[d.POSITION],g=f.min,h=f.max;if(void 0!==g&& void 0!==h){if(e.set(new Jp(g[0],g[1],g[2]),new Jp(h[0],h[1],h[2])),f.normalized){const i=HIa(tIa[f.componentType]);e.min.multiplyScalar(i),e.max.multiplyScalar(i)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}const j=b.targets;if(void 0!==j){const k=new Jp(),l=new Jp();for(let m=0,n=j.length;m<n;m++){const o=j[m];if(void 0!==o.POSITION){const p=c.json.accessors[o.POSITION],q=p.min,r=p.max;if(void 0!==q&& void 0!==r){if(l.setX(Math.max(Math.abs(q[0]),Math.abs(r[0]))),l.setY(Math.max(Math.abs(q[1]),Math.abs(r[1]))),l.setZ(Math.max(Math.abs(q[2]),Math.abs(r[2]))),p.normalized){const s=HIa(tIa[p.componentType]);l.multiplyScalar(s)}k.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}e.expandByVector(k)}a.boundingBox=e;const t=new Tt();e.getCenter(t.center),t.radius=e.min.distanceTo(e.max)/2,a.boundingSphere=t}(a,b,c),Promise.all(e).then(function(){return void 0!==b.targets?(function(a,b,c){let d=!1,e=!1;for(let f=0,g=b.length;f<g;f++){const h=b[f];if(void 0!==h.POSITION&&(d=!0),void 0!==h.NORMAL&&(e=!0),d&&e)break}if(!d&&!e)return Promise.resolve(a);const i=[],j=[];for(let k=0,l=b.length;k<l;k++){const m=b[k];if(d){const n=void 0!==m.POSITION?c.getDependency("accessor",m.POSITION):a.attributes.position;i.push(n)}if(e){const o=void 0!==m.NORMAL?c.getDependency("accessor",m.NORMAL):a.attributes.normal;j.push(o)}}return Promise.all([Promise.all(i),Promise.all(j)]).then(function(b){const c=b[0],f=b[1];return d&&(a.morphAttributes.position=c),e&&(a.morphAttributes.normal=f),a.morphTargetsRelative=!0,a})})(a,b.targets,c):a})}function XLa(a,b){let c=a.getIndex();if(null===c){const d=[],e=a.getAttribute("position");if(void 0===e)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a;for(let f=0;f<e.count;f++)d.push(f);a.setIndex(d),c=a.getIndex()}const g=c.count-2,h=[];if(2===b)for(let i=1;i<=g;i++)h.push(c.getX(0)),h.push(c.getX(i)),h.push(c.getX(i+1));else for(let j=0;j<g;j++)j%2==0?(h.push(c.getX(j)),h.push(c.getX(j+1)),h.push(c.getX(j+2))):(h.push(c.getX(j+2)),h.push(c.getX(j+1)),h.push(c.getX(j)));h.length/3!==g&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const k=a.clone();return k.setIndex(h),k}var YLa=function(){var a=(0,y.useRef)(),b=(0,y.useState)(!0),c=b[0],d=b[1],e=(0,y.useState)(),f=e[0],g=e[1],h=(0,y.useState)(),i=h[0],j=h[1],k=(0,y.useState)(new Jp(-0.5,1.2,0)),l=k[0],m=(0,y.useState)(new Jp(20*Math.sin(.2*Math.PI),10,20*Math.cos(.2*Math.PI))),n=m[0],o=(0,y.useState)(new ZY()),p=o[0],q=(0,y.useState)(),r=q[0],s=q[1],t=(0,y.useCallback)(function(){var b=a.current;if(b&&f){var c=b.clientWidth,d=b.clientHeight;f.setSize(c,d)}},[f]);return(0,y.useEffect)(function(){var b=a.current;if(b&&!f){var c=b.clientWidth,e=b.clientHeight,h=new RY({antialias:!0,alpha:!0});h.setPixelRatio(window.devicePixelRatio),h.setSize(c,e),h.outputEncoding=3001,b.appendChild(h.domElement),g(h);var i=.005*e+4.8,k=new $S(-i,i,i,-i,.01,5e4);k.position.copy(n),k.lookAt(l),j(k);var m=new Woa(4210752,1);p.add(m);var o=new fDa(k,h.domElement);o.autoRotate=!0,o.target=l,s(o),(function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{receiveShadow:!0,castShadow:!0},d=c.receiveShadow,e=c.castShadow;return new Promise(function(c,f){new gEa().load(b,function(b){var f=b.scene;f.name="computer",f.position.y=0,f.position.x=0,f.receiveShadow=d,f.castShadow=e,a.add(f),f.traverse(function(a){a.isMesh&&(a.castShadow=e,a.receiveShadow=d)}),c(f)},void 0,function(a){f(a)})})})(p,"/computer.glb",{receiveShadow:!1,castShadow:!1}).then(function(){t(),d(!1)});var q=null,r=0,t=function(){if(q=requestAnimationFrame(t),(r=r<=100?r+1:r)<=100){var a=n,b=-Math.sqrt(1-Math.pow(r/120-1,4))*Math.PI*20;k.position.y=10,k.position.x=a.x*Math.cos(b)+a.z*Math.sin(b),k.position.z=a.z*Math.cos(b)-a.x*Math.sin(b),k.lookAt(l)}else o.update();h.render(p,k)};return function(){cancelAnimationFrame(q),h.dispose()}}},[]),(0,y.useEffect)(function(){return window.addEventListener("resize",t,!1),function(){window.removeEventListener("resize",t)}},[f,t]),(0,x.jsx)(Gd.xu,{ref:a,className:"voxel-comp",m:"auto",mt:["-20px","-60px","-120px"],mb:["-40px","-140px","-200px"],w:[280,400,640],h:[280,400,640],position:"relative",children:c&&(0,x.jsx)(pg.$,{size:"xl",position:"absolute",left:"50%",top:"50%",ml:"calc(0px - var(--spinner-size) / 2",mt:"calc(0px - var(--spinner-size))"})})},ZLa=c(5152),$La=function(a){return(0,x.jsx)(x.Fragment,{children:a.children})},_La=(0,ZLa.default)(function(){return Promise.resolve($La)},{ssr:!1}),aMa=function(a){var b=a.children,c=a.router;return(0,x.jsxs)(Gd.xu,{as:"main",pb:8,children:[(0,x.jsxs)(Ed.default,{children:[(0,x.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,x.jsx)("title",{children:"Pedro Costa - Homepage"})]}),(0,x.jsx)(og,{path:c.asPath}),(0,x.jsxs)(Gd.W2,{maxW:"container.md",pt:14,children:[(0,x.jsx)(_La,{children:(0,x.jsx)(YLa,{})}),b]})]})},bMa=function(){return(0,x.jsx)(z.xB,{styles:"\n    @import url(\"https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c:wght@300;700&display=swap\");\n    "})},cMa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d,e=[].concat(b),f=b[b.length-1];return(d=f,(0,B.Kn)(d)&&Ad.every(function(a){return Object.prototype.hasOwnProperty.call(d,a)})&&e.length>1)?e=e.slice(0,e.length-1):f=Bd,B.zG.apply(void 0,e.map(function(a){return function(b){return(0,B.mf)(a)?a(b):(function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return ub().apply(void 0,[{}].concat(b,[Dd]))})(b,a)}}))(f)}({config:{initialColorMOde:"dark",useSystemColorMode:!0},styles:{global:function(a){return{body:{bg:Fa("#f0e7db","#202023")(a)}}}},components:{Heading:{variants:{"section-title":{textDecoration:"underline",fontSize:20,textUnderLineOfffset:6,textDecorationColor:"#525252",textDecorationThickeness:4,marginTop:3,marginBottom:4}}},Link:{baseStyle:function(a){return{color:Fa("#3d7aed","#ff63c3")(a),textUnderLineOfffset:3}}}},colors:{grassTeal:"#88ccca"},fonts:{heading:"'M PLUS Rounded 1c'"}}),dMa=c(655),eMa=c(9073),fMa=c(5411),gMa=c(240),hMa=c(6681),iMa=0;function jMa(){var a=iMa;return iMa++,a}var kMa=function(a){var b=a.children,c=a.initial,d=a.isPresent,e=a.onExitComplete,f=a.custom,g=a.presenceAffectsLayout,h=(0,hMa.h)(lMa),i=(0,hMa.h)(jMa),j=(0,y.useMemo)(function(){return{id:i,initial:c,isPresent:d,custom:f,onExitComplete:function(a){var b,c;h.set(a,!0);try{for(var d=(0,dMa.XA)(h.values()),f=d.next();!f.done;f=d.next())if(!f.value)return}catch(g){b={error:g}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}null==e||e()},register:function(a){return h.set(a,!1),function(){return h.delete(a)}}}},g?void 0:[d]);return(0,y.useMemo)(function(){h.forEach(function(a,b){return h.set(b,!1)})},[d]),y.useEffect(function(){d||h.size||null==e||e()},[d]),y.createElement(gMa.O.Provider,{value:j},b)};function lMa(){return new Map()}var mMa=c(5364);function nMa(a){return a.key||""}var oMa=function(a){var b,c,d,e,f,g=a.children,h=a.custom,i=a.initial,j=void 0===i||i,k=a.onExitComplete,l=a.exitBeforeEnter,m=a.presenceAffectsLayout,n=void 0===m||m,o=(0,dMa.CR)((b=(0,y.useRef)(!1),d=(c=(0,dMa.CR)((0,y.useState)(0),2))[0],e=c[1],(0,fMa.z)(function(){return b.current=!0}),f=(0,y.useCallback)(function(){b.current||e(d+1)},[d]),[(0,y.useCallback)(function(){return eMa.ZP.postRender(f)},[f]),d]),1),p=o[0],q=(0,y.useContext)(mMa.p).forceRender;q&&(p=q);var r=(0,y.useRef)(!0),s=(0,y.useRef)(!0);(0,y.useEffect)(function(){return function(){s.current=!1}},[]);var t,u,v=(t=g,u=[],y.Children.forEach(t,function(a){(0,y.isValidElement)(a)&&u.push(a)}),u),w=(0,y.useRef)(v),x=(0,y.useRef)(new Map()).current,z=(0,y.useRef)(new Set()).current;if(!function(a,b){a.forEach(function(a){var c=nMa(a);b.set(c,a)})}(v,x),r.current)return r.current=!1,y.createElement(y.Fragment,null,v.map(function(a){return y.createElement(kMa,{key:nMa(a),isPresent:!0,initial:!!j&&void 0,presenceAffectsLayout:n},a)}));for(var A=(0,dMa.ev)([],(0,dMa.CR)(v),!1),B=w.current.map(nMa),C=v.map(nMa),D=B.length,E=0;E<D;E++){var F=B[E];-1===C.indexOf(F)?z.add(F):z.delete(F)}return l&&z.size&&(A=[]),z.forEach(function(a){if(-1===C.indexOf(a)){var b=x.get(a);if(b){var c=B.indexOf(a),d=function(){x.delete(a),z.delete(a);var b=w.current.findIndex(function(b){return b.key===a});if(w.current.splice(b,1),!z.size){if(w.current=v,!1===s.current)return;p(),k&&k()}};A.splice(c,0,y.createElement(kMa,{key:nMa(b),isPresent:!1,onExitComplete:d,custom:h,presenceAffectsLayout:n},b))}}}),A=A.map(function(a){var b=a.key;return z.has(b)?a:y.createElement(kMa,{key:nMa(a),isPresent:!0,presenceAffectsLayout:n},a)}),w.current=A,y.createElement(y.Fragment,null,z.size?A:A.map(function(a){return(0,y.cloneElement)(a)}))};function pMa(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var qMa=function(a){var b=a.Component,c=a.pageProps,d=a.router;return(0,x.jsxs)(Cd,{theme:cMa,children:[(0,x.jsx)(bMa,{}),(0,x.jsx)(aMa,{router:d,children:(0,x.jsx)(oMa,{exitBeforeEnter:!0,initial:!0,children:(0,y.createElement)(b,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){pMa(a,b,c[b])})}return a}({},c,{key:d.route}))})})]})}},5152:function(a,b,c){a.exports=c(638)},9008:function(a,b,c){a.exports=c(5443)},1664:function(a,b,c){a.exports=c(8418)},9590:function(a){var b="undefined"!=typeof Element,c="function"==typeof Map,d="function"==typeof Set,e="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function f(a,g){if(a===g)return!0;if(a&&g&&"object"==typeof a&&"object"==typeof g){var h,i,j,k;if(a.constructor!==g.constructor)return!1;if(Array.isArray(a)){if((h=a.length)!=g.length)return!1;for(i=h;0!=i--;)if(!f(a[i],g[i]))return!1;return!0}if(c&&a instanceof Map&&g instanceof Map){if(a.size!==g.size)return!1;for(k=a.entries();!(i=k.next()).done;)if(!g.has(i.value[0]))return!1;for(k=a.entries();!(i=k.next()).done;)if(!f(i.value[1],g.get(i.value[0])))return!1;return!0}if(d&&a instanceof Set&&g instanceof Set){if(a.size!==g.size)return!1;for(k=a.entries();!(i=k.next()).done;)if(!g.has(i.value[0]))return!1;return!0}if(e&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(g)){if((h=a.length)!=g.length)return!1;for(i=h;0!=i--;)if(a[i]!==g[i])return!1;return!0}if(a.constructor===RegExp)return a.source===g.source&&a.flags===g.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===g.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===g.toString();if((h=(j=Object.keys(a)).length)!==Object.keys(g).length)return!1;for(i=h;0!=i--;)if(!Object.prototype.hasOwnProperty.call(g,j[i]))return!1;if(b&&a instanceof Element)return!1;for(i=h;0!=i--;)if(("_owner"!==j[i]&&"__v"!==j[i]&&"__o"!==j[i]||!a.$$typeof)&&!f(a[j[i]],g[j[i]]))return!1;return!0}return a!=a&&g!=g}a.exports=function(a,b){try{return f(a,b)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}}},9921:function(a,b){"use strict";var c="function"==typeof Symbol&&Symbol.for,d=c?Symbol.for("react.element"):60103,e=c?Symbol.for("react.portal"):60106,f=c?Symbol.for("react.fragment"):60107,g=c?Symbol.for("react.strict_mode"):60108,h=c?Symbol.for("react.profiler"):60114,i=c?Symbol.for("react.provider"):60109,j=c?Symbol.for("react.context"):60110,k=c?Symbol.for("react.async_mode"):60111,l=c?Symbol.for("react.concurrent_mode"):60111,m=c?Symbol.for("react.forward_ref"):60112,n=c?Symbol.for("react.suspense"):60113,o=c?Symbol.for("react.suspense_list"):60120,p=c?Symbol.for("react.memo"):60115,q=c?Symbol.for("react.lazy"):60116,r=c?Symbol.for("react.block"):60121,s=c?Symbol.for("react.fundamental"):60117,t=c?Symbol.for("react.responder"):60118,u=c?Symbol.for("react.scope"):60119;function v(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type){case k:case l:case f:case h:case g:case n:return a;default:switch(a=a&&a.$$typeof){case j:case m:case q:case p:case i:return a;default:return b}}case e:return b}}}function w(a){return v(a)===l}b.AsyncMode=k,b.ConcurrentMode=l,b.ContextConsumer=j,b.ContextProvider=i,b.Element=d,b.ForwardRef=m,b.Fragment=f,b.Lazy=q,b.Memo=p,b.Portal=e,b.Profiler=h,b.StrictMode=g,b.Suspense=n,b.isAsyncMode=function(a){return w(a)||v(a)===k},b.isConcurrentMode=w,b.isContextConsumer=function(a){return v(a)===j},b.isContextProvider=function(a){return v(a)===i},b.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===d},b.isForwardRef=function(a){return v(a)===m},b.isFragment=function(a){return v(a)===f},b.isLazy=function(a){return v(a)===q},b.isMemo=function(a){return v(a)===p},b.isPortal=function(a){return v(a)===e},b.isProfiler=function(a){return v(a)===h},b.isStrictMode=function(a){return v(a)===g},b.isSuspense=function(a){return v(a)===n},b.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===f||a===l||a===h||a===g||a===n||a===o||"object"==typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===i||a.$$typeof===j||a.$$typeof===m||a.$$typeof===s||a.$$typeof===t||a.$$typeof===u||a.$$typeof===r)},b.typeOf=v},9864:function(a,b,c){"use strict";a.exports=c(9921)},1742:function(a){a.exports=function(){var a=document.getSelection();if(!a.rangeCount)return function(){};for(var b=document.activeElement,c=[],d=0;d<a.rangeCount;d++)c.push(a.getRangeAt(d));switch(b.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":b.blur();break;default:b=null;break}return a.removeAllRanges(),function(){"Caret"===a.type&&a.removeAllRanges(),a.rangeCount||c.forEach(function(b){a.addRange(b)}),b&&b.focus()}}},655:function(a,b,c){"use strict";c.d(b,{ZT:function(){return e},pi:function(){return f},"_T":function(){return g},XA:function(){return h},CR:function(){return i},ev:function(){return j}});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c())}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function j(a,b,c){if(c||2===arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function k(a){return this instanceof k?(this.v=a,this):new k(a)}Object.create,Object.create},8217:function(a,b,c){"use strict";var d=c(6086),e=c(7294);b.useSubscription=function(a){var b=a.getCurrentValue,c=a.subscribe,f=e.useState(function(){return{getCurrentValue:b,subscribe:c,value:b()}});a=f[0];var g=f[1];return f=a.value,(a.getCurrentValue!==b||a.subscribe!==c)&&(f=b(),g({getCurrentValue:b,subscribe:c,value:f})),e.useDebugValue(f),e.useEffect(function(){function a(){if(!e){var a=b();g(function(e){return e.getCurrentValue!==b||e.subscribe!==c||e.value===a?e:d({},e,{value:a})})}}var e=!1,f=c(a);return a(),function(){e=!0,f()}},[b,c]),f}},7161:function(a,b,c){"use strict";a.exports=c(8217)},7462:function(a,b,c){"use strict";function d(){return(d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}c.d(b,{Z:function(){return d}})},5364:function(a,b,c){"use strict";c.d(b,{p:function(){return d}});var d=(0,c(7294).createContext)({})},240:function(a,b,c){"use strict";c.d(b,{O:function(){return d}});var d=(0,c(7294).createContext)(null)},3319:function(a,b,c){"use strict";c.d(b,{E:function(){return ig}});var d,e,f=c(655),g=c(7294),h=function(a){return{isEnabled:function(b){return a.some(function(a){return!!b[a]})}}},i={measureLayout:h(["layout","layoutId","drag"]),animation:h(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView",]),exit:h(["exit"]),drag:h(["drag","dragControls"]),focus:h(["whileFocus"]),hover:h(["whileHover","onHoverStart","onHoverEnd"]),tap:h(["whileTap","onTap","onTapStart","onTapCancel"]),pan:h(["onPan","onPanStart","onPanSessionStart","onPanEnd",]),inView:h(["whileInView","onViewportEnter","onViewportLeave",])},j=(0,g.createContext)({strict:!1}),k=Object.keys(i),l=k.length,m=(0,g.createContext)({transformPagePoint:function(a){return a},isStatic:!1}),n=(0,g.createContext)({}),o=c(240),p="undefined"!=typeof window,q=p?g.useLayoutEffect:g.useEffect;function r(a){return"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function s(a){return Array.isArray(a)}function t(a){return"string"==typeof a||s(a)}function u(a,b,c,d,e){var f;return void 0===d&&(d={}),void 0===e&&(e={}),"function"==typeof b&&(b=b(null!=c?c:a.custom,d,e)),"string"==typeof b&&(b=null===(f=a.variants)|| void 0===f?void 0:f[b]),"function"==typeof b&&(b=b(null!=c?c:a.custom,d,e)),b}function v(a,b,c){var d,e,f=a.getProps();return u(f,b,null!=c?c:f.custom,(d={},a.forEachValue(function(a,b){return d[b]=a.get()}),d),(e={},a.forEachValue(function(a,b){return e[b]=a.getVelocity()}),e))}function w(a){var b;return"function"==typeof(null===(b=a.animate)|| void 0===b?void 0:b.start)||t(a.initial)||t(a.animate)||t(a.whileHover)||t(a.whileDrag)||t(a.whileTap)||t(a.whileFocus)||t(a.exit)}function x(a){return Boolean(w(a)||a.variants)}function y(a){return Array.isArray(a)?a.join(" "):a}var z=c(6681),A=c(9073);const B=(a,b,c)=>-c*a+c*b+a;function C(a,b){return b?a*(1e3/b):0}function D(a,b){-1===a.indexOf(b)&&a.push(b)}function E(a,b){var c=a.indexOf(b);c> -1&&a.splice(c,1)}var F=function(){function a(){this.subscriptions=[]}return a.prototype.add=function(a){var b=this;return D(this.subscriptions,a),function(){return E(b.subscriptions,a)}},a.prototype.notify=function(a,b,c){var d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(var e=0;e<d;e++){var f=this.subscriptions[e];f&&f(a,b,c)}},a.prototype.getSize=function(){return this.subscriptions.length},a.prototype.clear=function(){this.subscriptions.length=0},a}(),G=function(){function a(a){var b=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new F(),this.velocityUpdateSubscribers=new F(),this.renderSubscribers=new F(),this.canTrackVelocity=!1,this.updateAndNotify=function(a,c){void 0===c&&(c=!0),b.prev=b.current,b.current=a;var d=(0,A.$B)(),e=d.delta,f=d.timestamp;b.lastUpdated!==f&&(b.timeDelta=e,b.lastUpdated=f,A.ZP.postRender(b.scheduleVelocityCheck)),b.prev!==b.current&&b.updateSubscribers.notify(b.current),b.velocityUpdateSubscribers.getSize()&&b.velocityUpdateSubscribers.notify(b.getVelocity()),c&&b.renderSubscribers.notify(b.current)},this.scheduleVelocityCheck=function(){return A.ZP.postRender(b.velocityCheck)},this.velocityCheck=function(a){a.timestamp!==b.lastUpdated&&(b.prev=b.current,b.velocityUpdateSubscribers.notify(b.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=a,this.canTrackVelocity=!isNaN(parseFloat(this.current))}return a.prototype.onChange=function(a){return this.updateSubscribers.add(a)},a.prototype.clearListeners=function(){this.updateSubscribers.clear()},a.prototype.onRenderRequest=function(a){return a(this.get()),this.renderSubscribers.add(a)},a.prototype.attach=function(a){this.passiveEffect=a},a.prototype.set=function(a,b){void 0===b&&(b=!0),b&&this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a,b)},a.prototype.get=function(){return this.current},a.prototype.getPrevious=function(){return this.prev},a.prototype.getVelocity=function(){return this.canTrackVelocity?C(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},a.prototype.start=function(a){var b=this;return this.stop(),new Promise(function(c){b.hasAnimated=!0,b.stopAnimation=a(c)}).then(function(){return b.clearAnimation()})},a.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},a.prototype.isAnimating=function(){return!!this.stopAnimation},a.prototype.clearAnimation=function(){this.stopAnimation=null},a.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},a}();function H(a){return new G(a)}var I=function(a){return Boolean(null!==a&&"object"==typeof a&&a.getVelocity)},J=function(){},K=function(){};const L=(a,b,c)=>Math.min(Math.max(c,a),b),M=.001;function N(a,b){return a*Math.sqrt(1-b*b)}const O=["duration","bounce"],P=["stiffness","damping","mass"];function Q(a,b){return b.some(b=>void 0!==a[b])}function R(a){var{from:b=0,to:c=1,restSpeed:d=2,restDelta:e}=a,g=(0,f._T)(a,["from","to","restSpeed","restDelta"]);const h={done:!1,value:b};let{stiffness:i,damping:j,mass:k,velocity:l,duration:m,isResolvedFromDuration:n}=function(a){let b=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},a);if(!Q(a,P)&&Q(a,O)){const c=function({duration:a=800,bounce:b=.25,velocity:c=0,mass:d=1}){let e,f;J(a<=1e4,"Spring duration must be 10 seconds or less");let g=1-b;g=L(.05,1,g),a=L(.01,10,a/1e3),g<1?(e=b=>{const d=b*g,e=d*a,f=d-c,h=N(b,g),i=Math.exp(-e);return M-f/h*i},f=b=>{const d=b*g,f=d*a,h=f*c+c,i=Math.pow(g,2)*Math.pow(b,2)*a,j=Math.exp(-f),k=N(Math.pow(b,2),g),l=-e(b)+M>0?-1:1;return l*((h-i)*j)/k}):(e=b=>{const d=Math.exp(-b*a),e=(b-c)*a+1;return-M+d*e},f=b=>{const d=Math.exp(-b*a),e=(c-b)*(a*a);return d*e});const h=5/a,i=function a(b,c,d){let e=d;for(let f=1;f<12;f++)e-=b(e)/c(e);return e}(e,f,h);if(a*=1e3,isNaN(i))return{stiffness:100,damping:10,duration:a};{const j=Math.pow(i,2)*d;return{stiffness:j,damping:2*g*Math.sqrt(d*j),duration:a}}}(a);(b=Object.assign(Object.assign(Object.assign({},b),c),{velocity:0,mass:1})).isResolvedFromDuration=!0}return b}(g),o=S,p=S;function q(){const a=l?-(l/1e3):0,d=c-b,f=j/(2*Math.sqrt(i*k)),g=Math.sqrt(i/k)/1e3;if(void 0===e&&(e=Math.min(Math.abs(c-b)/100,.4)),f<1){const h=N(g,f);o=b=>{const e=Math.exp(-f*g*b);return c-e*((a+f*g*d)/h*Math.sin(h*b)+d*Math.cos(h*b))},p=b=>{const c=Math.exp(-f*g*b);return f*g*c*(Math.sin(h*b)*(a+f*g*d)/h+d*Math.cos(h*b))-c*(Math.cos(h*b)*(a+f*g*d)-h*d*Math.sin(h*b))}}else if(1===f)o=b=>c-Math.exp(-g*b)*(d+(a+g*d)*b);else{const m=g*Math.sqrt(f*f-1);o=b=>{const e=Math.exp(-f*g*b),h=Math.min(m*b,300);return c-e*((a+f*g*d)*Math.sinh(h)+m*d*Math.cosh(h))/m}}}return q(),{next:a=>{const b=o(a);if(n)h.done=a>=m;else{const f=1e3*p(a),g=Math.abs(f)<=d,i=Math.abs(c-b)<=e;h.done=g&&i}return h.value=h.done?c:b,h},flipTarget:()=>{l=-l,[b,c]=[c,b],q()}}}R.needsInterpolation=(a,b)=>"string"==typeof a||"string"==typeof b;const S=a=>0,T=(a,b,c)=>{const d=b-a;return 0===d?1:(c-a)/d},U=(a,b)=>c=>Math.max(Math.min(c,b),a),V=a=>a%1?Number(a.toFixed(5)):a,W=/(-)?([\d]*\.?[\d])+/g,X=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Y=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Z(a){return"string"==typeof a}const $={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},_=Object.assign(Object.assign({},$),{transform:U(0,1)}),aa=Object.assign(Object.assign({},$),{default:1}),ba=(a,b)=>c=>Boolean(Z(c)&&Y.test(c)&&c.startsWith(a)||b&&Object.prototype.hasOwnProperty.call(c,b)),ca=(a,b,c)=>d=>{if(!Z(d))return d;const[e,f,g,h]=d.match(W);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},da=U(0,255),ea=Object.assign(Object.assign({},$),{transform:a=>Math.round(da(a))}),fa={test:ba("rgb","red"),parse:ca("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+ea.transform(a)+", "+ea.transform(b)+", "+ea.transform(c)+", "+V(_.transform(d))+")"},ga={test:ba("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substr(1,2),c=a.substr(3,2),d=a.substr(5,2),e=a.substr(7,2)):(b=a.substr(1,1),c=a.substr(2,1),d=a.substr(3,1),e=a.substr(4,1),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:fa.transform},ha=a=>({test:b=>Z(b)&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),ia=ha("deg"),ja=ha("%"),ka=ha("px"),la=ha("vh"),ma=ha("vw"),na=Object.assign(Object.assign({},ja),{parse:a=>ja.parse(a)/100,transform:a=>ja.transform(100*a)}),oa={test:ba("hsl","hue"),parse:ca("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+ja.transform(V(b))+", "+ja.transform(V(c))+", "+V(_.transform(d))+")"};function pa(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function qa({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,b/=100,c/=100;let e=0,f=0,g=0;if(b){const h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=pa(i,h,a+1/3),f=pa(i,h,a),g=pa(i,h,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}const ra=(a,b,c)=>{const d=a*a;return Math.sqrt(Math.max(0,c*(b*b-d)+d))},sa=[ga,fa,oa],ta=a=>sa.find(b=>b.test(a)),ua=a=>`'${a}' is not an animatable color. Use the equivalent color code instead.`,va=(a,b)=>{let c=ta(a),d=ta(b);K(!!c,ua(a)),K(!!d,ua(b));let e=c.parse(a),f=d.parse(b);c===oa&&(e=qa(e),c=fa),d===oa&&(f=qa(f),d=fa);const g=Object.assign({},e);return a=>{for(const b in g)"alpha"!==b&&(g[b]=ra(e[b],f[b],a));return g.alpha=B(e.alpha,f.alpha,a),c.transform(g)}},wa={test:a=>fa.test(a)||ga.test(a)||oa.test(a),parse:a=>fa.test(a)?fa.parse(a):oa.test(a)?oa.parse(a):ga.parse(a),transform:a=>Z(a)?a:a.hasOwnProperty("red")?fa.transform(a):oa.transform(a)},xa="${c}",ya="${n}";function za(a){"number"==typeof a&&(a=`${a}`);const b=[];let c=0;const d=a.match(X);d&&(c=d.length,a=a.replace(X,xa),b.push(...d.map(wa.parse)));const e=a.match(W);return e&&(a=a.replace(W,ya),b.push(...e.map($.parse))),{values:b,numColors:c,tokenised:a}}function Aa(a){return za(a).values}function Ba(a){const{values:b,numColors:c,tokenised:d}=za(a),e=b.length;return a=>{let b=d;for(let f=0;f<e;f++)b=b.replace(f<c?xa:ya,f<c?wa.transform(a[f]):V(a[f]));return b}}const Ca=a=>"number"==typeof a?0:a,Da={test:function(a){var b,c,d,e;return isNaN(a)&&Z(a)&&(null!==(c=null===(b=a.match(W))|| void 0===b?void 0:b.length)&& void 0!==c?c:0)+(null!==(e=null===(d=a.match(X))|| void 0===d?void 0:d.length)&& void 0!==e?e:0)>0},parse:Aa,createTransformer:Ba,getAnimatableNone:function(a){const b=Aa(a),c=Ba(a);return c(b.map(Ca))}},Ea=a=>"number"==typeof a,Fa=(a,b)=>c=>b(a(c)),Ga=(...a)=>a.reduce(Fa);function Ha(a,b){return Ea(a)?c=>B(a,b,c):wa.test(a)?va(a,b):La(a,b)}const Ia=(a,b)=>{const c=[...a],d=c.length,e=a.map((a,c)=>Ha(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}},Ja=(a,b)=>{const c=Object.assign(Object.assign({},a),b),d={};for(const e in c)void 0!==a[e]&& void 0!==b[e]&&(d[e]=Ha(a[e],b[e]));return a=>{for(const b in d)c[b]=d[b](a);return c}};function Ka(a){const b=Da.parse(a),c=b.length;let d=0,e=0,f=0;for(let g=0;g<c;g++)d||"number"==typeof b[g]?d++:void 0!==b[g].hue?f++:e++;return{parsed:b,numNumbers:d,numRGB:e,numHSL:f}}const La=(a,b)=>{const c=Da.createTransformer(b),d=Ka(a),e=Ka(b),f=d.numHSL===e.numHSL&&d.numRGB===e.numRGB&&d.numNumbers>=e.numNumbers;return f?Ga(Ia(d.parsed,e.parsed),c):(J(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),c=>`${c>0?b:a}`)},Ma=(a,b)=>c=>B(a,b,c);function Na(a,b,{clamp:c=!0,ease:d,mixer:e}={}){const f=a.length;K(f===b.length,"Both input and output ranges must be the same length"),K(!d||!Array.isArray(d)||d.length===f-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),a[0]>a[f-1]&&(a=[].concat(a),b=[].concat(b),a.reverse(),b.reverse());const g=function(a,b,c){var d;const e=[],f=c||("number"==typeof(d=a[0])?Ma:"string"==typeof d?wa.test(d)?va:La:Array.isArray(d)?Ia:"object"==typeof d?Ja:void 0),g=a.length-1;for(let h=0;h<g;h++){let i=f(a[h],a[h+1]);if(b){const j=Array.isArray(b)?b[h]:b;i=Ga(j,i)}e.push(i)}return e}(b,d,e),h=2===f?function([a,b],[c]){return d=>c(T(a,b,d))}(a,g):function(a,b){const c=a.length,d=c-1;return e=>{let f=0,g=!1;if(e<=a[0]?g=!0:e>=a[d]&&(f=d-1,g=!0),!g){let h=1;for(;h<c&& !(a[h]>e)&&h!==d;h++);f=h-1}const i=T(a[f],a[f+1],e);return b[f](i)}}(a,g);return c?b=>h(L(a[0],a[f-1],b)):h}const Oa=a=>b=>1-a(1-b),Pa=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,Qa=a=>b=>b*b*((a+1)*b-a),Ra=4/11,Sa=8/11,Ta=a=>a,Ua=a=>Math.pow(a,2),Va=Oa(Ua),Wa=Pa(Ua),Xa=a=>1-Math.sin(Math.acos(a)),Ya=Oa(Xa),Za=Pa(Ya),$a=Qa(1.525),_a=Oa($a),ab=Pa($a),bb=(a=>{const b=Qa(1.525);return a=>(a*=2)<1?.5*b(a):.5*(2-Math.pow(2,-10*(a-1)))})(1.525),cb=4356/361,db=35442/1805,eb=16061/1805,fb=a=>{if(1===a||0===a)return a;const b=a*a;return a<Ra?7.5625*b:a<Sa?9.075*b-9.9*a+3.4:a<.9?cb*b-db*a+eb:10.8*a*a-20.52*a+10.72},gb=Oa(fb);function hb({from:a=0,to:b=1,ease:c,offset:d,duration:e=300}){var f,g;const h={done:!1,value:a},i=Array.isArray(b)?b:[a,b],j=(f=d&&d.length===i.length?d:function(a){const b=a.length;return a.map((a,c)=>0!==c?c/(b-1):0)}(i),g=e,f.map(a=>a*g));function k(){var a,b;return Na(j,i,{ease:Array.isArray(c)?c:(a=i,b=c,a.map(()=>b||Wa).splice(0,a.length-1))})}let l=k();return{next:a=>(h.value=l(a),h.done=a>=e,h),flipTarget:()=>{i.reverse(),l=k()}}}const ib={keyframes:hb,spring:R,decay:function({velocity:a=0,from:b=0,power:c=.8,timeConstant:d=350,restDelta:e=.5,modifyTarget:f}){const g={done:!1,value:b};let h=c*a;const i=b+h,j=void 0===f?i:f(i);return j!==i&&(h=j-b),{next:a=>{const b=-h*Math.exp(-a/d);return g.done=!(b>e||b< -e),g.value=g.done?j:j+b,g},flipTarget:()=>{}}}},jb=1/60*1e3,kb="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),lb="undefined"!=typeof window?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(kb()),jb);let mb=!0,nb=!1,ob=!1;const pb={delta:0,timestamp:0},qb=["read","update","preRender","render","postRender",],rb=qb.reduce((a,b)=>(a[b]=(function(a){let b=[],c=[],d=0,e=!1,f=!1;const g=new WeakSet(),h={schedule:(a,f=!1,h=!1)=>{const i=h&&e,j=i?b:c;return f&&g.add(a),-1===j.indexOf(a)&&(j.push(a),i&&e&&(d=b.length)),a},cancel:a=>{const b=c.indexOf(a);-1!==b&&c.splice(b,1),g.delete(a)},process:i=>{if(e){f=!0;return}if(e=!0,[b,c]=[c,b],c.length=0,d=b.length)for(let j=0;j<d;j++){const k=b[j];k(i),g.has(k)&&(h.schedule(k),a())}e=!1,f&&(f=!1,h.process(i))}};return h})(()=>nb=!0),a),{}),sb=qb.reduce((a,b)=>{const c=rb[b];return a[b]=(a,b=!1,d=!1)=>(nb||wb(),c.schedule(a,b,d)),a},{}),tb=qb.reduce((a,b)=>(a[b]=rb[b].cancel,a),{});qb.reduce((a,b)=>(a[b]=()=>rb[b].process(pb),a),{});const ub=a=>rb[a].process(pb),vb=a=>{nb=!1,pb.delta=mb?jb:Math.max(Math.min(a-pb.timestamp,40),1),pb.timestamp=a,ob=!0,qb.forEach(ub),ob=!1,nb&&(mb=!1,lb(vb))},wb=()=>{nb=!0,mb=!0,ob||lb(vb)},xb=()=>pb;var yb=sb;function zb(a,b,c=0){return a-b-c}const Ab=a=>{const b=({delta:b})=>a(b);return{start:()=>yb.update(b,!0),stop:()=>tb.update(b)}};function Bb(a){var b,c,{from:d,autoplay:e=!0,driver:g=Ab,elapsed:h=0,repeat:i=0,repeatType:j="loop",repeatDelay:k=0,onPlay:l,onStop:m,onComplete:n,onRepeat:o,onUpdate:p}=a,q=(0,f._T)(a,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:r}=q,s,t=0,u=q.duration,v,w=!1,x=!0,y;const z=function(a){if(Array.isArray(a.to))return hb;if(ib[a.type])return ib[a.type];const b=new Set(Object.keys(a));return b.has("ease")||b.has("duration")&&!b.has("dampingRatio")?hb:b.has("dampingRatio")||b.has("stiffness")||b.has("mass")||b.has("damping")||b.has("restSpeed")||b.has("restDelta")?R:hb}(q);(null===(c=(b=z).needsInterpolation)|| void 0===c?void 0:c.call(b,d,r))&&(y=Na([0,100],[d,r],{clamp:!1}),d=0,r=100);const A=z(Object.assign(Object.assign({},q),{from:d,to:r}));return e&&(null==l||l(),(s=g(function(a){if(x||(a=-a),h+=a,!w){const b=A.next(Math.max(0,h));v=b.value,y&&(v=y(v)),w=x?b.done:h<=0}if(null==p||p(v),w)if(0===t&&(null!=u||(u=h)),t<i){var c,d,e;c=h,d=u,e=k,(x?c>=d+e:c<= -e)&&(t++,"reverse"===j?h=(function(a,b,c=0,d=!0){return d?zb(b+ -a,b,c):b-(a-b)+c})(h,u,k,x=t%2==0):(h=zb(h,u,k),"mirror"===j&&A.flipTarget()),w=!1,o&&o())}else s.stop(),n&&n()})).start()),{stop:()=>{null==m||m(),s.stop()}}}var Cb=function(a){return 1e3*a};const Db=(a,b)=>1-3*b+3*a,Eb=(a,b)=>3*b-6*a,Fb=a=>3*a,Gb=(a,b,c)=>((Db(b,c)*a+Eb(b,c))*a+Fb(b))*a,Hb=(a,b,c)=>3*Db(b,c)*a*a+2*Eb(b,c)*a+Fb(b);var Ib={linear:Ta,easeIn:Ua,easeInOut:Wa,easeOut:Va,circIn:Xa,circInOut:Za,circOut:Ya,backIn:$a,backInOut:ab,backOut:_a,anticipate:bb,bounceIn:gb,bounceInOut:a=>a<.5?.5*(1-fb(1-2*a)):.5*fb(2*a-1)+.5,bounceOut:fb},Jb=function(a){if(Array.isArray(a)){K(4===a.length,"Cubic bezier arrays must contain four numerical values.");var b=(0,f.CR)(a,4),c=b[0],d=b[1],e=b[2],g=b[3];return(function(a,b,c,d){if(a===b&&c===d)return Ta;const e=new Float32Array(11);for(let f=0;f<11;++f)e[f]=Gb(.1*f,a,c);return f=>0===f||1===f?f:Gb(function(b){let d=0,f=1;const g=10;for(;f!==g&&e[f]<=b;++f)d+=.1;--f;const h=(b-e[f])/(e[f+1]-e[f]),i=d+.1*h,j=Hb(i,a,c);return j>=.001?(function(a,b,c,d){for(let e=0;e<8;++e){const f=Hb(b,c,d);if(0===f)return b;const g=Gb(b,c,d)-a;b-=g/f}return b})(b,i,a,c):0===j?i:(function(a,b,c,d,e){let f,g,h=0;do(f=Gb(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&& ++h<10);return g})(b,d,d+.1,a,c)}(f),b,d)})(c,d,e,g)}return"string"==typeof a?(K(void 0!==Ib[a],"Invalid easing type '".concat(a,"'")),Ib[a]):a},Kb=function(a,b){return"zIndex"!==a&&(!!("number"==typeof b||Array.isArray(b))|| !!("string"==typeof b&&Da.test(b))&&!b.startsWith("url("))},Lb=function(a){return Array.isArray(a)},Mb=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Nb=function(a){return{type:"spring",stiffness:550,damping:0===a?2*Math.sqrt(550):30,restSpeed:10}},Ob=function(){return{type:"keyframes",ease:"linear",duration:.3}},Pb={x:Mb,y:Mb,z:Mb,rotate:Mb,rotateX:Mb,rotateY:Mb,rotateZ:Mb,scaleX:Nb,scaleY:Nb,scale:Nb,opacity:Ob,backgroundColor:Ob,color:Ob,default:Nb},Qb=function(a,b){var c;return c=Lb(b)?function(a){return{type:"keyframes",duration:.8,values:a}}:Pb[a]||Pb.default,(0,f.pi)({to:b},c(b))};const Rb=new Set(["brightness","contrast","saturate","opacity"]);function Sb(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;const[d]=c.match(W)||[];if(!d)return a;const e=c.replace(d,"");let f=Rb.has(b)?1:0;return d!==c&&(f*=100),b+"("+f+e+")"}const Tb=/([a-z-]*)\(.*?\)/g,Ub=Object.assign(Object.assign({},Da),{getAnimatableNone:a=>{const b=a.match(Tb);return b?b.map(Sb).join(" "):a}});var Vb=(0,f.pi)((0,f.pi)({},$),{transform:Math.round}),Wb={borderWidth:ka,borderTopWidth:ka,borderRightWidth:ka,borderBottomWidth:ka,borderLeftWidth:ka,borderRadius:ka,radius:ka,borderTopLeftRadius:ka,borderTopRightRadius:ka,borderBottomRightRadius:ka,borderBottomLeftRadius:ka,width:ka,maxWidth:ka,height:ka,maxHeight:ka,size:ka,top:ka,right:ka,bottom:ka,left:ka,padding:ka,paddingTop:ka,paddingRight:ka,paddingBottom:ka,paddingLeft:ka,margin:ka,marginTop:ka,marginRight:ka,marginBottom:ka,marginLeft:ka,rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:aa,scaleX:aa,scaleY:aa,scaleZ:aa,skew:ia,skewX:ia,skewY:ia,distance:ka,translateX:ka,translateY:ka,translateZ:ka,x:ka,y:ka,z:ka,perspective:ka,transformPerspective:ka,opacity:_,originX:na,originY:na,originZ:ka,zIndex:Vb,fillOpacity:_,strokeOpacity:_,numOctaves:Vb},Xb=(0,f.pi)((0,f.pi)({},Wb),{color:wa,backgroundColor:wa,outlineColor:wa,fill:wa,stroke:wa,borderColor:wa,borderTopColor:wa,borderRightColor:wa,borderBottomColor:wa,borderLeftColor:wa,filter:Ub,WebkitFilter:Ub}),Yb=function(a){return Xb[a]};function Zb(a,b){var c,d=Yb(a);return d!==Ub&&(d=Da),null===(c=d.getAnimatableNone)|| void 0===c?void 0:c.call(d,b)}var $b={current:!1},_b=function(a){return Lb(a)?a[a.length-1]||0:a},ac=!1;function bc(a){return 0===a||"string"==typeof a&&0===parseFloat(a)&& -1===a.indexOf(" ")}function cc(a){return"number"==typeof a?0:Zb("",a)}function dc(a,b){return a[b]||a.default||a}function ec(a,b,c,d){return void 0===d&&(d={}),$b.current&&(d={type:!1}),b.start(function(e){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=(g=a,h=b,i=c,j=d,k=e,n=null!==(l=(m=dc(j,g)).from)&& void 0!==l?l:h.get(),o=Kb(g,i),"none"===n&&o&&"string"==typeof i?n=Zb(g,i):bc(n)&&"string"==typeof i?n=cc(i):!Array.isArray(i)&&bc(i)&&"string"==typeof n&&(i=cc(n)),p=Kb(g,n),J(p===o,"You are trying to animate ".concat(g," from \"").concat(n,"\" to \"").concat(i,"\". ").concat(n," is not an animatable value - to enable this animation set ").concat(n," to a value animatable to ").concat(i," via the `style` property.")),p&&o&& !1!==m.type?function(){var a,b,c,d,e,j,l,o,p,q,r,s,t,u,v,w,x={from:n,to:i,velocity:h.getVelocity(),onComplete:k,onUpdate:function(a){return h.set(a)}};return"inertia"===m.type||"decay"===m.type?(function({from:a=0,velocity:b=0,min:c,max:d,power:e=.8,timeConstant:f=750,bounceStiffness:g=500,bounceDamping:h=10,restDelta:i=1,modifyTarget:j,driver:k,onUpdate:l,onComplete:m,onStop:n}){let o;function p(a){return void 0!==c&&a<c|| void 0!==d&&a>d}function q(a){return void 0===c?d:void 0===d?c:Math.abs(c-a)<Math.abs(d-a)?c:d}function r(a){null==o||o.stop(),o=Bb(Object.assign(Object.assign({},a),{driver:k,onUpdate:b=>{var c;null==l||l(b),null===(c=a.onUpdate)|| void 0===c||c.call(a,b)},onComplete:m,onStop:n}))}function s(a){r(Object.assign({type:"spring",stiffness:g,damping:h,restDelta:i},a))}if(p(a))s({from:a,velocity:b,to:q(a)});else{let t=e*b+a;void 0!==j&&(t=j(t));const u=q(t),v=u===c?-1:1;let w,x;const y=a=>{w=x,x=a,b=C(a-w,xb().delta),(1===v&&a>u|| -1===v&&a<u)&&s({from:a,to:u,velocity:b})};r({type:"decay",from:a,velocity:b,timeConstant:f,power:e,restDelta:i,modifyTarget:j,onUpdate:p(t)?y:void 0})}return{stop:()=>null==o?void 0:o.stop()}})((0,f.pi)((0,f.pi)({},x),m)):Bb((0,f.pi)((0,f.pi)({},(a=m,b=x,c=g,Array.isArray(b.to)&&(null!==(d=a.duration)&& void 0!==d||(a.duration=.8)),e=b,Array.isArray(e.to)&&null===e.to[0]&&(e.to=(0,f.ev)([],(0,f.CR)(e.to),!1),e.to[0]=e.from),(j=a).when,j.delay,j.delayChildren,j.staggerChildren,j.staggerDirection,j.repeat,j.repeatType,j.repeatDelay,j.from,l=(0,f._T)(j,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]),Object.keys(l).length||(a=(0,f.pi)((0,f.pi)({},a),Qb(c,b.to))),(0,f.pi)((0,f.pi)({},b),(q=(o=a).ease,r=o.times,s=o.yoyo,t=o.flip,u=o.loop,v=(0,f._T)(o,["ease","times","yoyo","flip","loop"]),w=(0,f.pi)({},v),r&&(w.offset=r),v.duration&&(w.duration=Cb(v.duration)),v.repeatDelay&&(w.repeatDelay=Cb(v.repeatDelay)),q&&(p=q,w.ease=Array.isArray(p)&&"number"!=typeof p[0]?q.map(Jb):Jb(q)),"tween"===v.type&&(w.type="keyframes"),(s||u||t)&&(J(!ac,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),ac=!0,s?w.repeatType="reverse":u?w.repeatType="loop":t&&(w.repeatType="mirror"),w.repeat=u||s||t||v.repeat),"spring"!==v.type&&(w.type="keyframes"),w)))),{onUpdate:function(a){var b;x.onUpdate(a),null===(b=m.onUpdate)|| void 0===b||b.call(m,a)},onComplete:function(){var a;x.onComplete(),null===(a=m.onComplete)|| void 0===a||a.call(m)}}))}:function(){var a,b,c=_b(i);return h.set(c),k(),null===(a=null==m?void 0:m.onUpdate)|| void 0===a||a.call(m,c),null===(b=null==m?void 0:m.onComplete)|| void 0===b||b.call(m),{stop:function(){}}}),w=null!==(u=null!==(t=(dc(s=d,a)||{}).delay)&& void 0!==t?t:s.delay)&& void 0!==u?u:0,x=function(){return r=v()};return w?q=setTimeout(x,Cb(w)):x(),function(){clearTimeout(q),null==r||r.stop()}})}var fc=["TopLeft","TopRight","BottomLeft","BottomRight"],gc=fc.length,hc=function(a){return"string"==typeof a?parseFloat(a):a},ic=function(a){return"number"==typeof a||ka.test(a)};function jc(a,b){var c;return null!==(c=a[b])&& void 0!==c?c:a.borderRadius}var kc=mc(0,.5,Ya),lc=mc(.5,.95,Ta);function mc(a,b,c){return function(d){return d<a?0:d>b?1:c(T(a,b,d))}}function nc(a,b){a.min=b.min,a.max=b.max}function oc(a,b){nc(a.x,b.x),nc(a.y,b.y)}function pc(a){return void 0===a||1===a}function qc(a){var b=a.scale,c=a.scaleX,d=a.scaleY;return!pc(b)||!pc(c)||!pc(d)}function rc(a){return qc(a)||sc(a.x)||sc(a.y)||a.z||a.rotate||a.rotateX||a.rotateY}function sc(a){return a&&"0%"!==a}function tc(a,b,c){return c+b*(a-c)}function uc(a,b,c,d,e){return void 0!==e&&(a=tc(a,e,d)),tc(a,c,d)+b}function vc(a,b,c,d,e){void 0===b&&(b=0),void 0===c&&(c=1),a.min=uc(a.min,b,c,d,e),a.max=uc(a.max,b,c,d,e)}function wc(a,b){var c=b.x,d=b.y;vc(a.x,c.translate,c.scale,c.originPoint),vc(a.y,d.translate,d.scale,d.originPoint)}function xc(a,b){a.min=a.min+b,a.max=a.max+b}function yc(a,b,c){var d=(0,f.CR)(c,3),e=d[0],g=d[1],h=d[2],i=void 0!==b[h]?b[h]:.5,j=B(a.min,a.max,i);vc(a,b[e],b[g],j,b.scale)}var zc=["x","scaleX","originX"],Ac=["y","scaleY","originY"];function Bc(a,b){yc(a.x,b,zc),yc(a.y,b,Ac)}const Cc=a=>a.hasOwnProperty("x")&&a.hasOwnProperty("y"),Dc=a=>Cc(a)&&a.hasOwnProperty("z"),Ec=(a,b)=>Math.abs(a-b);function Fc(a,b){if(Ea(a)&&Ea(b))return Ec(a,b);if(Cc(a)&&Cc(b)){const c=Ec(a.x,b.x),d=Ec(a.y,b.y),e=Dc(a)&&Dc(b)?Ec(a.z,b.z):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2)+Math.pow(e,2))}}function Gc(a){return a.max-a.min}function Hc(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=.01),Fc(a,b)<c}function Ic(a,b,c,d){void 0===d&&(d=.5),a.origin=d,a.originPoint=B(b.min,b.max,a.origin),a.scale=Gc(c)/Gc(b),(Hc(a.scale,1,1e-4)||isNaN(a.scale))&&(a.scale=1),a.translate=B(c.min,c.max,a.origin)-a.originPoint,(Hc(a.translate)||isNaN(a.translate))&&(a.translate=0)}function Jc(a,b,c,d){Ic(a.x,b.x,c.x,null==d?void 0:d.originX),Ic(a.y,b.y,c.y,null==d?void 0:d.originY)}function Kc(a,b,c){a.min=c.min+b.min,a.max=a.min+Gc(b)}function Lc(a,b,c){a.min=b.min-c.min,a.max=a.min+Gc(b)}function Mc(a,b,c){Lc(a.x,b.x,c.x),Lc(a.y,b.y,c.y)}function Nc(a,b,c,d,e){return a=tc(a-=b,1/c,d),void 0!==e&&(a=tc(a,1/e,d)),a}function Oc(a,b,c,d,e){var g=(0,f.CR)(c,3),h=g[0],i=g[1],j=g[2];!function(a,b,c,d,e,f,g){if(void 0===b&&(b=0),void 0===c&&(c=1),void 0===d&&(d=.5),void 0===f&&(f=a),void 0===g&&(g=a),ja.test(b)&&(b=parseFloat(b),b=B(g.min,g.max,b/100)-g.min),"number"==typeof b){var h=B(f.min,f.max,d);a===f&&(h-=b),a.min=Nc(a.min,b,c,h,e),a.max=Nc(a.max,b,c,h,e)}}(a,b[h],b[i],b[j],b.scale,d,e)}var Pc=["x","scaleX","originX"],Qc=["y","scaleY","originY"];function Rc(a,b,c,d){Oc(a.x,b,Pc,null==c?void 0:c.x,null==d?void 0:d.x),Oc(a.y,b,Qc,null==c?void 0:c.y,null==d?void 0:d.y)}var Sc=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Tc=function(){return{x:Sc(),y:Sc()}},Uc=function(){return{min:0,max:0}},Vc=function(){return{x:Uc(),y:Uc()}};function Wc(a){return 0===a.translate&&1===a.scale}function Xc(a){return Wc(a.x)&&Wc(a.y)}function Yc(a,b){return a.x.min===b.x.min&&a.x.max===b.x.max&&a.y.min===b.y.min&&a.y.max===b.y.max}var Zc=function(){function a(){this.members=[]}return a.prototype.add=function(a){D(this.members,a),a.scheduleRender()},a.prototype.remove=function(a){if(E(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){var b=this.members[this.members.length-1];b&&this.promote(b)}},a.prototype.relegate=function(a){var b,c=this.members.findIndex(function(b){return a===b});if(0===c)return!1;for(var d=c;d>=0;d--){var e=this.members[d];if(!1!==e.isPresent){b=e;break}}return!!b&&(this.promote(b),!0)},a.prototype.promote=function(a,b){var c,d=this.lead;a!==d&&(this.prevLead=d,this.lead=a,a.show(),d)&&(d.instance&&d.scheduleRender(),a.scheduleRender(),a.resumeFrom=d,b&&(a.resumeFrom.preserveOpacity=!0),d.snapshot&&(a.snapshot=d.snapshot,a.snapshot.latestValues=d.animationValues||d.latestValues,a.snapshot.isShared=!0),(null===(c=a.root)|| void 0===c?void 0:c.isUpdating)&&(a.isLayoutDirty=!0),!1===a.options.crossfade&&d.hide())},a.prototype.exitAnimationComplete=function(){this.members.forEach(function(a){var b,c,d,e,f;null===(c=(b=a.options).onExitComplete)|| void 0===c||c.call(b),null===(f=null===(d=a.resumingFrom)|| void 0===d?void 0:(e=d.options).onExitComplete)|| void 0===f||f.call(e)})},a.prototype.scheduleRender=function(){this.members.forEach(function(a){a.instance&&a.scheduleRender(!1)})},a.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},a}(),$c={};function _c(a,b,c){var d=a.x.translate/b.x,e=a.y.translate/b.y,f="translate3d(".concat(d,"px, ").concat(e,"px, 0) ");if(c){var g=c.rotate,h=c.rotateX,i=c.rotateY;g&&(f+="rotate(".concat(g,"deg) ")),h&&(f+="rotateX(".concat(h,"deg) ")),i&&(f+="rotateY(".concat(i,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(f+="scale(".concat(a.x.scale,", ").concat(a.y.scale,")"))?"none":f}function ad(a){return[a("x"),a("y")]}var bd=["","X","Y","Z"],cd=["transformPerspective","x","y","z"];function dd(a,b){return cd.indexOf(a)-cd.indexOf(b)}["translate","scale","rotate","skew"].forEach(function(a){return bd.forEach(function(b){return cd.push(a+b)})});var ed=new Set(cd);function fd(a){return ed.has(a)}var gd=new Set(["originX","originY","originZ"]);function hd(a){return gd.has(a)}var id=function(a,b){return a.depth-b.depth},jd=function(){function a(){this.children=[],this.isDirty=!1}return a.prototype.add=function(a){D(this.children,a),this.isDirty=!0},a.prototype.remove=function(a){E(this.children,a),this.isDirty=!0},a.prototype.forEach=function(a){this.isDirty&&this.children.sort(id),this.isDirty=!1,this.children.forEach(a)},a}();function kd(a){var b,c=I(a)?a.get():a;return Boolean((b=c)&&"object"==typeof b&&b.mix&&b.toValue)?c.toValue():c}var ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function md(a){var b=a.attachResizeListener,c=a.defaultParent,d=a.measureScroll,e=a.resetTransform;return(function(){function a(a,b,d){var e=this;void 0===b&&(b={}),void 0===d&&(d=null==c?void 0:c()),this.children=new Set(),this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map(),this.potentialNodes=new Map(),this.checkUpdateFailed=function(){e.isUpdating&&(e.isUpdating=!1,e.clearAllSnapshots())},this.updateProjection=function(){e.nodes.forEach(td),e.nodes.forEach(ud)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map(),this.id=a,this.latestValues=b,this.root=d?d.root||d:this,this.path=d?(0,f.ev)((0,f.ev)([],(0,f.CR)(d.path),!1),[d],!1):[],this.parent=d,this.depth=d?d.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(var g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new jd())}return a.prototype.addEventListener=function(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new F()),this.eventHandlers.get(a).add(b)},a.prototype.notifyListeners=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=this.eventHandlers.get(a);null==d||d.notify.apply(d,(0,f.ev)([],(0,f.CR)(b),!1))},a.prototype.hasListeners=function(a){return this.eventHandlers.has(a)},a.prototype.registerPotentialNode=function(a,b){this.potentialNodes.set(a,b)},a.prototype.mount=function(a,c){var d=this;if(void 0===c&&(c=!1),!this.instance){this.isSVG=a instanceof SVGElement&&"svg"!==a.tagName,this.instance=a;var e=this.options,g=e.layoutId,h=e.layout,i=e.visualElement;if(i&&!i.getInstance()&&i.mount(a),this.root.nodes.add(this),null===(j=this.parent)|| void 0===j||j.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),c&&(h||g)&&(this.isLayoutDirty=!0),b){var j,k,l=function(){return d.root.updateBlockedByResize=!1};b(a,function(){d.root.updateBlockedByResize=!0,clearTimeout(k),k=setTimeout(l,250),ld.hasAnimatedSinceResize&&(ld.hasAnimatedSinceResize=!1,d.nodes.forEach(sd))})}g&&this.root.registerSharedNode(g,this),!1!==this.options.animate&&i&&(g||h)&&this.addEventListener("didUpdate",function(a){var b,c,e,g,h,j=a.delta,k=a.hasLayoutChanged,l=a.hasRelativeTargetChanged,m=a.layout;if(d.isTreeAnimationBlocked()){d.target=void 0,d.relativeTarget=void 0;return}var n=null!==(c=null!==(b=d.options.transition)&& void 0!==b?b:i.getDefaultTransition())&& void 0!==c?c:Bd,o=i.getProps().onLayoutAnimationComplete,p=!d.targetLayout||!Yc(d.targetLayout,m)||l,q=!k&&l;(null===(e=d.resumeFrom)|| void 0===e?void 0:e.instance)||q||k&&(p||!d.currentAnimation)?(d.resumeFrom&&(d.resumingFrom=d.resumeFrom,d.resumingFrom.resumingFrom=void 0),d.setAnimationOrigin(j,q),d.startAnimation((0,f.pi)((0,f.pi)({},dc(n,"layout")),{onComplete:o}))):d.isLead()&&(null===(h=(g=d.options).onExitComplete)|| void 0===h||h.call(g)),d.targetLayout=m})}},a.prototype.unmount=function(){var a,b;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(a=this.getStack())|| void 0===a||a.remove(this),null===(b=this.parent)|| void 0===b||b.children.delete(this),this.instance=void 0,A.qY.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var a;return this.isAnimationBlocked||(null===(a=this.parent)|| void 0===a?void 0:a.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,null===(a=this.nodes)|| void 0===a||a.forEach(vd))},a.prototype.willUpdate=function(a){if(void 0===a&&(a=!0),this.root.isUpdateBlocked()){null===(c=(b=this.options).onExitComplete)|| void 0===c||c.call(b);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var b,c,d,e=0;e<this.path.length;e++){var f=this.path[e];f.shouldResetTransform=!0,f.updateScroll()}var g=this.options,h=g.layoutId,i=g.layout;if(void 0!==h||i){var j=null===(d=this.options.visualElement)|| void 0===d?void 0:d.getProps().transformTemplate;this.prevTransformTemplateValue=null==j?void 0:j(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qd);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Cd),this.potentialNodes.clear()),this.nodes.forEach(rd),this.nodes.forEach(nd),this.nodes.forEach(od),this.clearAllSnapshots(),A.iW.update(),A.iW.preRender(),A.iW.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(pd),this.sharedNodes.forEach(wd)},a.prototype.scheduleUpdateProjection=function(){A.ZP.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var a=this;A.ZP.postRender(function(){a.isLayoutDirty?a.root.didUpdate():a.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var a=this.measure(),b=this.removeTransform(this.removeElementScroll(a));Ed(b),this.snapshot={measured:a,layout:b,latestValues:{}}}},a.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var a,b=0;b<this.path.length;b++)this.path[b].updateScroll();var c=this.measure();Ed(c);var d=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=Vc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(a=this.options.visualElement)|| void 0===a||a.notifyLayoutMeasure(this.layout.actual,null==d?void 0:d.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=d(this.instance))},a.prototype.resetTransform=function(){if(e){var a,b=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!Xc(this.projectionDelta),d=null===(a=this.options.visualElement)|| void 0===a?void 0:a.getProps().transformTemplate,f=null==d?void 0:d(this.latestValues,""),g=f!==this.prevTransformTemplateValue;b&&(c||rc(this.latestValues)||g)&&(e(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var a=this.options.visualElement;if(!a)return Vc();var b=a.measureViewportBox(),c=this.root.scroll;return c&&(xc(b.x,c.x),xc(b.y,c.y)),b},a.prototype.removeElementScroll=function(a){var b=Vc();oc(b,a);for(var c=0;c<this.path.length;c++){var d=this.path[c],e=d.scroll,f=d.options;d!==this.root&&e&&f.layoutScroll&&(xc(b.x,e.x),xc(b.y,e.y))}return b},a.prototype.applyTransform=function(a,b){void 0===b&&(b=!1);var c=Vc();oc(c,a);for(var d=0;d<this.path.length;d++){var e=this.path[d];!b&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Bc(c,{x:-e.scroll.x,y:-e.scroll.y}),rc(e.latestValues)&&Bc(c,e.latestValues)}return rc(this.latestValues)&&Bc(c,this.latestValues),c},a.prototype.removeTransform=function(a){var b,c=Vc();oc(c,a);for(var d=0;d<this.path.length;d++){var e=this.path[d];if(e.instance&&rc(e.latestValues)){qc(e.latestValues)&&e.updateSnapshot();var f=Vc();oc(f,e.measure()),Rc(c,e.latestValues,null===(b=e.snapshot)|| void 0===b?void 0:b.layout,f)}}return rc(this.latestValues)&&Rc(c,this.latestValues),c},a.prototype.setTargetDelta=function(a){this.targetDelta=a,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(a){var b;this.options=(0,f.pi)((0,f.pi)((0,f.pi)({},this.options),a),{crossfade:null===(b=a.crossfade)|| void 0===b||b})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var a,b,c,d,e=this.options,f=e.layout,g=e.layoutId;!!this.layout&&!!(f||g)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=Vc(),this.relativeTargetOrigin=Vc(),Mc(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),oc(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=Vc(),this.targetWithTransforms=Vc()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(d=this.relativeParent)|| void 0===d?void 0:d.target))?(a=this.target,b=this.relativeTarget,c=this.relativeParent.target,Kc(a.x,b.x,c.x),Kc(a.y,b.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):oc(this.target,this.layout.actual),wc(this.target,this.targetDelta)):oc(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=Vc(),this.relativeTargetOrigin=Vc(),Mc(this.relativeTargetOrigin,this.target,this.relativeParent.target),oc(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||rc(this.parent.latestValues)))if((this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout)return this.parent;else return this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var a,b=this.options,c=b.layout,d=b.layoutId;if(this.isTreeAnimating=Boolean((null===(a=this.parent)|| void 0===a?void 0:a.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(c||d)){var e=this.getLead();oc(this.layoutCorrected,this.layout.actual),(function(a,b,c,d){void 0===d&&(d=!1);var e,f,g,h,i=c.length;if(i){b.x=b.y=1;for(var j=0;j<i;j++)h=(g=c[j]).projectionDelta,(null===(f=null===(e=g.instance)|| void 0===e?void 0:e.style)|| void 0===f?void 0:f.display)!=="contents"&&(d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Bc(a,{x:-g.scroll.x,y:-g.scroll.y}),h&&(b.x*=h.x.scale,b.y*=h.y.scale,wc(a,h)),d&&rc(g.latestValues)&&Bc(a,g.latestValues))}})(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==e);var f=e.target;if(f){this.projectionDelta||(this.projectionDelta=Tc(),this.projectionDeltaWithTransform=Tc());var g=this.treeScale.x,h=this.treeScale.y,i=this.projectionTransform;Jc(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=_c(this.projectionDelta,this.treeScale),(this.projectionTransform!==i||this.treeScale.x!==g||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(a){var b,c,d;void 0===a&&(a=!0),null===(c=(b=this.options).scheduleRender)|| void 0===c||c.call(b),a&&(null===(d=this.getStack())|| void 0===d||d.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(a,b){var c,d=this;void 0===b&&(b=!1);var e=this.snapshot,g=(null==e?void 0:e.latestValues)||{},h=(0,f.pi)({},this.latestValues),i=Tc();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!b;var j=Vc(),k=null==e?void 0:e.isShared,l=1>=((null===(c=this.getStack())|| void 0===c?void 0:c.members.length)||0),m=Boolean(k&&!l&& !0===this.options.crossfade&&!this.path.some(Ad));this.mixTargetDelta=function(b){var c,e=b/1e3;xd(i.x,a.x,e),xd(i.y,a.y,e),d.setTargetDelta(i),d.relativeTarget&&d.relativeTargetOrigin&&d.layout&&(null===(c=d.relativeParent)|| void 0===c?void 0:c.layout)&&(Mc(j,d.layout.actual,d.relativeParent.layout.actual),zd(d.relativeTarget,d.relativeTargetOrigin,j,e)),k&&(d.animationValues=h,(function(a,b,c,d,e,f){var g,h,i,j;e?(a.opacity=B(0,null!==(g=c.opacity)&& void 0!==g?g:1,kc(d)),a.opacityExit=B(null!==(h=b.opacity)&& void 0!==h?h:1,0,lc(d))):f&&(a.opacity=B(null!==(i=b.opacity)&& void 0!==i?i:1,null!==(j=c.opacity)&& void 0!==j?j:1,d));for(var k=0;k<gc;k++){var l="border".concat(fc[k],"Radius"),m=jc(b,l),n=jc(c,l);(void 0!==m|| void 0!==n)&&(m||(m=0),n||(n=0),0===m||0===n||ic(m)===ic(n)?(a[l]=Math.max(B(hc(m),hc(n),d),0),(ja.test(n)||ja.test(m))&&(a[l]+="%")):a[l]=n)}(b.rotate||c.rotate)&&(a.rotate=B(b.rotate||0,c.rotate||0,d))})(h,g,d.latestValues,e,m,l)),d.root.scheduleUpdateProjection(),d.scheduleRender()},this.mixTargetDelta(0)},a.prototype.startAnimation=function(a){var b,c,d=this;null===(b=this.currentAnimation)|| void 0===b||b.stop(),this.resumingFrom&&(null===(c=this.resumingFrom.currentAnimation)|| void 0===c||c.stop()),this.pendingAnimation&&(A.qY.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=A.ZP.update(function(){var b,c,e;ld.hasAnimatedSinceResize=!0,b=0,void 0===(c=(0,f.pi)((0,f.pi)({},a),{onUpdate:function(b){var c;d.mixTargetDelta(b),null===(c=a.onUpdate)|| void 0===c||c.call(a,b)},onComplete:function(){var b;null===(b=a.onComplete)|| void 0===b||b.call(a),d.completeAnimation()}}))&&(c={}),ec("",e=I(b)?b:H(b),1e3,c),d.currentAnimation={stop:function(){return e.stop()},isAnimating:function(){return e.isAnimating()}},d.resumingFrom&&(d.resumingFrom.currentAnimation=d.currentAnimation),d.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(a=this.getStack())|| void 0===a||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var a;this.currentAnimation&&(null===(a=this.mixTargetDelta)|| void 0===a||a.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var a=this.getLead(),b=a.targetWithTransforms,c=a.target,d=a.layout,e=a.latestValues;b&&c&&d&&(oc(b,c),Bc(b,e),Jc(this.projectionDeltaWithTransform,this.layoutCorrected,b,e))},a.prototype.registerSharedNode=function(a,b){var c,d,e;this.sharedNodes.has(a)||this.sharedNodes.set(a,new Zc()),this.sharedNodes.get(a).add(b),b.promote({transition:null===(c=b.options.initialPromotionConfig)|| void 0===c?void 0:c.transition,preserveFollowOpacity:null===(e=null===(d=b.options.initialPromotionConfig)|| void 0===d?void 0:d.shouldPreserveFollowOpacity)|| void 0===e?void 0:e.call(d,b)})},a.prototype.isLead=function(){var a=this.getStack();return!a||a.lead===this},a.prototype.getLead=function(){var a;return this.options.layoutId?(null===(a=this.getStack())|| void 0===a?void 0:a.lead)||this:this},a.prototype.getPrevLead=function(){var a;return this.options.layoutId?null===(a=this.getStack())|| void 0===a?void 0:a.prevLead:void 0},a.prototype.getStack=function(){var a=this.options.layoutId;if(a)return this.root.sharedNodes.get(a)},a.prototype.promote=function(a){var b=void 0===a?{}:a,c=b.needsReset,d=b.transition,e=b.preserveFollowOpacity,f=this.getStack();f&&f.promote(this,e),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})},a.prototype.relegate=function(){var a=this.getStack();return!!a&&a.relegate(this)},a.prototype.resetRotation=function(){var a=this.options.visualElement;if(a){for(var b=!1,c={},d=0;d<bd.length;d++){var e="rotate"+bd[d];a.getStaticValue(e)&&(b=!0,c[e]=a.getStaticValue(e),a.setStaticValue(e,0))}if(b){for(var e in null==a||a.syncRender(),c)a.setStaticValue(e,c[e]);a.scheduleRender()}}},a.prototype.getProjectionStyles=function(a){void 0===a&&(a={});var b,c,d,e,f,g,h={};if(!this.instance||this.isSVG)return h;if(!this.isVisible)return{visibility:"hidden"};h.visibility="";var i=null===(b=this.options.visualElement)|| void 0===b?void 0:b.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=kd(a.pointerEvents)||"",h.transform=i?i(this.latestValues,""):"none",h;var j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){var k={};return this.options.layoutId&&(k.opacity=null!==(c=this.latestValues.opacity)&& void 0!==c?c:1,k.pointerEvents=kd(a.pointerEvents)||""),this.hasProjected&&!rc(this.latestValues)&&(k.transform=i?i({},""):"none",this.hasProjected=!1),k}var l=j.animationValues||j.latestValues;this.applyTransformsToTarget(),h.transform=_c(this.projectionDeltaWithTransform,this.treeScale,l),i&&(h.transform=i(l,h.transform));var m=this.projectionDelta,n=m.x,o=m.y;for(var p in h.transformOrigin="".concat(100*n.origin,"% ").concat(100*o.origin,"% 0"),j.animationValues?h.opacity=j===this?null!==(e=null!==(d=l.opacity)&& void 0!==d?d:this.latestValues.opacity)&& void 0!==e?e:1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:h.opacity=j===this?null!==(f=l.opacity)&& void 0!==f?f:"":null!==(g=l.opacityExit)&& void 0!==g?g:0,$c)if(void 0!==l[p]){var q=$c[p],r=q.correct,s=q.applyTo,t=r(l[p],j);if(s)for(var u=s.length,v=0;v<u;v++)h[s[v]]=t;else h[p]=t}return this.options.layoutId&&(h.pointerEvents=j===this?kd(a.pointerEvents)||"":"none"),h},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(a){var b;return null===(b=a.currentAnimation)|| void 0===b?void 0:b.stop()}),this.root.nodes.forEach(qd),this.root.sharedNodes.clear()},a})()}function nd(a){a.updateLayout()}function od(a){var b,c,d,e,f=null!==(c=null===(b=a.resumeFrom)|| void 0===b?void 0:b.snapshot)&& void 0!==c?c:a.snapshot;if(a.isLead()&&a.layout&&f&&a.hasListeners("didUpdate")){var g=a.layout,h=g.actual,i=g.measured;"size"===a.options.animationType?ad(function(a){var b=f.isShared?f.measured[a]:f.layout[a],c=Gc(b);b.min=h[a].min,b.max=b.min+c}):"position"===a.options.animationType&&ad(function(a){var b=f.isShared?f.measured[a]:f.layout[a],c=Gc(h[a]);b.max=b.min+c});var j=Tc();Jc(j,h,f.layout);var k=Tc();f.isShared?Jc(k,a.applyTransform(i,!0),f.measured):Jc(k,h,f.layout);var l=!Xc(j),m=!1;if(!a.resumeFrom&&(a.relativeParent=a.getClosestProjectingParent(),a.relativeParent&&!a.relativeParent.resumeFrom)){var n=a.relativeParent,o=n.snapshot,p=n.layout;if(o&&p){var q=Vc();Mc(q,f.layout,o.layout);var r=Vc();Mc(r,h,p.actual),Yc(q,r)||(m=!0)}}a.notifyListeners("didUpdate",{layout:h,snapshot:f,delta:k,layoutDelta:j,hasLayoutChanged:l,hasRelativeTargetChanged:m})}else a.isLead()&&(null===(e=(d=a.options).onExitComplete)|| void 0===e||e.call(d));a.options.transition=void 0}function pd(a){a.clearSnapshot()}function qd(a){a.clearMeasurements()}function rd(a){a.resetTransform()}function sd(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0}function td(a){a.resolveTargetDelta()}function ud(a){a.calcProjection()}function vd(a){a.resetRotation()}function wd(a){a.removeLeadSnapshot()}function xd(a,b,c){a.translate=B(b.translate,0,c),a.scale=B(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function yd(a,b,c,d){a.min=B(b.min,c.min,d),a.max=B(b.max,c.max,d)}function zd(a,b,c,d){yd(a.x,b.x,c.x,d),yd(a.y,b.y,c.y,d)}function Ad(a){return a.animationValues&& void 0!==a.animationValues.opacityExit}var Bd={duration:.45,ease:[.4,0,.1,1]};function Cd(a,b){for(var c=a.root,d=a.path.length-1;d>=0;d--)if(Boolean(a.path[d].instance)){c=a.path[d];break}var e=(c&&c!==a.root?c.instance:document).querySelector("[data-projection-id=\"".concat(b,"\"]"));e&&a.mount(e,!0)}function Dd(a){a.min=Math.round(a.min),a.max=Math.round(a.max)}function Ed(a){Dd(a.x),Dd(a.y)}var Fd=1,Gd=c(5364),Hd=(0,g.createContext)({}),Id=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return(0,f.ZT)(b,a),b.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},b.prototype.componentDidUpdate=function(){},b.prototype.updateProps=function(){var a=this.props,b=a.visualElement,c=a.props;b&&b.setProps(c)},b.prototype.render=function(){return this.props.children},b}(g.Component),Jd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view",];function Kd(a){return!("string"!=typeof a||a.includes("-"))&&!!(Jd.indexOf(a)> -1||/[A-Z]/.test(a))}function Ld(a,b){var c=b.layout,d=b.layoutId;return fd(a)||hd(a)||(c|| void 0!==d)&&(!!$c[a]||"opacity"===a)}var Md={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Nd(a){return a.startsWith("--")}function Od(a,b,c,d){var e,f,g,h,i,j=a.style,k=a.vars,l=a.transform,m=a.transformKeys,n=a.transformOrigin;m.length=0;var o=!1,p=!1,q=!0;for(var r in b){var s=b[r];if(Nd(r)){k[r]=s;continue}var t,u,v=Wb[r],w=(t=s,(u=v)&&"number"==typeof t?u.transform(t):t);if(fd(r)){if(o=!0,l[r]=w,m.push(r),!q)continue;s!==(null!==(i=v.default)&& void 0!==i?i:0)&&(q=!1)}else hd(r)?(n[r]=w,p=!0):j[r]=w}o?j.transform=(function(a,b,c,d){var e=a.transform,f=a.transformKeys,g=b.enableHardwareAcceleration,h=b.allowTransformNone,i="";f.sort(dd);for(var j=!1,k=f.length,l=0;l<k;l++){var m=f[l];i+="".concat(Md[m]||m,"(").concat(e[m],") "),"z"===m&&(j=!0)}return!j&&(void 0===g||g)?i+="translateZ(0)":i=i.trim(),d?i=d(e,c?"":i):(void 0===h||h)&&c&&(i="none"),i})(a,c,q,d):d?j.transform=d({},""):!b.transform&&j.transform&&(j.transform="none"),p&&(j.transformOrigin=(f=(e=n).originX,g=e.originY,h=e.originZ,"".concat(void 0===f?"50%":f," ").concat(void 0===g?"50%":g," ").concat(void 0===h?0:h)))}var Pd=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Qd(a,b,c){for(var d in b)I(b[d])||Ld(d,c)||(a[d]=b[d])}function Rd(a,b,c){var d,e,h,i,j,k,l,m,n={},o=(d=a,e=b,h=c,Qd(i={},d.style||{},d),Object.assign(i,(j=d,k=e,l=h,m=j.transformTemplate,(0,g.useMemo)(function(){var a=Pd();Od(a,k,{enableHardwareAcceleration:!l},m);var b=a.vars,c=a.style;return(0,f.pi)((0,f.pi)({},b),c)},[k]))),d.transformValues&&(i=d.transformValues(i)),i);return Boolean(a.drag)&& !1!==a.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===a.drag?"none":"pan-".concat("x"===a.drag?"y":"x")),n.style=o,n}var Sd=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll",]);function Td(a){return Sd.has(a)}var Ud=function(a){return!Td(a)};try{(le=require("@emotion/is-prop-valid").default)&&(Ud=function(a){return a.startsWith("on")?!Td(a):le(a)})}catch(Vd){}function Wd(a,b,c){return"string"==typeof a?a:ka.transform(b+c*a)}var Xd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yd={offset:"strokeDashoffset",array:"strokeDasharray"};function Zd(a,b,c,d){var e,g,h,i,j,k,l,m,n,o,p,q,r,s=b.attrX,t=b.attrY,u=b.originX,v=b.originY,w=b.pathLength,x=b.pathSpacing,y=b.pathOffset;Od(a,(0,f._T)(b,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),c,d),a.attrs=a.style,a.style={};var z=a.attrs,A=a.style,B=a.dimensions;z.transform&&(B&&(A.transform=z.transform),delete z.transform),B&&(void 0!==u|| void 0!==v||A.transform)&&(A.transformOrigin=(e=B,g=void 0!==u?u:.5,h=void 0!==v?v:.5,i=Wd(g,e.x,e.width),j=Wd(h,e.y,e.height),"".concat(i," ").concat(j))),void 0!==s&&(z.x=s),void 0!==t&&(z.y=t),void 0!==w&&(k=z,l=w,o=!1,void 0===(m=void 0===x?1:x)&&(m=1),void 0===(n=void 0===y?0:y)&&(n=0),void 0===o&&(o=!0),k.pathLength=1,k[(p=o?Xd:Yd).offset]=ka.transform(-n),q=ka.transform(l),r=ka.transform(m),k[p.array]="".concat(q," ").concat(r))}var $d=function(){return(0,f.pi)((0,f.pi)({},Pd()),{attrs:{}})};function _d(a,b){var c=(0,g.useMemo)(function(){var c=$d();return Zd(c,b,{enableHardwareAcceleration:!1},a.transformTemplate),(0,f.pi)((0,f.pi)({},c.attrs),{style:(0,f.pi)({},c.style)})},[b]);if(a.style){var d={};Qd(d,a.style,a),c.style=(0,f.pi)((0,f.pi)({},d),c.style)}return c}var ae=/([a-z])([A-Z])/g,be=function(a){return a.replace(ae,"$1-$2").toLowerCase()};function ce(a,b,c,d){var e=b.style,f=b.vars;for(var g in Object.assign(a.style,e,d&&d.getProjectionStyles(c)),f)a.style.setProperty(g,f[g])}var de=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength",]);function ee(a,b){for(var c in ce(a,b),b.attrs)a.setAttribute(de.has(c)?c:be(c),b.attrs[c])}function fe(a){var b=a.style,c={};for(var d in b)(I(b[d])||Ld(d,a))&&(c[d]=b[d]);return c}function ge(a){var b=fe(a);for(var c in a)I(a[c])&&(b["x"===c||"y"===c?"attr"+c.toUpperCase():c]=a[c]);return b}function he(a){return"object"==typeof a&&"function"==typeof a.start}function ie(a,b,c,d){var e=a.scrapeMotionValuesFromProps,f=a.createRenderState,g=a.onMount,h={latestValues:ke(b,c,d,e),renderState:f()};return g&&(h.mount=function(a){return g(b,a,h)}),h}var je=function(a){return function(b,c){var d=(0,g.useContext)(n),e=(0,g.useContext)(o.O);return c?ie(a,b,d,e):(0,z.h)(function(){return ie(a,b,d,e)})}};function ke(a,b,c,d){var e={},g=(null==c?void 0:c.initial)=== !1,h=d(a);for(var i in h)e[i]=kd(h[i]);var j=a.initial,k=a.animate,l=w(a),m=x(a);b&&m&&!l&& !1!==a.inherit&&(null!=j||(j=b.initial),null!=k||(k=b.animate));var n=g|| !1===j,o=n?k:j;return o&&"boolean"!=typeof o&&!he(o)&&(Array.isArray(o)?o:[o]).forEach(function(b){var c=u(a,b);if(c){var d=c.transitionEnd;c.transition;var g=(0,f._T)(c,["transitionEnd","transition"]);for(var h in g){var i=g[h];if(Array.isArray(i)){var j=n?i.length-1:0;i=i[j]}null!==i&&(e[h]=i)}for(var h in d)e[h]=d[h]}}),e}var le,me,ne={useVisualState:je({scrapeMotionValuesFromProps:ge,createRenderState:$d,onMount:function(a,b,c){var d=c.renderState,e=c.latestValues;try{d.dimensions="function"==typeof b.getBBox?b.getBBox():b.getBoundingClientRect()}catch(f){d.dimensions={x:0,y:0,width:0,height:0}}Zd(d,e,{enableHardwareAcceleration:!1},a.transformTemplate),ee(b,d)}})},oe={useVisualState:je({scrapeMotionValuesFromProps:fe,createRenderState:Pd})};function pe(a,b,c,d){return a.addEventListener(b,c,d),function(){return a.removeEventListener(b,c,d)}}function qe(a,b,c,d){(0,g.useEffect)(function(){var e=a.current;if(c&&e)return pe(e,b,c,d)},[a,b,c,d])}function re(a){return"undefined"!=typeof PointerEvent&&a instanceof PointerEvent?!("mouse"!==a.pointerType):a instanceof MouseEvent}function se(a){return!!a.touches}(me=d||(d={})).Animate="animate",me.Hover="whileHover",me.Tap="whileTap",me.Drag="whileDrag",me.Focus="whileFocus",me.InView="whileInView",me.Exit="exit";var te={pageX:0,pageY:0};function ue(a,b){var c,d,e,f,g;return void 0===b&&(b="page"),{point:se(a)?(c=a,void 0===(d=b)&&(d="page"),{x:(e=c.touches[0]||c.changedTouches[0]||te)[d+"X"],y:e[d+"Y"]}):(f=a,void 0===(g=b)&&(g="page"),{x:f[g+"X"],y:f[g+"Y"]})}}var ve=function(a,b){void 0===b&&(b=!1);var c,d=function(b){return a(b,ue(b))};return b?(c=d,function(a){var b=a instanceof MouseEvent;(!b||b&&0===a.button)&&c(a)}):d},we={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},xe={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function ye(a){return p&&null===window.onpointerdown?a:p&&null===window.ontouchstart?xe[a]:p&&null===window.onmousedown?we[a]:a}function ze(a,b,c,d){return pe(a,ye(b),ve(c,"pointerdown"===b),d)}function Ae(a,b,c,d){return qe(a,ye(b),c&&ve(c,"pointerdown"===b),d)}function Be(a){var b=null;return function(){return null===b&&(b=a,function(){b=null})}}var Ce=Be("dragHorizontal"),De=Be("dragVertical");function Ee(a){var b=!1;if("y"===a)b=De();else if("x"===a)b=Ce();else{var c=Ce(),d=De();c&&d?b=function(){c(),d()}:(c&&c(),d&&d())}return b}function Fe(){var a=Ee(!0);return!a||(a(),!1)}function Ge(a,b,c){return function(e,f){var g;!re(e)||Fe()||(null===(g=a.animationState)|| void 0===g||g.setActive(d.Hover,b),null==c||c(e,f))}}var He=function(a,b){return!!b&&(a===b||He(a,b.parentElement))},Ie=c(5411),Je=new WeakMap(),Ke=new WeakMap(),Le=function(a){var b;null===(b=Je.get(a.target))|| void 0===b||b(a)},Me=function(a){a.forEach(Le)},Ne={some:0,all:1};function Oe(a,b,c,e){var h=e.root,i=e.margin,j=e.amount,k=void 0===j?"some":j,l=e.once;(0,g.useEffect)(function(){if(a){var e,g,j,m,n,o,p,q,r,s,t={root:null==h?void 0:h.current,rootMargin:i,threshold:"number"==typeof k?k:Ne[k]},u=function(a){var e,f=a.isIntersecting;if(b.isInView!==f){if(b.isInView=f,l&&!f&&b.hasEnteredView)return;f&&(b.hasEnteredView=!0),null===(e=c.animationState)|| void 0===e||e.setActive(d.InView,f);var g=c.getProps(),h=f?g.onViewportEnter:g.onViewportLeave;null==h||h(a)}};return e=c.getInstance(),g=t,j=u,n=(m=g).root,o=(0,f._T)(m,["root"]),p=n||document,Ke.has(p)||Ke.set(p,{}),(q=Ke.get(p))[r=JSON.stringify(o)]||(q[r]=new IntersectionObserver(Me,(0,f.pi)({root:n},o))),s=q[r],Je.set(e,j),s.observe(e),function(){Je.delete(e),s.unobserve(e)}}},[a,h,i,k])}function Pe(a,b,c){(0,g.useEffect)(function(){a&&requestAnimationFrame(function(){b.hasEnteredView=!0;var a,e=c.getProps().onViewportEnter;null==e||e(null),null===(a=c.animationState)|| void 0===a||a.setActive(d.InView,!0)})},[a])}var Qe=function(a){return function(b){return a(b),null}},Re={inView:Qe(function(a){var b=a.visualElement,c=a.whileInView,d=a.onViewportEnter,e=a.onViewportLeave,f=a.viewport,h=void 0===f?{}:f,i=(0,g.useRef)({hasEnteredView:!1,isInView:!1}),j=Boolean(c||d||e);h.once&&i.current.hasEnteredView&&(j=!1),("undefined"==typeof IntersectionObserver?Pe:Oe)(j,i.current,b,h)}),tap:Qe(function(a){var b=a.onTap,c=a.onTapStart,e=a.onTapCancel,f=a.whileTap,h=a.visualElement,i=(0,g.useRef)(!1),j=(0,g.useRef)(null);function k(){var a;null===(a=j.current)|| void 0===a||a.call(j),j.current=null}function l(){var a;return k(),i.current=!1,null===(a=h.animationState)|| void 0===a||a.setActive(d.Tap,!1),!Fe()}function m(a,c){l()&&(He(h.getInstance(),a.target)?null==b||b(a,c):null==e||e(a,c))}function n(a,b){l()&&(null==e||e(a,b))}Ae(h,"pointerdown",b||c||e||f?function(a,b){var e;k(),i.current||(i.current=!0,j.current=Ga(ze(window,"pointerup",m),ze(window,"pointercancel",n)),null===(e=h.animationState)|| void 0===e||e.setActive(d.Tap,!0),null==c||c(a,b))}:void 0),(0,Ie.z)(k)}),focus:Qe(function(a){var b=a.whileFocus,c=a.visualElement;qe(c,"focus",b?function(){var a;null===(a=c.animationState)|| void 0===a||a.setActive(d.Focus,!0)}:void 0),qe(c,"blur",b?function(){var a;null===(a=c.animationState)|| void 0===a||a.setActive(d.Focus,!1)}:void 0)}),hover:Qe(function(a){var b=a.onHoverStart,c=a.onHoverEnd,d=a.whileHover,e=a.visualElement;Ae(e,"pointerenter",b||d?Ge(e,!0,b):void 0),Ae(e,"pointerleave",c||d?Ge(e,!1,c):void 0)})};function Se(){var a=(0,g.useContext)(o.O);if(null===a)return[!0,null];var b=a.isPresent,c=a.onExitComplete,d=a.register,e=Ve();(0,g.useEffect)(function(){return d(e)},[]);var f=function(){return null==c?void 0:c(e)};return!b&&c?[!1,f]:[!0]}var Te=0,Ue=function(){return Te++},Ve=function(){return(0,z.h)(Ue)};function We(a,b){if(!Array.isArray(b))return!1;var c=b.length;if(c!==a.length)return!1;for(var d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}var Xe=function(a){return function(b){return b.test(a)}},Ye=[$,ka,ja,ia,ma,la,{test:function(a){return"auto"===a},parse:function(a){return a}}],Ze=function(a){return Ye.find(Xe(a))},$e=(0,f.ev)((0,f.ev)([],(0,f.CR)(Ye),!1),[wa,Da],!1);function _e(a,b,c){a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,H(c))}function af(a,b){if(b)return(b[a]||b.default||b).from}function bf(a,b,c){void 0===c&&(c={});var d,e=v(a,b,c.custom),g=(e||{}).transition,h=void 0===g?a.getDefaultTransition()||{}:g;c.transitionOverride&&(h=c.transitionOverride);var i=e?function(){return cf(a,e,c)}:function(){return Promise.resolve()},j=(null===(d=a.variantChildren)|| void 0===d?void 0:d.size)?function(d){void 0===d&&(d=0);var e=h.delayChildren,f=void 0===e?0:e,g=h.staggerChildren,i=h.staggerDirection;return df(a,b,f+d,g,i,c)}:function(){return Promise.resolve()},k=h.when;if(!k)return Promise.all([i(),j(c.delay)]);var l=(0,f.CR)("beforeChildren"===k?[i,j]:[j,i],2),m=l[0],n=l[1];return m().then(n)}function cf(a,b,c){var d,e=void 0===c?{}:c,g=e.delay,h=void 0===g?0:g,i=e.transitionOverride,j=e.type,k=a.makeTargetAnimatable(b),l=k.transition,m=void 0===l?a.getDefaultTransition():l,n=k.transitionEnd,o=(0,f._T)(k,["transition","transitionEnd"]);i&&(m=i);var p=[],q=j&&(null===(d=a.animationState)|| void 0===d?void 0:d.getState()[j]);for(var r in o){var s=a.getValue(r),t=o[r];if(!(!s|| void 0===t||q&&ff(q,r))){var u=ec(r,s,t,(0,f.pi)({delay:h},m));p.push(u)}}return Promise.all(p).then(function(){n&&(function(a,b){var c=v(a,b),d=c?a.makeTargetAnimatable(c,!1):{},e=d.transitionEnd,g=void 0===e?{}:e;d.transition;var h=(0,f._T)(d,["transitionEnd","transition"]);for(var i in h=(0,f.pi)((0,f.pi)({},h),g)){var j=_b(h[i]);_e(a,i,j)}})(a,n)})}function df(a,b,c,d,e,g){void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=1);var h=[],i=(a.variantChildren.size-1)*d,j=1===e?function(a){return void 0===a&&(a=0),a*d}:function(a){return void 0===a&&(a=0),i-a*d};return Array.from(a.variantChildren).sort(ef).forEach(function(a,d){h.push(bf(a,b,(0,f.pi)((0,f.pi)({},g),{delay:c+j(d)})).then(function(){return a.notifyAnimationComplete(b)}))}),Promise.all(h)}function ef(a,b){return a.sortNodePosition(b)}function ff(a,b){var c=a.protectedKeys,d=a.needsAnimating,e=c.hasOwnProperty(b)&& !0!==d[b];return d[b]=!1,e}var gf=[d.Animate,d.InView,d.Focus,d.Hover,d.Tap,d.Drag,d.Exit,],hf=(0,f.ev)([],(0,f.CR)(gf),!1).reverse(),jf=gf.length;function kf(a){return void 0===a&&(a=!1),{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var lf={animation:Qe(function(a){var b=a.visualElement,c=a.animate;b.animationState||(b.animationState=(function(a){var b,c,e=(c=a,function(a){return Promise.all(a.map(function(a){var b=a.animation,d=a.options;return(function(a,b,c){if(void 0===c&&(c={}),a.notifyAnimationStart(b),Array.isArray(b)){var d,e=b.map(function(b){return bf(a,b,c)});d=Promise.all(e)}else if("string"==typeof b)d=bf(a,b,c);else{var f="function"==typeof b?v(a,b,c.custom):b;d=cf(a,f,c)}return d.then(function(){return a.notifyAnimationComplete(b)})})(c,b,d)}))}),g=((b={})[d.Animate]=kf(!0),b[d.InView]=kf(),b[d.Hover]=kf(),b[d.Tap]=kf(),b[d.Drag]=kf(),b[d.Focus]=kf(),b[d.Exit]=kf(),b),h={},i=!0,j=function(b,c){var d=v(a,c);if(d){d.transition;var e=d.transitionEnd,g=(0,f._T)(d,["transition","transitionEnd"]);b=(0,f.pi)((0,f.pi)((0,f.pi)({},b),g),e)}return b};function k(b,c){for(var d,k=a.getProps(),l=a.getVariantContext(!0)||{},m=[],n=new Set(),o={},p=1/0,q=function(e){var h=hf[e],q=g[h],r=null!==(d=k[h])&& void 0!==d?d:l[h],u=t(r),v=h===c?q.isActive:null;!1===v&&(p=e);var w=r===l[h]&&r!==k[h]&&u;if(w&&i&&a.manuallyAnimateOnMount&&(w=!1),q.protectedKeys=(0,f.pi)({},o),!q.isActive&&null===v|| !r&&!q.prevProp||he(r)||"boolean"==typeof r)return"continue";var x,y,z=(x=q.prevProp,"string"==typeof(y=r)?y!==x:!!s(y)&&!We(y,x)),A=z||h===c&&q.isActive&&!w&&u||e>p&&u,B=Array.isArray(r)?r:[r],C=B.reduce(j,{});!1===v&&(C={});var D=q.prevResolvedValues,E=void 0===D?{}:D,F=(0,f.pi)((0,f.pi)({},E),C),G=function(a){A=!0,n.delete(a),q.needsAnimating[a]=!0};for(var H in F){var I=C[H],J=E[H];o.hasOwnProperty(H)||(I!==J?Lb(I)&&Lb(J)?!We(I,J)||z?G(H):q.protectedKeys[H]=!0:void 0!==I?G(H):n.add(H):void 0!==I&&n.has(H)?G(H):q.protectedKeys[H]=!0)}q.prevProp=r,q.prevResolvedValues=C,q.isActive&&(o=(0,f.pi)((0,f.pi)({},o),C)),i&&a.blockInitialAnimation&&(A=!1),A&&!w&&m.push.apply(m,(0,f.ev)([],(0,f.CR)(B.map(function(a){return{animation:a,options:(0,f.pi)({type:h},b)}})),!1))},r=0;r<jf;r++)q(r);if(h=(0,f.pi)({},o),n.size){var u={};n.forEach(function(b){var c=a.getBaseTarget(b);void 0!==c&&(u[b]=c)}),m.push({animation:u})}var v=Boolean(m.length);return i&& !1===k.initial&&!a.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(m):Promise.resolve()}return{isAnimated:function(a){return void 0!==h[a]},animateChanges:k,setActive:function(b,c,d){var e;return g[b].isActive===c?Promise.resolve():(null===(e=a.variantChildren)|| void 0===e||e.forEach(function(a){var d;return null===(d=a.animationState)|| void 0===d?void 0:d.setActive(b,c)}),g[b].isActive=c,k(d,b))},setAnimateFunction:function(b){e=b(a)},getState:function(){return g}}})(b)),he(c)&&(0,g.useEffect)(function(){return c.subscribe(b)},[c])}),exit:Qe(function(a){var b=a.custom,c=a.visualElement,e=(0,f.CR)(Se(),2),h=e[0],i=e[1],j=(0,g.useContext)(o.O);(0,g.useEffect)(function(){c.isPresent=h;var a,e,f=null===(a=c.animationState)|| void 0===a?void 0:a.setActive(d.Exit,!h,{custom:null!==(e=null==j?void 0:j.custom)&& void 0!==e?e:b});h||null==f||f.then(i)},[h])})},mf=function(){function a(a,b,c){var d=this,e=(void 0===c?{}:c).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(d.lastMoveEvent&&d.lastMoveEventInfo){var a=pf(d.lastMoveEventInfo,d.history),b=null!==d.startEvent,c=Fc(a.offset,{x:0,y:0})>=3;if(b||c){var e=a.point,g=(0,A.$B)().timestamp;d.history.push((0,f.pi)((0,f.pi)({},e),{timestamp:g}));var h=d.handlers,i=h.onStart,j=h.onMove;b||(i&&i(d.lastMoveEvent,a),d.startEvent=d.lastMoveEvent),j&&j(d.lastMoveEvent,a)}}},this.handlePointerMove=function(a,b){if(d.lastMoveEvent=a,d.lastMoveEventInfo=nf(b,d.transformPagePoint),re(a)&&0===a.buttons){d.handlePointerUp(a,b);return}A.ZP.update(d.updatePoint,!0)},this.handlePointerUp=function(a,b){d.end();var c=d.handlers,e=c.onEnd,f=c.onSessionEnd,g=pf(nf(b,d.transformPagePoint),d.history);d.startEvent&&e&&e(a,g),f&&f(a,g)},!se(a)||!(a.touches.length>1)){this.handlers=b,this.transformPagePoint=e;var g=nf(ue(a),this.transformPagePoint),h=g.point,i=(0,A.$B)().timestamp;this.history=[(0,f.pi)((0,f.pi)({},h),{timestamp:i})];var j=b.onSessionStart;j&&j(a,pf(g,this.history)),this.removeListeners=Ga(ze(window,"pointermove",this.handlePointerMove),ze(window,"pointerup",this.handlePointerUp),ze(window,"pointercancel",this.handlePointerUp))}}return a.prototype.updateHandlers=function(a){this.handlers=a},a.prototype.end=function(){this.removeListeners&&this.removeListeners(),A.qY.update(this.updatePoint)},a}();function nf(a,b){return b?{point:b(a.point)}:a}function of(a,b){return{x:a.x-b.x,y:a.y-b.y}}function pf(a,b){var c=a.point;return{point:c,delta:of(c,rf(b)),offset:of(c,qf(b)),velocity:sf(b,.1)}}function qf(a){return a[0]}function rf(a){return a[a.length-1]}function sf(a,b){if(a.length<2)return{x:0,y:0};for(var c=a.length-1,d=null,e=rf(a);c>=0;){if(d=a[c],e.timestamp-d.timestamp>Cb(b))break;c--}if(!d)return{x:0,y:0};var f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};var g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function tf(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function uf(a,b){var c,d=b.min-a.min,e=b.max-a.max;return b.max-b.min<a.max-a.min&&(d=(c=(0,f.CR)([e,d],2))[0],e=c[1]),{min:d,max:e}}function vf(a,b,c){return{min:wf(a,b),max:wf(a,c)}}function wf(a,b){var c;return"number"==typeof a?a:null!==(c=a[b])&& void 0!==c?c:0}function xf(a){var b=a.top,c=a.left,d=a.right,e=a.bottom;return{x:{min:c,max:d},y:{min:b,max:e}}}function yf(a,b){return xf(function(a,b){if(!b)return a;var c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}var zf=new WeakMap(),Af=function(){function a(a){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vc(),this.visualElement=a}return a.prototype.start=function(a,b){var c=this,e=(void 0===b?{}:b).snapToCursor,f=void 0!==e&&e;if(!1!==this.visualElement.isPresent){var g=function(a){c.stopAnimation(),f&&c.snapToCursor(ue(a,"page").point)},h=function(a,b){var e,f=c.getProps(),g=f.drag,h=f.dragPropagation,i=f.onDragStart;(!g||h||(c.openGlobalLock&&c.openGlobalLock(),c.openGlobalLock=Ee(g),c.openGlobalLock))&&(c.isDragging=!0,c.currentDirection=null,c.resolveConstraints(),c.visualElement.projection&&(c.visualElement.projection.isAnimationBlocked=!0,c.visualElement.projection.target=void 0),ad(function(a){var b,d,e=c.getAxisMotionValue(a).get()||0;if(ja.test(e)){var f=null===(d=null===(b=c.visualElement.projection)|| void 0===b?void 0:b.layout)|| void 0===d?void 0:d.actual[a];f&&(e=Gc(f)*(parseFloat(e)/100))}c.originPoint[a]=e}),null==i||i(a,b),null===(e=c.visualElement.animationState)|| void 0===e||e.setActive(d.Drag,!0))},i=function(a,b){var d=c.getProps(),e=d.dragPropagation,f=d.dragDirectionLock,g=d.onDirectionLock,h=d.onDrag;if(e||c.openGlobalLock){var i=b.offset;if(f&&null===c.currentDirection){c.currentDirection=Cf(i),null!==c.currentDirection&&(null==g||g(c.currentDirection));return}c.updateAxis("x",b.point,i),c.updateAxis("y",b.point,i),c.visualElement.syncRender(),null==h||h(a,b)}},j=function(a,b){return c.stop(a,b)};this.panSession=new mf(a,{onSessionStart:g,onStart:h,onMove:i,onSessionEnd:j},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},a.prototype.stop=function(a,b){var c=this.isDragging;if(this.cancel(),c){var d=b.velocity;this.startAnimation(d);var e=this.getProps().onDragEnd;null==e||e(a,b)}},a.prototype.cancel=function(){var a,b;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(a=this.panSession)|| void 0===a||a.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(b=this.visualElement.animationState)|| void 0===b||b.setActive(d.Drag,!1)},a.prototype.updateAxis=function(a,b,c){var d=this.getProps().drag;if(c&&Bf(a,d,this.currentDirection)){var e,f,g,h,i,j=this.getAxisMotionValue(a),k=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(k=(e=k,f=this.constraints[a],g=this.elastic[a],h=f.min,i=f.max,void 0!==h&&e<h?e=g?B(h,e,g.min):Math.max(e,h):void 0!==i&&e>i&&(e=g?B(i,e,g.max):Math.min(e,i)),e)),j.set(k)}},a.prototype.resolveConstraints=function(){var a,b,c,d,e,f,g,h=this,i=this.getProps(),j=i.dragConstraints,k=i.dragElastic,l=(this.visualElement.projection||{}).layout,m=this.constraints;j&&r(j)?this.constraints||(this.constraints=this.resolveRefConstraints()):j&&l?this.constraints=(a=l.actual,c=(b=j).top,d=b.left,e=b.bottom,f=b.right,{x:tf(a.x,d,f),y:tf(a.y,c,e)}):this.constraints=!1,void 0===(g=k)&&(g=.35),!1===g?g=0:!0===g&&(g=.35),this.elastic={x:vf(g,"left","right"),y:vf(g,"top","bottom")},m!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&ad(function(a){if(h.getAxisMotionValue(a)){var b,c,d;h.constraints[a]=(b=l.actual[a],d={},void 0!==(c=h.constraints[a]).min&&(d.min=c.min-b.min),void 0!==c.max&&(d.max=c.max-b.min),d)}})},a.prototype.resolveRefConstraints=function(){var a=this.getProps(),b=a.dragConstraints,c=a.onMeasureDragConstraints;if(!b||!r(b))return!1;var d=b.current;K(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var e=this.visualElement.projection;if(!e||!e.layout)return!1;var f,g,h,i,j,k,l=(f=d,g=e.root,h=yf(f,this.visualElement.getTransformPagePoint()),(i=g.scroll)&&(xc(h.x,i.x),xc(h.y,i.y)),h),m=(j=e.layout.actual,k=l,{x:uf(j.x,k.x),y:uf(j.y,k.y)});if(c){var n,o,p,q=c((o=(n=m).x,p=n.y,{top:p.min,right:o.max,bottom:p.max,left:o.min}));this.hasMutatedConstraints=!!q,q&&(m=xf(q))}return m},a.prototype.startAnimation=function(a){var b=this,c=this.getProps(),d=c.drag,e=c.dragMomentum,g=c.dragElastic,h=c.dragTransition,i=c.dragSnapToOrigin,j=c.onDragTransitionEnd,k=this.constraints||{},l=ad(function(c){if(Bf(c,d,b.currentDirection)){var j,l=null!==(j=null==k?void 0:k[c])&& void 0!==j?j:{};i&&(l={min:0,max:0});var m=(0,f.pi)((0,f.pi)({type:"inertia",velocity:e?a[c]:0,bounceStiffness:g?200:1e6,bounceDamping:g?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},h),l);return b.startAxisValueAnimation(c,m)}});return Promise.all(l).then(j)},a.prototype.startAxisValueAnimation=function(a,b){var c=this.getAxisMotionValue(a);return ec(a,c,0,b)},a.prototype.stopAnimation=function(){var a=this;ad(function(b){return a.getAxisMotionValue(b).stop()})},a.prototype.getAxisMotionValue=function(a){var b,c,d="_drag"+a.toUpperCase();return this.visualElement.getProps()[d]||this.visualElement.getValue(a,null!==(c=null===(b=this.visualElement.getProps().initial)|| void 0===b?void 0:b[a])&& void 0!==c?c:0)},a.prototype.snapToCursor=function(a){var b=this;ad(function(c){if(Bf(c,b.getProps().drag,b.currentDirection)){var d=b.visualElement.projection,e=b.getAxisMotionValue(c);if(d&&d.layout){var f=d.layout.actual[c],g=f.min,h=f.max;e.set(a[c]-B(g,h,.5))}}})},a.prototype.scalePositionWithinConstraints=function(){var a,b=this,c=this.getProps(),d=c.drag,e=c.dragConstraints,f=this.visualElement.projection;if(r(e)&&f&&this.constraints){this.stopAnimation();var g={x:0,y:0};ad(function(a){var c=b.getAxisMotionValue(a);if(c){var d,e,f,h,i,j=c.get();g[a]=(d={min:j,max:j},e=b.constraints[a],f=.5,h=Gc(d),i=Gc(e),i>h?f=T(e.min,e.max-h,d.min):h>i&&(f=T(d.min,d.max-i,e.min)),L(0,1,f))}});var h=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=h?h({},""):"none",null===(a=f.root)|| void 0===a||a.updateScroll(),f.updateLayout(),this.resolveConstraints(),ad(function(a){if(Bf(a,d,null)){var c=b.getAxisMotionValue(a),e=b.constraints[a],f=e.min,h=e.max;c.set(B(f,h,g[a]))}})}},a.prototype.addListeners=function(){var a,b=this;zf.set(this.visualElement,this);var c=ze(this.visualElement.getInstance(),"pointerdown",function(a){var c=b.getProps(),d=c.drag,e=c.dragListener;d&&(void 0===e||e)&&b.start(a)}),d=function(){r(b.getProps().dragConstraints)&&(b.constraints=b.resolveRefConstraints())},e=this.visualElement.projection,f=e.addEventListener("measure",d);e&&!e.layout&&(null===(a=e.root)|| void 0===a||a.updateScroll(),e.updateLayout()),d();var g=pe(window,"resize",function(){b.scalePositionWithinConstraints()});return e.addEventListener("didUpdate",function(a){var c=a.delta,d=a.hasLayoutChanged;b.isDragging&&d&&(ad(function(a){var d=b.getAxisMotionValue(a);d&&(b.originPoint[a]+=c[a].translate,d.set(d.get()+c[a].translate))}),b.visualElement.syncRender())}),function(){g(),c(),f()}},a.prototype.getProps=function(){var a=this.visualElement.getProps(),b=a.drag,c=a.dragDirectionLock,d=a.dragPropagation,e=a.dragConstraints,g=a.dragElastic,h=a.dragMomentum;return(0,f.pi)((0,f.pi)({},a),{drag:void 0!==b&&b,dragDirectionLock:void 0!==c&&c,dragPropagation:void 0!==d&&d,dragConstraints:void 0!==e&&e,dragElastic:void 0===g?.35:g,dragMomentum:void 0===h||h})},a}();function Bf(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}function Cf(a,b){void 0===b&&(b=10);var c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}var Df={pan:Qe(function(a){var b=a.onPan,c=a.onPanStart,d=a.onPanEnd,e=a.onPanSessionStart,f=a.visualElement,h=(0,g.useRef)(null),i=(0,g.useContext)(m).transformPagePoint,j={onSessionStart:e,onStart:c,onMove:b,onEnd:function(a,b){h.current=null,d&&d(a,b)}};(0,g.useEffect)(function(){null!==h.current&&h.current.updateHandlers(j)}),Ae(f,"pointerdown",(b||c||d||e)&&function(a){h.current=new mf(a,j,{transformPagePoint:i})}),(0,Ie.z)(function(){return h.current&&h.current.end()})}),drag:Qe(function(a){var b=a.dragControls,c=a.visualElement,d=(0,z.h)(function(){return new Af(c)});(0,g.useEffect)(function(){return b&&b.subscribe(d)},[d,b]),(0,g.useEffect)(function(){return d.addListeners()},[d])})},Ef=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount",],Ff=function(a){var b=a.treeType,c=void 0===b?"":b,d=a.build,e=a.getBaseTarget,g=a.makeTargetAnimatable,h=a.measureViewportBox,i=a.render,j=a.readValueFromInstance,k=a.removeValueFromRenderState,l=a.sortNodePosition,m=a.scrapeMotionValuesFromProps;return function(a,b){var n,o,p=a.parent,q=a.props,r=a.presenceId,s=a.blockInitialAnimation,u=a.visualState;void 0===b&&(b={});var v,y,z,B=!1,C=u.latestValues,D=u.renderState,E=(v=Ef.map(function(){return new F()}),y={},z={clearAllListeners:function(){return v.forEach(function(a){return a.clear()})},updatePropListeners:function(a){Ef.forEach(function(b){var c,d="on"+b,e=a[d];null===(c=y[b])|| void 0===c||c.call(y),e&&(y[b]=z[d](e))})}},v.forEach(function(a,b){z["on"+Ef[b]]=function(b){return a.add(b)},z["notify"+Ef[b]]=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];a.notify.apply(a,(0,f.ev)([],(0,f.CR)(b),!1))}}),z),G=new Map(),J=new Map(),K={},L=(0,f.pi)({},C);function M(){n&&B&&(N(),i(n,D,q.style,U.projection))}function N(){d(U,D,C,b,q)}function O(){E.notifyUpdate(C)}var P=m(q);for(var Q in P){var R=P[Q];void 0!==C[Q]&&I(R)&&R.set(C[Q],!1)}var S=w(q),T=x(q),U=(0,f.pi)((0,f.pi)({treeType:c,current:null,depth:p?p.depth+1:0,parent:p,children:new Set(),presenceId:r,variantChildren:T?new Set():void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==p?void 0:p.isMounted()),blockInitialAnimation:s,isMounted:function(){return Boolean(n)},mount:function(a){B=!0,n=U.current=a,U.projection&&U.projection.mount(a),T&&p&&!S&&(o=null==p?void 0:p.addVariantChild(U)),null==p||p.children.add(U),U.setProps(q)},unmount:function(){var a;null===(a=U.projection)|| void 0===a||a.unmount(),A.qY.update(O),A.qY.render(M),J.forEach(function(a){return a()}),null==o||o(),null==p||p.children.delete(U),E.clearAllListeners(),n=void 0,B=!1},addVariantChild:function(a){var b,c=U.getClosestVariantNode();if(c)return null===(b=c.variantChildren)|| void 0===b||b.add(a),function(){return c.variantChildren.delete(a)}},sortNodePosition:function(a){return l&&c===a.treeType?l(U.getInstance(),a.getInstance()):0},getClosestVariantNode:function(){return T?U:null==p?void 0:p.getClosestVariantNode()},getLayoutId:function(){return q.layoutId},getInstance:function(){return n},getStaticValue:function(a){return C[a]},setStaticValue:function(a,b){return C[a]=b},getLatestValues:function(){return C},setVisibility:function(a){U.isVisible!==a&&(U.isVisible=a,U.scheduleRender())},makeTargetAnimatable:function(a,b){return void 0===b&&(b=!0),g(U,a,q,b)},measureViewportBox:function(){return h(n,q)},addValue:function(a,b){var c,d,e,f;U.hasValue(a)&&U.removeValue(a),G.set(a,b),C[a]=b.get(),c=a,e=(d=b).onChange(function(a){C[c]=a,q.onUpdate&&A.ZP.update(O,!1,!0)}),f=d.onRenderRequest(U.scheduleRender),J.set(c,function(){e(),f()})},removeValue:function(a){var b;G.delete(a),null===(b=J.get(a))|| void 0===b||b(),J.delete(a),delete C[a],k(a,D)},hasValue:function(a){return G.has(a)},getValue:function(a,b){var c=G.get(a);return void 0===c&& void 0!==b&&(c=H(b),U.addValue(a,c)),c},forEachValue:function(a){return G.forEach(a)},readValue:function(a){var c;return null!==(c=C[a])&& void 0!==c?c:j(n,a,b)},setBaseTarget:function(a,b){L[a]=b},getBaseTarget:function(a){if(e){var b=e(q,a);if(void 0!==b&&!I(b))return b}return L[a]}},E),{build:function(){return N(),D},scheduleRender:function(){A.ZP.render(M,!1,!0)},syncRender:M,setProps:function(a){(a.transformTemplate||q.transformTemplate)&&U.scheduleRender(),q=a,E.updatePropListeners(a),K=(function(a,b,c){var d;for(var e in b){var f=b[e],g=c[e];if(I(f))a.addValue(e,f);else if(I(g))a.addValue(e,H(f));else if(g!==f)if(a.hasValue(e)){var h=a.getValue(e);h.hasAnimated||h.set(f)}else a.addValue(e,H(null!==(d=a.getStaticValue(e))&& void 0!==d?d:f))}for(var e in c)void 0===b[e]&&a.removeValue(e);return b})(U,m(q),K)},getProps:function(){return q},getVariant:function(a){var b;return null===(b=q.variants)|| void 0===b?void 0:b[a]},getDefaultTransition:function(){return q.transition},getTransformPagePoint:function(){return q.transformPagePoint},getVariantContext:function(a){if(void 0===a&&(a=!1),a)return null==p?void 0:p.getVariantContext();if(!S){var b=(null==p?void 0:p.getVariantContext())||{};return void 0!==q.initial&&(b.initial=q.initial),b}for(var c={},d=0;d<Hf;d++){var e=Gf[d],f=q[e];(t(f)|| !1===f)&&(c[e]=f)}return c}});return U}},Gf=(0,f.ev)(["initial"],(0,f.CR)(gf),!1),Hf=Gf.length;function If(a){return"string"==typeof a&&a.startsWith("var(--")}var Jf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Kf(a,b,c){void 0===c&&(c=1),K(c<=4,"Max CSS variable fallback depth detected in property \"".concat(a,"\". This may indicate a circular fallback dependency."));var d=(0,f.CR)(function(a){var b=Jf.exec(a);if(!b)return[,];var c=(0,f.CR)(b,3),d=c[1],e=c[2];return[d,e]}(a),2),e=d[0],g=d[1];if(e){var h=window.getComputedStyle(b).getPropertyValue(e);return h?h.trim():If(g)?Kf(g,b,c+1):g}}var Lf,Mf=new Set(["width","height","top","left","right","bottom","x","y",]),Nf=function(a){return Mf.has(a)},Of=function(a,b){a.set(b,!1),a.set(b)},Pf=function(a){return a===$||a===ka};(Lf=e||(e={})).width="width",Lf.height="height",Lf.left="left",Lf.right="right",Lf.top="top",Lf.bottom="bottom";var Qf=function(a,b){return parseFloat(a.split(", ")[b])},Rf=function(a,b){return function(c,d){var e=d.transform;if("none"===e||!e)return 0;var f=e.match(/^matrix3d\((.+)\)$/);if(f)return Qf(f[1],b);var g=e.match(/^matrix\((.+)\)$/);return g?Qf(g[1],a):0}},Sf=new Set(["x","y","z"]),Tf=cd.filter(function(a){return!Sf.has(a)}),Uf={width:function(a,b){var c=a.x,d=b.paddingLeft,e=b.paddingRight;return c.max-c.min-parseFloat(void 0===d?"0":d)-parseFloat(void 0===e?"0":e)},height:function(a,b){var c=a.y,d=b.paddingTop,e=b.paddingBottom;return c.max-c.min-parseFloat(void 0===d?"0":d)-parseFloat(void 0===e?"0":e)},top:function(a,b){return parseFloat(b.top)},left:function(a,b){return parseFloat(b.left)},bottom:function(a,b){var c=a.y;return parseFloat(b.top)+(c.max-c.min)},right:function(a,b){var c=a.x;return parseFloat(b.left)+(c.max-c.min)},x:Rf(4,13),y:Rf(5,14)},Vf=function(a,b,c){var d=b.measureViewportBox(),e=getComputedStyle(b.getInstance()),f=e.display,g={};"none"===f&&b.setStaticValue("display",a.display||"block"),c.forEach(function(a){g[a]=Uf[a](d,e)}),b.syncRender();var h=b.measureViewportBox();return c.forEach(function(c){Of(b.getValue(c),g[c]),a[c]=Uf[c](h,e)}),a},Wf=function(a,b,c,d){void 0===c&&(c={}),void 0===d&&(d={}),b=(0,f.pi)({},b),d=(0,f.pi)({},d);var e=Object.keys(b).filter(Nf),g=[],h=!1,i=[];if(e.forEach(function(e){var f,j=a.getValue(e);if(a.hasValue(e)){var k,l,m=c[e],n=Ze(m),o=b[e];if(Lb(o)){var p=o.length,q=null===o[0]?1:0;n=Ze(m=o[q]);for(var r=q;r<p;r++)f?K(Ze(o[r])===f,"All keyframes must be of the same type"):K((f=Ze(o[r]))===n||Pf(n)&&Pf(f),"Keyframes must be of the same dimension as the current value")}else f=Ze(o);if(n!==f)if(Pf(n)&&Pf(f)){var s=j.get();"string"==typeof s&&j.set(parseFloat(s)),"string"==typeof o?b[e]=parseFloat(o):Array.isArray(o)&&f===ka&&(b[e]=o.map(parseFloat))}else(null==n?void 0:n.transform)&&(null==f?void 0:f.transform)&&(0===m||0===o)?0===m?j.set(f.transform(m)):b[e]=n.transform(o):(h||(k=a,l=[],Tf.forEach(function(a){var b=k.getValue(a);void 0!==b&&(l.push([a,b.get()]),b.set(a.startsWith("scale")?1:0))}),l.length&&k.syncRender(),g=l,h=!0),i.push(e),d[e]=void 0!==d[e]?d[e]:b[e],Of(j,o))}}),!i.length)return{target:b,transitionEnd:d};var j=Vf(b,a,i);return g.length&&g.forEach(function(b){var c=(0,f.CR)(b,2),d=c[0],e=c[1];a.getValue(d).set(e)}),a.syncRender(),{target:j,transitionEnd:d}},Xf=function(a,b,c,d){var e,g,h,i,j,k=function(a,b,c){var d,e=(0,f._T)(b,[]),g=a.getInstance();if(!(g instanceof Element))return{target:e,transitionEnd:c};for(var h in c&&(c=(0,f.pi)({},c)),a.forEachValue(function(a){var b=a.get();if(If(b)){var c=Kf(b,g);c&&a.set(c)}}),e){var i=e[h];if(If(i)){var j=Kf(i,g);!!j&&(e[h]=j,c&&(null!==(d=c[h])&& void 0!==d||(c[h]=i)))}}return{target:e,transitionEnd:c}}(a,b,d);return b=k.target,d=k.transitionEnd,e=a,g=b,h=c,i=d,(j=g,Object.keys(j).some(Nf))?Wf(e,g,h,i):{target:g,transitionEnd:i}},Yf={treeType:"dom",readValueFromInstance:function(a,b){if(fd(b)){var c=Yb(b);return c?c.default||0:0}var d,e=(d=a,window.getComputedStyle(d));return(Nd(b)?e.getPropertyValue(b):e[b])||0},sortNodePosition:function(a,b){return 2&a.compareDocumentPosition(b)?1:-1},getBaseTarget:function(a,b){var c;return null===(c=a.style)|| void 0===c?void 0:c[b]},measureViewportBox:function(a,b){return yf(a,b.transformPagePoint)},resetTransform:function(a,b,c){var d=c.transformTemplate;b.style.transform=d?d({},""):"none",a.scheduleRender()},restoreTransform:function(a,b){a.style.transform=b.style.transform},removeValueFromRenderState:function(a,b){var c=b.vars,d=b.style;delete c[a],delete d[a]},makeTargetAnimatable:function(a,b,c,d){var e=c.transformValues;void 0===d&&(d=!0);var g=b.transition,h=b.transitionEnd,i=(0,f._T)(b,["transition","transitionEnd"]),j=function(a,b,c){var d,e,f={};for(var g in a)f[g]=null!==(d=af(g,b))&& void 0!==d?d:null===(e=c.getValue(g))|| void 0===e?void 0:e.get();return f}(i,g||{},a);if(e&&(h&&(h=e(h)),i&&(i=e(i)),j&&(j=e(j))),d){!function(a,b,c){var d,e,f,g,h=Object.keys(b).filter(function(b){return!a.hasValue(b)}),i=h.length;if(i)for(var j=0;j<i;j++){var k,l,m,n=h[j],o=b[n],p=null;Array.isArray(o)&&(p=o[0]),null===p&&(p=null!==(e=null!==(d=c[n])&& void 0!==d?d:a.readValue(n))&& void 0!==e?e:b[n]),null!=p&&("string"==typeof p&&(k=p,/^\-?\d*\.?\d+$/.test(k)||(l=p,/^0[^.\s]+$/.test(l)))?p=parseFloat(p):(m=p,!$e.find(Xe(m))&&Da.test(o)&&(p=Zb(n,o))),a.addValue(n,H(p)),null!==(f=(g=c)[n])&& void 0!==f||(g[n]=p),a.setBaseTarget(n,p))}}(a,i,j);var k=Xf(a,i,j,h);h=k.transitionEnd,i=k.target}return(0,f.pi)({transition:g,transitionEnd:h},i)},scrapeMotionValuesFromProps:fe,build:function(a,b,c,d,e){void 0!==a.isVisible&&(b.style.visibility=a.isVisible?"visible":"hidden"),Od(b,c,d,e.transformTemplate)},render:ce},Zf=Ff(Yf),$f=Ff((0,f.pi)((0,f.pi)({},Yf),{getBaseTarget:function(a,b){return a[b]},readValueFromInstance:function(a,b){var c;return fd(b)?(null===(c=Yb(b))|| void 0===c?void 0:c.default)||0:(b=de.has(b)?b:be(b),a.getAttribute(b))},scrapeMotionValuesFromProps:ge,build:function(a,b,c,d,e){Zd(b,c,d,e.transformTemplate)},render:ee}));function _f(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}var ag={correct:function(a,b){if(!b.target)return a;if("string"==typeof a){if(!ka.test(a))return a;a=parseFloat(a)}var c=_f(a,b.target.x),d=_f(a,b.target.y);return"".concat(c,"% ").concat(d,"%")}},bg="_$css",cg=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return(0,f.ZT)(b,a),b.prototype.componentDidMount=function(){var a,b=this,c=this.props,d=c.visualElement,e=c.layoutGroup,g=c.switchLayoutGroup,h=c.layoutId,i=d.projection;a=dg,Object.assign($c,a),i&&((null==e?void 0:e.group)&&e.group.add(i),(null==g?void 0:g.register)&&h&&g.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",function(){b.safeToRemove()}),i.setOptions((0,f.pi)((0,f.pi)({},i.options),{onExitComplete:function(){return b.safeToRemove()}}))),ld.hasEverUpdated=!0},b.prototype.getSnapshotBeforeUpdate=function(a){var b=this,c=this.props,d=c.layoutDependency,e=c.visualElement,f=c.drag,g=c.isPresent,h=e.projection;return!h||(h.isPresent=g,f||a.layoutDependency!==d|| void 0===d?h.willUpdate():this.safeToRemove(),a.isPresent===g||(g?h.promote():h.relegate()||A.ZP.postRender(function(){var a;(null===(a=h.getStack())|| void 0===a?void 0:a.members.length)||b.safeToRemove()}))),null},b.prototype.componentDidUpdate=function(){var a=this.props.visualElement.projection;a&&(a.root.didUpdate(),!a.currentAnimation&&a.isLead()&&this.safeToRemove())},b.prototype.componentWillUnmount=function(){var a=this.props,b=a.visualElement,c=a.layoutGroup,d=a.switchLayoutGroup,e=b.projection;e&&(e.scheduleCheckAfterUnmount(),(null==c?void 0:c.group)&&c.group.remove(e),(null==d?void 0:d.deregister)&&d.deregister(e))},b.prototype.safeToRemove=function(){var a=this.props.safeToRemove;null==a||a()},b.prototype.render=function(){return null},b}(g.Component),dg={borderRadius:(0,f.pi)((0,f.pi)({},ag),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius",]}),borderTopLeftRadius:ag,borderTopRightRadius:ag,borderBottomLeftRadius:ag,borderBottomRightRadius:ag,boxShadow:{correct:function(a,b){var c=b.treeScale,d=b.projectionDelta,e=a,f=a.includes("var("),g=[];f&&(a=a.replace(Jf,function(a){return g.push(a),bg}));var h=Da.parse(a);if(h.length>5)return e;var i=Da.createTransformer(a),j="number"!=typeof h[0]?1:0,k=d.x.scale*c.x,l=d.y.scale*c.y;h[0+j]/=k,h[1+j]/=l;var m=B(k,l,.5);"number"==typeof h[2+j]&&(h[2+j]/=m),"number"==typeof h[3+j]&&(h[3+j]/=m);var n=i(h);if(f){var o=0;n=n.replace(bg,function(){var a=g[o];return o++,a})}return n}}},eg=md({attachResizeListener:function(a,b){return a.addEventListener("resize",b,{passive:!0}),function(){return a.removeEventListener("resize",b)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),fg={current:void 0},gg=md({measureScroll:function(a){return{x:a.scrollLeft,y:a.scrollTop}},defaultParent:function(){if(!fg.current){var a=new eg(0,{});a.mount(window),a.setOptions({layoutScroll:!0}),fg.current=a}return fg.current},resetTransform:function(a,b){a.style.transform=null!=b?b:"none"}}),hg=(0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)({},lf),Re),Df),{measureLayout:function(a){var b=(0,f.CR)(Se(),2),c=b[0],d=b[1],e=(0,g.useContext)(Gd.p);return g.createElement(cg,(0,f.pi)({},a,{layoutGroup:e,switchLayoutGroup:(0,g.useContext)(Hd),isPresent:c,safeToRemove:d}))}}),ig=function(a){function b(b,c){var d,e,h,s,u,v,x;return void 0===c&&(c={}),e=(d=a(b,c)).preloadedFeatures,h=d.createVisualElement,s=d.projectionNodeConstructor,u=d.useRender,v=d.useVisualState,x=d.Component,e&&(function(a){for(var b in a)null!==a[b]&&("projectionNodeConstructor"===b?i.projectionNodeConstructor=a[b]:i[b].Component=a[b])})(e),(0,g.forwardRef)(function(a,b){var c,d,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y=(K=a.layoutId,(L=null===(J=(0,g.useContext)(Gd.p))|| void 0===J?void 0:J.id)&& void 0!==K?L+"-"+K:K);a=(0,f.pi)((0,f.pi)({},a),{layoutId:Y});var Z,$,_,aa=(0,g.useContext)(m),ba=null,ca=($=(Z=function(a,b){if(w(a)){var c=a.initial,d=a.animate;return{initial:!1===c||t(c)?c:void 0,animate:t(d)?d:void 0}}return!1!==a.inherit?b:{}}(a,(0,g.useContext)(n))).initial,_=Z.animate,(0,g.useMemo)(function(){return{initial:$,animate:_}},[y($),y(_)])),da=aa.isStatic?void 0:(0,z.h)(function(){if(ld.hasEverUpdated)return Fd++}),ea=v(a,aa.isStatic);return!aa.isStatic&&p&&(M=x,N=ea,O=(0,f.pi)((0,f.pi)({},aa),a),P=h,Q=(0,g.useContext)(j),R=(0,g.useContext)(n).visualElement,S=(0,g.useContext)(o.O),T=(0,g.useRef)(void 0),P||(P=Q.renderer),!T.current&&P&&(T.current=P(M,{visualState:N,parent:R,props:O,presenceId:null==S?void 0:S.id,blockInitialAnimation:(null==S?void 0:S.initial)=== !1})),U=T.current,q(function(){null==U||U.syncRender()}),(0,g.useEffect)(function(){var a;null===(a=null==U?void 0:U.animationState)|| void 0===a||a.animateChanges()}),q(function(){return function(){return null==U?void 0:U.notifyUnmount()}},[]),ca.visualElement=U,c=da,d=a,A=ca.visualElement,B=s||i.projectionNodeConstructor,D=d.layoutId,E=d.layout,F=d.drag,G=d.dragConstraints,H=d.layoutScroll,I=(0,g.useContext)(Hd),!B||!A||(null==A?void 0:A.projection)||(A.projection=new B(c,A.getLatestValues(),null===(C=A.parent)|| void 0===C?void 0:C.projection),A.projection.setOptions({layoutId:D,layout:E,alwaysMeasureLayout:Boolean(F)||G&&r(G),visualElement:A,scheduleRender:function(){return A.scheduleRender()},animationType:"string"==typeof E?E:"both",initialPromotionConfig:I,layoutScroll:H})),ba=(function(a,b,c){var d=[];if((0,g.useContext)(j),!b)return null;for(var e=0;e<l;e++){var h=k[e],m=i[h],n=m.isEnabled,o=m.Component;n(a)&&o&&d.push(g.createElement(o,(0,f.pi)({key:h},a,{visualElement:b})))}return d})(a,ca.visualElement,e)),g.createElement(Id,{visualElement:ca.visualElement,props:(0,f.pi)((0,f.pi)({},aa),a)},ba,g.createElement(n.Provider,{value:ca},u(x,a,da,(V=ea,W=ca.visualElement,X=b,(0,g.useCallback)(function(a){var b;a&&(null===(b=V.mount)|| void 0===b||b.call(V,a)),W&&(a?W.mount(a):W.unmount()),X&&("function"==typeof X?X(a):r(X)&&(X.current=a))},[W])),ea,aa.isStatic,ca.visualElement)))})}if("undefined"==typeof Proxy)return b;var c=new Map();return new Proxy(b,{get:function(a,d){return c.has(d)||c.set(d,b(d)),c.get(d)}})}(function(a,b){var c,d,e,h,i,j,k,l;return c=a,d=b,e=hg,h=function(a,b){return Kd(a)?$f(b,{enableHardwareAcceleration:!1}):Zf(b,{enableHardwareAcceleration:!0})},i=gg,j=d.forwardMotionProps,k=Kd(c)?ne:oe,(0,f.pi)((0,f.pi)({},k),{preloadedFeatures:e,useRender:(void 0===(l=void 0!==j&&j)&&(l=!1),function(a,b,c,d,e,h){var i=e.latestValues,j=(Kd(a)?_d:Rd)(b,i,h),k=function(a,b,c){var d={};for(var e in a)(Ud(e)|| !0===c&&Td(e)|| !b&&!Td(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(b,"string"==typeof a,l),m=(0,f.pi)((0,f.pi)((0,f.pi)({},k),j),{ref:d});return c&&(m["data-projection-id"]=c),(0,g.createElement)(a,m)}),createVisualElement:h,projectionNodeConstructor:i,Component:c})})},6681:function(a,b,c){"use strict";c.d(b,{h:function(){return e}});var d=c(7294);function e(a){var b=(0,d.useRef)(null);return null===b.current&&(b.current=a()),b.current}},5411:function(a,b,c){"use strict";c.d(b,{z:function(){return e}});var d=c(7294);function e(a){return(0,d.useEffect)(function(){return function(){return a()}},[])}},9073:function(a,b,c){"use strict";c.d(b,{qY:function(){return n},ZP:function(){return t},iW:function(){return o},"$B":function(){return s}});const d=1/60*1e3,e="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),f="undefined"!=typeof window?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(e()),d);let g=!0,h=!1,i=!1;const j={delta:0,timestamp:0},k=["read","update","preRender","render","postRender",],l=k.reduce((a,b)=>(a[b]=(function(a){let b=[],c=[],d=0,e=!1,f=!1;const g=new WeakSet(),h={schedule:(a,f=!1,h=!1)=>{const i=h&&e,j=i?b:c;return f&&g.add(a),-1===j.indexOf(a)&&(j.push(a),i&&e&&(d=b.length)),a},cancel:a=>{const b=c.indexOf(a);-1!==b&&c.splice(b,1),g.delete(a)},process:i=>{if(e){f=!0;return}if(e=!0,[b,c]=[c,b],c.length=0,d=b.length)for(let j=0;j<d;j++){const k=b[j];k(i),g.has(k)&&(h.schedule(k),a())}e=!1,f&&(f=!1,h.process(i))}};return h})(()=>h=!0),a),{}),m=k.reduce((a,b)=>{const c=l[b];return a[b]=(a,b=!1,d=!1)=>(h||r(),c.schedule(a,b,d)),a},{}),n=k.reduce((a,b)=>(a[b]=l[b].cancel,a),{}),o=k.reduce((a,b)=>(a[b]=()=>l[b].process(j),a),{}),p=a=>l[a].process(j),q=a=>{h=!1,j.delta=g?d:Math.max(Math.min(a-j.timestamp,40),1),j.timestamp=a,i=!0,k.forEach(p),i=!1,h&&(g=!1,f(q))},r=()=>{h=!0,g=!0,i||f(q)},s=()=>j;var t=m}},function(a){var b=function(b){return a(a.s=b)};a.O(0,[774,179],function(){return b(1780),b(387)}),_N_E=a.O()}])